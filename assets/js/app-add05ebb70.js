var JSON;if(function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){var n=[],r=n.slice,i=n.concat,o=n.push,s=n.indexOf,a={},c=a.toString,l=a.hasOwnProperty,u={},f="1.11.1",h=function(e,t){return new h.fn.init(e,t)},d=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,m=/-([\da-z])/gi,g=function(e,t){return t.toUpperCase()};function v(e){var t=e.length,n=h.type(e);return"function"!==n&&!h.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}h.fn=h.prototype={jquery:f,constructor:h,selector:"",length:0,toArray:function(){return r.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:r.call(this)},pushStack:function(e){var t=h.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return h.each(this,e,t)},map:function(e){return this.pushStack(h.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:o,sort:n.sort,splice:n.splice},h.extend=h.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,c=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||h.isFunction(s)||(s={}),a===c&&(s=this,a--);c>a;a++)if(null!=(i=arguments[a]))for(r in i)e=s[r],s!==(n=i[r])&&(l&&n&&(h.isPlainObject(n)||(t=h.isArray(n)))?(t?(t=!1,o=e&&h.isArray(e)?e:[]):o=e&&h.isPlainObject(e)?e:{},s[r]=h.extend(l,o,n)):void 0!==n&&(s[r]=n));return s},h.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===h.type(e)},isArray:Array.isArray||function(e){return"array"===h.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!h.isArray(e)&&e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==h.type(e)||e.nodeType||h.isWindow(e))return!1;try{if(e.constructor&&!l.call(e,"constructor")&&!l.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(u.ownLast)for(t in e)return l.call(e,t);for(t in e);return void 0===t||l.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?a[c.call(e)]||"object":typeof e},globalEval:function(t){t&&h.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(p,"ms-").replace(m,g)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r=0,i=e.length,o=v(e);if(n){if(o)for(;i>r&&!1!==t.apply(e[r],n);r++);else for(r in e)if(!1===t.apply(e[r],n))break}else if(o)for(;i>r&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(d,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(v(Object(e))?h.merge(n,"string"==typeof e?[e]:e):o.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(s)return s.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;)e[i++]=t[r++];if(n!=n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,s=!n;o>i;i++)!t(e[i],i)!==s&&r.push(e[i]);return r},map:function(e,t,n){var r,o=0,s=e.length,a=[];if(v(e))for(;s>o;o++)null!=(r=t(e[o],o,n))&&a.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&a.push(r);return i.apply([],a)},guid:1,proxy:function(e,t){var n,i,o;return"string"==typeof t&&(o=e[t],t=e,e=o),h.isFunction(e)?(n=r.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(r.call(arguments)))}).guid=e.guid=e.guid||h.guid++,i):void 0},now:function(){return+new Date},support:u}),h.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){a["[object "+t+"]"]=t.toLowerCase()});var b=function(e){var t,n,r,i,o,s,a,c,l,u,f,h,d,p,m,g,v,b,y,_="sizzle"+-new Date,w=e.document,k=0,x=0,S=oe(),C=oe(),A=oe(),E=function(e,t){return e===t&&(f=!0),0},T="undefined",I=1<<31,D={}.hasOwnProperty,M=[],O=M.pop,P=M.push,j=M.push,N=M.slice,B=M.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",H=F.replace("w","w#"),z="\\["+L+"*("+F+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+H+"))|)"+L+"*\\]",q=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+z+")*)|.*)\\)|)",U=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),$=new RegExp("^"+L+"*,"+L+"*"),W=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),V=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),K=new RegExp(q),G=new RegExp("^"+H+"$"),Y={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F.replace("w","w*")+")"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=/'|\\/g,ne=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),re=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{j.apply(M=N.call(w.childNodes),w.childNodes),M[w.childNodes.length].nodeType}catch(e){j={apply:M.length?function(e,t){P.apply(e,N.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ie(e,t,r,i){var o,a,l,u,f,p,v,b,k,x;if((t?t.ownerDocument||t:w)!==d&&h(t),t=t||d,r=r||[],!e||"string"!=typeof e)return r;if(1!==(u=t.nodeType)&&9!==u)return[];if(m&&!i){if(o=Q.exec(e))if(l=o[1]){if(9===u){if(!(a=t.getElementById(l))||!a.parentNode)return r;if(a.id===l)return r.push(a),r}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(l))&&y(t,a)&&a.id===l)return r.push(a),r}else{if(o[2])return j.apply(r,t.getElementsByTagName(e)),r;if((l=o[3])&&n.getElementsByClassName&&t.getElementsByClassName)return j.apply(r,t.getElementsByClassName(l)),r}if(n.qsa&&(!g||!g.test(e))){if(b=v=_,k=t,x=9===u&&e,1===u&&"object"!==t.nodeName.toLowerCase()){for(p=s(e),(v=t.getAttribute("id"))?b=v.replace(te,"\\$&"):t.setAttribute("id",b),b="[id='"+b+"'] ",f=p.length;f--;)p[f]=b+me(p[f]);k=ee.test(e)&&de(t.parentNode)||t,x=p.join(",")}if(x)try{return j.apply(r,k.querySelectorAll(x)),r}catch(e){}finally{v||t.removeAttribute("id")}}}return c(e.replace(U,"$1"),t,r,i)}function oe(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function se(e){return e[_]=!0,e}function ae(e){var t=d.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var n=e.split("|"),i=e.length;i--;)r.attrHandle[n[i]]=t}function le(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||I)-(~e.sourceIndex||I);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ue(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function he(e){return se(function(t){return t=+t,se(function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function de(e){return e&&typeof e.getElementsByTagName!==T&&e}for(t in n=ie.support={},o=ie.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},h=ie.setDocument=function(e){var t,i=e?e.ownerDocument||e:w,s=i.defaultView;return i!==d&&9===i.nodeType&&i.documentElement?(d=i,p=i.documentElement,m=!o(i),s&&s!==s.top&&(s.addEventListener?s.addEventListener("unload",function(){h()},!1):s.attachEvent&&s.attachEvent("onunload",function(){h()})),n.attributes=ae(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ae(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Z.test(i.getElementsByClassName)&&ae(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),n.getById=ae(function(e){return p.appendChild(e).id=_,!i.getElementsByName||!i.getElementsByName(_).length}),n.getById?(r.find.ID=function(e,t){if(typeof t.getElementById!==T&&m){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(ne,re);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(ne,re);return function(e){var n=typeof e.getAttributeNode!==T&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==T?t.getElementsByTagName(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==T&&m?t.getElementsByClassName(e):void 0},v=[],g=[],(n.qsa=Z.test(i.querySelectorAll))&&(ae(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&g.push("[*^$]="+L+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+L+"*(?:value|"+R+")"),e.querySelectorAll(":checked").length||g.push(":checked")}),ae(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+L+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=Z.test(b=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ae(function(e){n.disconnectedMatch=b.call(e,"div"),b.call(e,"[s!='']:x"),v.push("!=",q)}),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=Z.test(p.compareDocumentPosition),y=t||Z.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},E=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===i||e.ownerDocument===w&&y(w,e)?-1:t===i||t.ownerDocument===w&&y(w,t)?1:u?B.call(u,e)-B.call(u,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,o=e.parentNode,s=t.parentNode,a=[e],c=[t];if(!o||!s)return e===i?-1:t===i?1:o?-1:s?1:u?B.call(u,e)-B.call(u,t):0;if(o===s)return le(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;a[r]===c[r];)r++;return r?le(a[r],c[r]):a[r]===w?-1:c[r]===w?1:0},i):d},ie.matches=function(e,t){return ie(e,null,null,t)},ie.matchesSelector=function(e,t){if((e.ownerDocument||e)!==d&&h(e),t=t.replace(V,"='$1']"),!(!n.matchesSelector||!m||v&&v.test(t)||g&&g.test(t)))try{var r=b.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return ie(t,d,null,[e]).length>0},ie.contains=function(e,t){return(e.ownerDocument||e)!==d&&h(e),y(e,t)},ie.attr=function(e,t){(e.ownerDocument||e)!==d&&h(e);var i=r.attrHandle[t.toLowerCase()],o=i&&D.call(r.attrHandle,t.toLowerCase())?i(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},ie.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ie.uniqueSort=function(e){var t,r=[],i=0,o=0;if(f=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(E),f){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return u=null,e},i=ie.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=ie.selectors={cacheLength:50,createPseudo:se,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ne,re),e[3]=(e[3]||e[4]||e[5]||"").replace(ne,re),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ie.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ie.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Y.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&K.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ne,re).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+L+")"+e+"("+L+"|$)"))&&S(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==T&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ie.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,c){var l,u,f,h,d,p,m=o!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),b=!c&&!a;if(g){if(o){for(;m;){for(f=t;f=f[m];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&b){for(d=(l=(u=g[_]||(g[_]={}))[e]||[])[0]===k&&l[1],h=l[0]===k&&l[2],f=d&&g.childNodes[d];f=++d&&f&&f[m]||(h=d=0)||p.pop();)if(1===f.nodeType&&++h&&f===t){u[e]=[k,d,h];break}}else if(b&&(l=(t[_]||(t[_]={}))[e])&&l[0]===k)h=l[1];else for(;(f=++d&&f&&f[m]||(h=d=0)||p.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++h||(b&&((f[_]||(f[_]={}))[e]=[k,h]),f!==t)););return(h-=i)===r||h%r==0&&h/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ie.error("unsupported pseudo: "+e);return i[_]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,n){for(var r,o=i(e,t),s=o.length;s--;)e[r=B.call(e,o[s])]=!(n[r]=o[s])}):function(e){return i(e,0,n)}):i}},pseudos:{not:se(function(e){var t=[],n=[],r=a(e.replace(U,"$1"));return r[_]?se(function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:se(function(e){return function(t){return ie(e,t).length>0}}),contains:se(function(e){return function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:se(function(e){return G.test(e||"")||ie.error("unsupported lang: "+e),e=e.replace(ne,re).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[0>n?n+t:n]}),even:he(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:he(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ue(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=fe(t);function pe(){}function me(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function ge(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=x++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,s){var a,c,l=[k,o];if(s){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if((a=(c=t[_]||(t[_]={}))[r])&&a[0]===k&&a[1]===o)return l[2]=a[2];if(c[r]=l,l[2]=e(t,n,s))return!0}}}function ve(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function be(e,t,n,r,i){for(var o,s=[],a=0,c=e.length,l=null!=t;c>a;a++)(o=e[a])&&(!n||n(o,r,i))&&(s.push(o),l&&t.push(a));return s}function ye(e,t,n,r,i,o){return r&&!r[_]&&(r=ye(r)),i&&!i[_]&&(i=ye(i,o)),se(function(o,s,a,c){var l,u,f,h=[],d=[],p=s.length,m=o||function(e,t,n){for(var r=0,i=t.length;i>r;r++)ie(e,t[r],n);return n}(t||"*",a.nodeType?[a]:a,[]),g=!e||!o&&t?m:be(m,h,e,a,c),v=n?i||(o?e:p||r)?[]:s:g;if(n&&n(g,v,a,c),r)for(l=be(v,d),r(l,[],a,c),u=l.length;u--;)(f=l[u])&&(v[d[u]]=!(g[d[u]]=f));if(o){if(i||e){if(i){for(l=[],u=v.length;u--;)(f=v[u])&&l.push(g[u]=f);i(null,v=[],l,c)}for(u=v.length;u--;)(f=v[u])&&(l=i?B.call(o,f):h[u])>-1&&(o[l]=!(s[l]=f))}}else v=be(v===s?v.splice(p,v.length):v),i?i(null,s,v,c):j.apply(s,v)})}function _e(e){for(var t,n,i,o=e.length,s=r.relative[e[0].type],a=s||r.relative[" "],c=s?1:0,u=ge(function(e){return e===t},a,!0),f=ge(function(e){return B.call(t,e)>-1},a,!0),h=[function(e,n,r){return!s&&(r||n!==l)||((t=n).nodeType?u(e,n,r):f(e,n,r))}];o>c;c++)if(n=r.relative[e[c].type])h=[ge(ve(h),n)];else{if((n=r.filter[e[c].type].apply(null,e[c].matches))[_]){for(i=++c;o>i&&!r.relative[e[i].type];i++);return ye(c>1&&ve(h),c>1&&me(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(U,"$1"),n,i>c&&_e(e.slice(c,i)),o>i&&_e(e=e.slice(i)),o>i&&me(e))}h.push(n)}return ve(h)}function we(e,t){var n=t.length>0,i=e.length>0,o=function(o,s,a,c,u){var f,h,p,m=0,g="0",v=o&&[],b=[],y=l,_=o||i&&r.find.TAG("*",u),w=k+=null==y?1:Math.random()||.1,x=_.length;for(u&&(l=s!==d&&s);g!==x&&null!=(f=_[g]);g++){if(i&&f){for(h=0;p=e[h++];)if(p(f,s,a)){c.push(f);break}u&&(k=w)}n&&((f=!p&&f)&&m--,o&&v.push(f))}if(m+=g,n&&g!==m){for(h=0;p=t[h++];)p(v,b,s,a);if(o){if(m>0)for(;g--;)v[g]||b[g]||(b[g]=O.call(c));b=be(b)}j.apply(c,b),u&&!o&&b.length>0&&m+t.length>1&&ie.uniqueSort(c)}return u&&(k=w,l=y),v};return n?se(o):o}return pe.prototype=r.filters=r.pseudos,r.setFilters=new pe,s=ie.tokenize=function(e,t){var n,i,o,s,a,c,l,u=C[e+" "];if(u)return t?0:u.slice(0);for(a=e,c=[],l=r.preFilter;a;){for(s in(!n||(i=$.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),c.push(o=[])),n=!1,(i=W.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(U," ")}),a=a.slice(n.length)),r.filter)!(i=Y[s].exec(a))||l[s]&&!(i=l[s](i))||(n=i.shift(),o.push({value:n,type:s,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ie.error(e):C(e,c).slice(0)},a=ie.compile=function(e,t){var n,r=[],i=[],o=A[e+" "];if(!o){for(t||(t=s(e)),n=t.length;n--;)(o=_e(t[n]))[_]?r.push(o):i.push(o);(o=A(e,we(i,r))).selector=e}return o},c=ie.select=function(e,t,i,o){var c,l,u,f,h,d="function"==typeof e&&e,p=!o&&s(e=d.selector||e);if(i=i||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&n.getById&&9===t.nodeType&&m&&r.relative[l[1].type]){if(!(t=(r.find.ID(u.matches[0].replace(ne,re),t)||[])[0]))return i;d&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(c=Y.needsContext.test(e)?0:l.length;c--&&(u=l[c],!r.relative[f=u.type]);)if((h=r.find[f])&&(o=h(u.matches[0].replace(ne,re),ee.test(l[0].type)&&de(t.parentNode)||t))){if(l.splice(c,1),!(e=o.length&&me(l)))return j.apply(i,o),i;break}}return(d||a(e,p))(o,t,!m,i,ee.test(e)&&de(t.parentNode)||t),i},n.sortStable=_.split("").sort(E).join("")===_,n.detectDuplicates=!!f,h(),n.sortDetached=ae(function(e){return 1&e.compareDocumentPosition(d.createElement("div"))}),ae(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ce("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ae(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ce("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),ae(function(e){return null==e.getAttribute("disabled")})||ce(R,function(e,t,n){var r;return n?void 0:!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),ie}(e);h.find=b,h.expr=b.selectors,h.expr[":"]=h.expr.pseudos,h.unique=b.uniqueSort,h.text=b.getText,h.isXMLDoc=b.isXML,h.contains=b.contains;var y=h.expr.match.needsContext,_=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function k(e,t,n){if(h.isFunction(t))return h.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return h.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(w.test(t))return h.filter(t,e,n);t=h.filter(t,e)}return h.grep(e,function(e){return h.inArray(e,t)>=0!==n})}h.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?h.find.matchesSelector(r,e)?[r]:[]:h.find.matches(e,h.grep(t,function(e){return 1===e.nodeType}))},h.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(h(e).filter(function(){for(t=0;i>t;t++)if(h.contains(r[t],this))return!0}));for(t=0;i>t;t++)h.find(e,r[t],n);return(n=this.pushStack(i>1?h.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(k(this,e||[],!1))},not:function(e){return this.pushStack(k(this,e||[],!0))},is:function(e){return!!k(this,"string"==typeof e&&y.test(e)?h(e):e||[],!1).length}});var x,S=e.document,C=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(h.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:C.exec(e))||!n[1]&&t)return!t||t.jquery?(t||x).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof h?t[0]:t,h.merge(this,h.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:S,!0)),_.test(n[1])&&h.isPlainObject(t))for(n in t)h.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if((r=S.getElementById(n[2]))&&r.parentNode){if(r.id!==n[2])return x.find(e);this.length=1,this[0]=r}return this.context=S,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):h.isFunction(e)?void 0!==x.ready?x.ready(e):e(h):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),h.makeArray(e,this))}).prototype=h.fn,x=h(S);var A=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};function T(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}h.extend({dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!h(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),h.fn.extend({has:function(e){var t,n=h(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(h.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],s=y.test(e)||"string"!=typeof e?h(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&h.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?h.unique(o):o)},index:function(e){return e?"string"==typeof e?h.inArray(this[0],h(e)):h.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(h.unique(h.merge(this.get(),h(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),h.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h.dir(e,"parentNode")},parentsUntil:function(e,t,n){return h.dir(e,"parentNode",n)},next:function(e){return T(e,"nextSibling")},prev:function(e){return T(e,"previousSibling")},nextAll:function(e){return h.dir(e,"nextSibling")},prevAll:function(e){return h.dir(e,"previousSibling")},nextUntil:function(e,t,n){return h.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return h.dir(e,"previousSibling",n)},siblings:function(e){return h.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return h.sibling(e.firstChild)},contents:function(e){return h.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:h.merge([],e.childNodes)}},function(e,t){h.fn[e]=function(n,r){var i=h.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=h.filter(r,i)),this.length>1&&(E[e]||(i=h.unique(i)),A.test(e)&&(i=i.reverse())),this.pushStack(i)}});var I,D=/\S+/g,M={};function O(){S.addEventListener?(S.removeEventListener("DOMContentLoaded",P,!1),e.removeEventListener("load",P,!1)):(S.detachEvent("onreadystatechange",P),e.detachEvent("onload",P))}function P(){(S.addEventListener||"load"===event.type||"complete"===S.readyState)&&(O(),h.ready())}h.Callbacks=function(e){var t,n,r,i,o,s,a=[],c=!(e="string"==typeof e?M[e]||function(e){var t=M[e]={};return h.each(e.match(D)||[],function(e,n){t[n]=!0}),t}(e):h.extend({},e)).once&&[],l=function(f){for(n=e.memory&&f,r=!0,o=s||0,s=0,i=a.length,t=!0;a&&i>o;o++)if(!1===a[o].apply(f[0],f[1])&&e.stopOnFalse){n=!1;break}t=!1,a&&(c?c.length&&l(c.shift()):n?a=[]:u.disable())},u={add:function(){if(a){var r=a.length;!function t(n){h.each(n,function(n,r){var i=h.type(r);"function"===i?e.unique&&u.has(r)||a.push(r):r&&r.length&&"string"!==i&&t(r)})}(arguments),t?i=a.length:n&&(s=r,l(n))}return this},remove:function(){return a&&h.each(arguments,function(e,n){for(var r;(r=h.inArray(n,a,r))>-1;)a.splice(r,1),t&&(i>=r&&i--,o>=r&&o--)}),this},has:function(e){return e?h.inArray(e,a)>-1:!(!a||!a.length)},empty:function(){return a=[],i=0,this},disable:function(){return a=c=n=void 0,this},disabled:function(){return!a},lock:function(){return c=void 0,n||u.disable(),this},locked:function(){return!c},fireWith:function(e,n){return!a||r&&!c||(n=[e,(n=n||[]).slice?n.slice():n],t?c.push(n):l(n)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},h.extend({Deferred:function(e){var t=[["resolve","done",h.Callbacks("once memory"),"resolved"],["reject","fail",h.Callbacks("once memory"),"rejected"],["notify","progress",h.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return h.Deferred(function(n){h.each(t,function(t,o){var s=h.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&h.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?h.extend(e,r):r}},i={};return r.pipe=r.then,h.each(t,function(e,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,i,o=0,s=r.call(arguments),a=s.length,c=1!==a||e&&h.isFunction(e.promise)?a:0,l=1===c?e:h.Deferred(),u=function(e,n,i){return function(o){n[e]=this,i[e]=arguments.length>1?r.call(arguments):o,i===t?l.notifyWith(n,i):--c||l.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);a>o;o++)s[o]&&h.isFunction(s[o].promise)?s[o].promise().done(u(o,i,s)).fail(l.reject).progress(u(o,n,t)):--c;return c||l.resolveWith(i,s),l.promise()}}),h.fn.ready=function(e){return h.ready.promise().done(e),this},h.extend({isReady:!1,readyWait:1,holdReady:function(e){e?h.readyWait++:h.ready(!0)},ready:function(e){if(!0===e?!--h.readyWait:!h.isReady){if(!S.body)return setTimeout(h.ready);h.isReady=!0,!0!==e&&--h.readyWait>0||(I.resolveWith(S,[h]),h.fn.triggerHandler&&(h(S).triggerHandler("ready"),h(S).off("ready")))}}}),h.ready.promise=function(t){if(!I)if(I=h.Deferred(),"complete"===S.readyState)setTimeout(h.ready);else if(S.addEventListener)S.addEventListener("DOMContentLoaded",P,!1),e.addEventListener("load",P,!1);else{S.attachEvent("onreadystatechange",P),e.attachEvent("onload",P);var n=!1;try{n=null==e.frameElement&&S.documentElement}catch(e){}n&&n.doScroll&&function e(){if(!h.isReady){try{n.doScroll("left")}catch(t){return setTimeout(e,50)}O(),h.ready()}}()}return I.promise(t)};var j,N="undefined";for(j in h(u))break;u.ownLast="0"!==j,u.inlineBlockNeedsLayout=!1,h(function(){var e,t,n,r;(n=S.getElementsByTagName("body")[0])&&n.style&&(t=S.createElement("div"),(r=S.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==N&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",u.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=S.createElement("div");if(null==u.deleteExpando){u.deleteExpando=!0;try{delete e.test}catch(e){u.deleteExpando=!1}}e=null}(),h.acceptData=function(e){var t=h.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)};var B=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,R=/([A-Z])/g;function L(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(R,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:B.test(n)?h.parseJSON(n):n)}catch(e){}h.data(e,t,n)}else n=void 0}return n}function F(e){var t;for(t in e)if(("data"!==t||!h.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function H(e,t,r,i){if(h.acceptData(e)){var o,s,a=h.expando,c=e.nodeType,l=c?h.cache:e,u=c?e[a]:e[a]&&a;if(u&&l[u]&&(i||l[u].data)||void 0!==r||"string"!=typeof t)return u||(u=c?e[a]=n.pop()||h.guid++:a),l[u]||(l[u]=c?{}:{toJSON:h.noop}),("object"==typeof t||"function"==typeof t)&&(i?l[u]=h.extend(l[u],t):l[u].data=h.extend(l[u].data,t)),s=l[u],i||(s.data||(s.data={}),s=s.data),void 0!==r&&(s[h.camelCase(t)]=r),"string"==typeof t?null==(o=s[t])&&(o=s[h.camelCase(t)]):o=s,o}}function z(e,t,n){if(h.acceptData(e)){var r,i,o=e.nodeType,s=o?h.cache:e,a=o?e[h.expando]:h.expando;if(s[a]){if(t&&(r=n?s[a]:s[a].data)){h.isArray(t)?t=t.concat(h.map(t,h.camelCase)):t in r?t=[t]:t=(t=h.camelCase(t))in r?[t]:t.split(" "),i=t.length;for(;i--;)delete r[t[i]];if(n?!F(r):!h.isEmptyObject(r))return}(n||(delete s[a].data,F(s[a])))&&(o?h.cleanData([e],!0):u.deleteExpando||s!=s.window?delete s[a]:s[a]=null)}}}h.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?h.cache[e[h.expando]]:e[h.expando])&&!F(e)},data:function(e,t,n){return H(e,t,n)},removeData:function(e,t){return z(e,t)},_data:function(e,t,n){return H(e,t,n,!0)},_removeData:function(e,t){return z(e,t,!0)}}),h.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=h.data(o),1===o.nodeType&&!h._data(o,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&(0===(r=s[n].name).indexOf("data-")&&L(o,r=h.camelCase(r.slice(5)),i[r]));h._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){h.data(this,e)}):arguments.length>1?this.each(function(){h.data(this,e,t)}):o?L(o,e,h.data(o,e)):void 0},removeData:function(e){return this.each(function(){h.removeData(this,e)})}}),h.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=h._data(e,t),n&&(!r||h.isArray(n)?r=h._data(e,t,h.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=h.queue(e,t),r=n.length,i=n.shift(),o=h._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){h.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return h._data(e,n)||h._data(e,n,{empty:h.Callbacks("once memory").add(function(){h._removeData(e,t+"queue"),h._removeData(e,n)})})}}),h.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?h.queue(this[0],e):void 0===t?this:this.each(function(){var n=h.queue(this,e,t);h._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&h.dequeue(this,e)})},dequeue:function(e){return this.each(function(){h.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=h.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=h._data(o[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,U=["Top","Right","Bottom","Left"],$=function(e,t){return e=t||e,"none"===h.css(e,"display")||!h.contains(e.ownerDocument,e)},W=h.access=function(e,t,n,r,i,o,s){var a=0,c=e.length,l=null==n;if("object"===h.type(n))for(a in i=!0,n)h.access(e,t,a,n[a],!0,o,s);else if(void 0!==r&&(i=!0,h.isFunction(r)||(s=!0),l&&(s?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(h(e),n)})),t))for(;c>a;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:l?t.call(e):c?t(e[0],n):o},V=/^(?:checkbox|radio)$/i;!function(){var e=S.createElement("input"),t=S.createElement("div"),n=S.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",u.leadingWhitespace=3===t.firstChild.nodeType,u.tbody=!t.getElementsByTagName("tbody").length,u.htmlSerialize=!!t.getElementsByTagName("link").length,u.html5Clone="<:nav></:nav>"!==S.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),u.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",u.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",u.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,u.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){u.noCloneEvent=!1}),t.cloneNode(!0).click()),null==u.deleteExpando){u.deleteExpando=!0;try{delete t.test}catch(e){u.deleteExpando=!1}}}(),function(){var t,n,r=S.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(u[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),u[t+"Bubbles"]=!1===r.attributes[n].expando);r=null}();var K=/^(?:input|select|textarea)$/i,G=/^key/,Y=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,J=/^([^.]*)(?:\.(.+)|)$/;function Z(){return!0}function Q(){return!1}function ee(){try{return S.activeElement}catch(e){}}function te(e){var t=ne.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}h.event={global:{},add:function(e,t,n,r,i){var o,s,a,c,l,u,f,d,p,m,g,v=h._data(e);if(v){for(n.handler&&(n=(c=n).handler,i=c.selector),n.guid||(n.guid=h.guid++),(s=v.events)||(s=v.events={}),(u=v.handle)||((u=v.handle=function(e){return typeof h===N||e&&h.event.triggered===e.type?void 0:h.event.dispatch.apply(u.elem,arguments)}).elem=e),a=(t=(t||"").match(D)||[""]).length;a--;)p=g=(o=J.exec(t[a])||[])[1],m=(o[2]||"").split(".").sort(),p&&(l=h.event.special[p]||{},p=(i?l.delegateType:l.bindType)||p,l=h.event.special[p]||{},f=h.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&h.expr.match.needsContext.test(i),namespace:m.join(".")},c),(d=s[p])||((d=s[p]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(e,r,m,u)||(e.addEventListener?e.addEventListener(p,u,!1):e.attachEvent&&e.attachEvent("on"+p,u))),l.add&&(l.add.call(e,f),f.handler.guid||(f.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,f):d.push(f),h.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var o,s,a,c,l,u,f,d,p,m,g,v=h.hasData(e)&&h._data(e);if(v&&(u=v.events)){for(l=(t=(t||"").match(D)||[""]).length;l--;)if(p=g=(a=J.exec(t[l])||[])[1],m=(a[2]||"").split(".").sort(),p){for(f=h.event.special[p]||{},d=u[p=(r?f.delegateType:f.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),c=o=d.length;o--;)s=d[o],!i&&g!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||r&&r!==s.selector&&("**"!==r||!s.selector)||(d.splice(o,1),s.selector&&d.delegateCount--,f.remove&&f.remove.call(e,s));c&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,m,v.handle)||h.removeEvent(e,p,v.handle),delete u[p])}else for(p in u)h.event.remove(e,p+t[l],n,r,!0);h.isEmptyObject(u)&&(delete v.handle,h._removeData(e,"events"))}},trigger:function(t,n,r,i){var o,s,a,c,u,f,d,p=[r||S],m=l.call(t,"type")?t.type:t,g=l.call(t,"namespace")?t.namespace.split("."):[];if(a=f=r=r||S,3!==r.nodeType&&8!==r.nodeType&&!X.test(m+h.event.triggered)&&(m.indexOf(".")>=0&&(m=(g=m.split(".")).shift(),g.sort()),s=m.indexOf(":")<0&&"on"+m,(t=t[h.expando]?t:new h.Event(m,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=g.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:h.makeArray(n,[t]),u=h.event.special[m]||{},i||!u.trigger||!1!==u.trigger.apply(r,n))){if(!i&&!u.noBubble&&!h.isWindow(r)){for(c=u.delegateType||m,X.test(c+m)||(a=a.parentNode);a;a=a.parentNode)p.push(a),f=a;f===(r.ownerDocument||S)&&p.push(f.defaultView||f.parentWindow||e)}for(d=0;(a=p[d++])&&!t.isPropagationStopped();)t.type=d>1?c:u.bindType||m,(o=(h._data(a,"events")||{})[t.type]&&h._data(a,"handle"))&&o.apply(a,n),(o=s&&a[s])&&o.apply&&h.acceptData(a)&&(t.result=o.apply(a,n),!1===t.result&&t.preventDefault());if(t.type=m,!i&&!t.isDefaultPrevented()&&(!u._default||!1===u._default.apply(p.pop(),n))&&h.acceptData(r)&&s&&r[m]&&!h.isWindow(r)){(f=r[s])&&(r[s]=null),h.event.triggered=m;try{r[m]()}catch(e){}h.event.triggered=void 0,f&&(r[s]=f)}return t.result}},dispatch:function(e){e=h.event.fix(e);var t,n,i,o,s,a=[],c=r.call(arguments),l=(h._data(this,"events")||{})[e.type]||[],u=h.event.special[e.type]||{};if(c[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(a=h.event.handlers.call(this,e,l),t=0;(o=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,s=0;(i=o.handlers[s++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,void 0!==(n=((h.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,c))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,s=[],a=t.delegateCount,c=e.target;if(a&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(!0!==c.disabled||"click"!==e.type)){for(i=[],o=0;a>o;o++)void 0===i[n=(r=t[o]).selector+" "]&&(i[n]=r.needsContext?h(n,this).index(c)>=0:h.find(n,this,null,[c]).length),i[n]&&i.push(r);i.length&&s.push({elem:c,handlers:i})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},fix:function(e){if(e[h.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=Y.test(i)?this.mouseHooks:G.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new h.Event(o),t=r.length;t--;)e[n=r[t]]=o[n];return e.target||(e.target=o.srcElement||S),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=(r=e.target.ownerDocument||S).documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ee()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===ee()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return h.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return h.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=h.extend(new h.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?h.event.trigger(i,null,t):h.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},h.removeEvent=S.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===N&&(e[r]=null),e.detachEvent(r,n))},h.Event=function(e,t){return this instanceof h.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Z:Q):this.type=e,t&&h.extend(this,t),this.timeStamp=e&&e.timeStamp||h.now(),void(this[h.expando]=!0)):new h.Event(e,t)},h.Event.prototype={isDefaultPrevented:Q,isPropagationStopped:Q,isImmediatePropagationStopped:Q,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Z,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Z,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Z,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},h.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){h.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return(!r||r!==this&&!h.contains(this,r))&&(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),u.submitBubbles||(h.event.special.submit={setup:function(){return!h.nodeName(this,"form")&&void h.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=h.nodeName(t,"input")||h.nodeName(t,"button")?t.form:void 0;n&&!h._data(n,"submitBubbles")&&(h.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),h._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&h.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return!h.nodeName(this,"form")&&void h.event.remove(this,"._submit")}}),u.changeBubbles||(h.event.special.change={setup:function(){return K.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(h.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),h.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),h.event.simulate("change",this,e,!0)})),!1):void h.event.add(this,"beforeactivate._change",function(e){var t=e.target;K.test(t.nodeName)&&!h._data(t,"changeBubbles")&&(h.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||h.event.simulate("change",this.parentNode,e,!0)}),h._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return h.event.remove(this,"._change"),!K.test(this.nodeName)}}),u.focusinBubbles||h.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){h.event.simulate(t,e.target,h.event.fix(e),!0)};h.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=h._data(r,t);i||r.addEventListener(e,n,!0),h._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=h._data(r,t)-1;i?h._data(r,t,i):(r.removeEventListener(e,n,!0),h._removeData(r,t))}}}),h.fn.extend({on:function(e,t,n,r,i){var o,s;if("object"==typeof e){for(o in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),!1===r)r=Q;else if(!r)return this;return 1===i&&(s=r,(r=function(e){return h().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=h.guid++)),this.each(function(){h.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,h(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(!1===t||"function"==typeof t)&&(n=t,t=void 0),!1===n&&(n=Q),this.each(function(){h.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){h.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?h.event.trigger(e,t,n,!0):void 0}});var ne="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",re=/ jQuery\d+="(?:null|\d+)"/g,ie=new RegExp("<(?:"+ne+")[\\s/>]","i"),oe=/^\s+/,se=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ae=/<([\w:]+)/,ce=/<tbody/i,le=/<|&#?\w+;/,ue=/<(?:script|style|link)/i,fe=/checked\s*(?:[^=]|=\s*.checked.)/i,he=/^$|\/(?:java|ecma)script/i,de=/^true\/(.*)/,pe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,me={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:u.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ge=te(S).appendChild(S.createElement("div"));function ve(e,t){var n,r,i=0,o=typeof e.getElementsByTagName!==N?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==N?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||h.nodeName(r,t)?o.push(r):h.merge(o,ve(r,t));return void 0===t||t&&h.nodeName(e,t)?h.merge([e],o):o}function be(e){V.test(e.type)&&(e.defaultChecked=e.checked)}function ye(e,t){return h.nodeName(e,"table")&&h.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function _e(e){return e.type=(null!==h.find.attr(e,"type"))+"/"+e.type,e}function we(e){var t=de.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function ke(e,t){for(var n,r=0;null!=(n=e[r]);r++)h._data(n,"globalEval",!t||h._data(t[r],"globalEval"))}function xe(e,t){if(1===t.nodeType&&h.hasData(e)){var n,r,i,o=h._data(e),s=h._data(t,o),a=o.events;if(a)for(n in delete s.handle,s.events={},a)for(r=0,i=a[n].length;i>r;r++)h.event.add(t,n,a[n][r]);s.data&&(s.data=h.extend({},s.data))}}function Se(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!u.noCloneEvent&&t[h.expando]){for(r in(i=h._data(t)).events)h.removeEvent(t,r,i.handle);t.removeAttribute(h.expando)}"script"===n&&t.text!==e.text?(_e(t).text=e.text,we(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),u.html5Clone&&e.innerHTML&&!h.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&V.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}me.optgroup=me.option,me.tbody=me.tfoot=me.colgroup=me.caption=me.thead,me.th=me.td,h.extend({clone:function(e,t,n){var r,i,o,s,a,c=h.contains(e.ownerDocument,e);if(u.html5Clone||h.isXMLDoc(e)||!ie.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(ge.innerHTML=e.outerHTML,ge.removeChild(o=ge.firstChild)),!(u.noCloneEvent&&u.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||h.isXMLDoc(e)))for(r=ve(o),a=ve(e),s=0;null!=(i=a[s]);++s)r[s]&&Se(i,r[s]);if(t)if(n)for(a=a||ve(e),r=r||ve(o),s=0;null!=(i=a[s]);s++)xe(i,r[s]);else xe(e,o);return(r=ve(o,"script")).length>0&&ke(r,!c&&ve(e,"script")),r=a=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,s,a,c,l,f,d=e.length,p=te(t),m=[],g=0;d>g;g++)if((o=e[g])||0===o)if("object"===h.type(o))h.merge(m,o.nodeType?[o]:o);else if(le.test(o)){for(a=a||p.appendChild(t.createElement("div")),c=(ae.exec(o)||["",""])[1].toLowerCase(),f=me[c]||me._default,a.innerHTML=f[1]+o.replace(se,"<$1></$2>")+f[2],i=f[0];i--;)a=a.lastChild;if(!u.leadingWhitespace&&oe.test(o)&&m.push(t.createTextNode(oe.exec(o)[0])),!u.tbody)for(i=(o="table"!==c||ce.test(o)?"<table>"!==f[1]||ce.test(o)?0:a:a.firstChild)&&o.childNodes.length;i--;)h.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l);for(h.merge(m,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=p.lastChild}else m.push(t.createTextNode(o));for(a&&p.removeChild(a),u.appendChecked||h.grep(ve(m,"input"),be),g=0;o=m[g++];)if((!r||-1===h.inArray(o,r))&&(s=h.contains(o.ownerDocument,o),a=ve(p.appendChild(o),"script"),s&&ke(a),n))for(i=0;o=a[i++];)he.test(o.type||"")&&n.push(o);return a=null,p},cleanData:function(e,t){for(var r,i,o,s,a=0,c=h.expando,l=h.cache,f=u.deleteExpando,d=h.event.special;null!=(r=e[a]);a++)if((t||h.acceptData(r))&&(s=(o=r[c])&&l[o])){if(s.events)for(i in s.events)d[i]?h.event.remove(r,i):h.removeEvent(r,i,s.handle);l[o]&&(delete l[o],f?delete r[c]:typeof r.removeAttribute!==N?r.removeAttribute(c):r[c]=null,n.push(o))}}}),h.fn.extend({text:function(e){return W(this,function(e){return void 0===e?h.text(this):this.empty().append((this[0]&&this[0].ownerDocument||S).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ye(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ye(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?h.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||h.cleanData(ve(n)),n.parentNode&&(t&&h.contains(n.ownerDocument,n)&&ke(ve(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&h.cleanData(ve(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&h.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return h.clone(this,e,t)})},html:function(e){return W(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(re,""):void 0;if(!("string"!=typeof e||ue.test(e)||!u.htmlSerialize&&ie.test(e)||!u.leadingWhitespace&&oe.test(e)||me[(ae.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(se,"<$1></$2>");try{for(;r>n;n++)1===(t=this[n]||{}).nodeType&&(h.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,h.cleanData(ve(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=i.apply([],e);var n,r,o,s,a,c,l=0,f=this.length,d=this,p=f-1,m=e[0],g=h.isFunction(m);if(g||f>1&&"string"==typeof m&&!u.checkClone&&fe.test(m))return this.each(function(n){var r=d.eq(n);g&&(e[0]=m.call(this,n,r.html())),r.domManip(e,t)});if(f&&(n=(c=h.buildFragment(e,this[0].ownerDocument,!1,this)).firstChild,1===c.childNodes.length&&(c=n),n)){for(o=(s=h.map(ve(c,"script"),_e)).length;f>l;l++)r=c,l!==p&&(r=h.clone(r,!0,!0),o&&h.merge(s,ve(r,"script"))),t.call(this[l],r,l);if(o)for(a=s[s.length-1].ownerDocument,h.map(s,we),l=0;o>l;l++)r=s[l],he.test(r.type||"")&&!h._data(r,"globalEval")&&h.contains(a,r)&&(r.src?h._evalUrl&&h._evalUrl(r.src):h.globalEval((r.text||r.textContent||r.innerHTML||"").replace(pe,"")));c=n=null}return this}}),h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){h.fn[e]=function(e){for(var n,r=0,i=[],s=h(e),a=s.length-1;a>=r;r++)n=r===a?this:this.clone(!0),h(s[r])[t](n),o.apply(i,n.get());return this.pushStack(i)}});var Ce,Ae={};function Ee(t,n){var r,i=h(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:h.css(i[0],"display");return i.detach(),o}function Te(e){var t=S,n=Ae[e];return n||("none"!==(n=Ee(e,t))&&n||((t=((Ce=(Ce||h("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||Ce[0].contentDocument).document).write(),t.close(),n=Ee(e,t),Ce.detach()),Ae[e]=n),n}!function(){var e;u.shrinkWrapBlocks=function(){return null!=e?e:(e=!1,(n=S.getElementsByTagName("body")[0])&&n.style?(t=S.createElement("div"),(r=S.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==N&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(S.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0);var t,n,r}}();var Ie,De,Me=/^margin/,Oe=new RegExp("^("+q+")(?!px)[a-z%]+$","i"),Pe=/^(top|right|bottom|left)$/;function je(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}e.getComputedStyle?(Ie=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},De=function(e,t,n){var r,i,o,s,a=e.style;return s=(n=n||Ie(e))?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==s||h.contains(e.ownerDocument,e)||(s=h.style(e,t)),Oe.test(s)&&Me.test(t)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0===s?s:s+""}):S.documentElement.currentStyle&&(Ie=function(e){return e.currentStyle},De=function(e,t,n){var r,i,o,s,a=e.style;return null==(s=(n=n||Ie(e))?n[t]:void 0)&&a&&a[t]&&(s=a[t]),Oe.test(s)&&!Pe.test(t)&&(r=a.left,(o=(i=e.runtimeStyle)&&i.left)&&(i.left=e.currentStyle.left),a.left="fontSize"===t?"1em":s,s=a.pixelLeft+"px",a.left=r,o&&(i.left=o)),void 0===s?s:s+""||"auto"}),function(){var t,n,r,i,o,s,a;if((t=S.createElement("div")).innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=(r=t.getElementsByTagName("a")[0])&&r.style){function c(){var t,n,r,c;(n=S.getElementsByTagName("body")[0])&&n.style&&(t=S.createElement("div"),(r=S.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",i=o=!1,a=!0,e.getComputedStyle&&(i="1%"!==(e.getComputedStyle(t,null)||{}).top,o="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,(c=t.appendChild(S.createElement("div"))).style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",t.style.width="1px",a=!parseFloat((e.getComputedStyle(c,null)||{}).marginRight)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(c=t.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(s=0===c[0].offsetHeight)&&(c[0].style.display="",c[1].style.display="none",s=0===c[0].offsetHeight),n.removeChild(r))}n.cssText="float:left;opacity:.5",u.opacity="0.5"===n.opacity,u.cssFloat=!!n.cssFloat,t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",u.clearCloneStyle="content-box"===t.style.backgroundClip,u.boxSizing=""===n.boxSizing||""===n.MozBoxSizing||""===n.WebkitBoxSizing,h.extend(u,{reliableHiddenOffsets:function(){return null==s&&c(),s},boxSizingReliable:function(){return null==o&&c(),o},pixelPosition:function(){return null==i&&c(),i},reliableMarginRight:function(){return null==a&&c(),a}})}}(),h.swap=function(e,t,n,r){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=s[o];return i};var Ne=/alpha\([^)]*\)/i,Be=/opacity\s*=\s*([^)]*)/,Re=/^(none|table(?!-c[ea]).+)/,Le=new RegExp("^("+q+")(.*)$","i"),Fe=new RegExp("^([+-])=("+q+")","i"),He={position:"absolute",visibility:"hidden",display:"block"},ze={letterSpacing:"0",fontWeight:"400"},qe=["Webkit","O","Moz","ms"];function Ue(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=qe.length;i--;)if((t=qe[i]+n)in e)return t;return r}function $e(e,t){for(var n,r,i,o=[],s=0,a=e.length;a>s;s++)(r=e[s]).style&&(o[s]=h._data(r,"olddisplay"),n=r.style.display,t?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&$(r)&&(o[s]=h._data(r,"olddisplay",Te(r.nodeName)))):(i=$(r),(n&&"none"!==n||!i)&&h._data(r,"olddisplay",i?n:h.css(r,"display"))));for(s=0;a>s;s++)(r=e[s]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[s]||"":"none"));return e}function We(e,t,n){var r=Le.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function Ve(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=h.css(e,n+U[o],!0,i)),r?("content"===n&&(s-=h.css(e,"padding"+U[o],!0,i)),"margin"!==n&&(s-=h.css(e,"border"+U[o]+"Width",!0,i))):(s+=h.css(e,"padding"+U[o],!0,i),"padding"!==n&&(s+=h.css(e,"border"+U[o]+"Width",!0,i)));return s}function Ke(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Ie(e),s=u.boxSizing&&"border-box"===h.css(e,"boxSizing",!1,o);if(0>=i||null==i){if((0>(i=De(e,t,o))||null==i)&&(i=e.style[t]),Oe.test(i))return i;r=s&&(u.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+Ve(e,t,n||(s?"border":"content"),r,o)+"px"}function Ge(e,t,n,r,i){return new Ge.prototype.init(e,t,n,r,i)}h.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=De(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:u.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=h.camelCase(t),c=e.style;if(t=h.cssProps[a]||(h.cssProps[a]=Ue(c,a)),s=h.cssHooks[t]||h.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:c[t];if("string"===(o=typeof n)&&(i=Fe.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(h.css(e,t)),o="number"),null!=n&&n==n&&("number"!==o||h.cssNumber[a]||(n+="px"),u.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),!(s&&"set"in s&&void 0===(n=s.set(e,n,r)))))try{c[t]=n}catch(e){}}},css:function(e,t,n,r){var i,o,s,a=h.camelCase(t);return t=h.cssProps[a]||(h.cssProps[a]=Ue(e.style,a)),(s=h.cssHooks[t]||h.cssHooks[a])&&"get"in s&&(o=s.get(e,!0,n)),void 0===o&&(o=De(e,t,r)),"normal"===o&&t in ze&&(o=ze[t]),""===n||n?(i=parseFloat(o),!0===n||h.isNumeric(i)?i||0:o):o}}),h.each(["height","width"],function(e,t){h.cssHooks[t]={get:function(e,n,r){return n?Re.test(h.css(e,"display"))&&0===e.offsetWidth?h.swap(e,He,function(){return Ke(e,t,r)}):Ke(e,t,r):void 0},set:function(e,n,r){var i=r&&Ie(e);return We(0,n,r?Ve(e,t,r,u.boxSizing&&"border-box"===h.css(e,"boxSizing",!1,i),i):0)}}}),u.opacity||(h.cssHooks.opacity={get:function(e,t){return Be.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=h.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===h.trim(o.replace(Ne,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=Ne.test(o)?o.replace(Ne,i):o+" "+i)}}),h.cssHooks.marginRight=je(u.reliableMarginRight,function(e,t){return t?h.swap(e,{display:"inline-block"},De,[e,"marginRight"]):void 0}),h.each({margin:"",padding:"",border:"Width"},function(e,t){h.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+U[r]+t]=o[r]||o[r-2]||o[0];return i}},Me.test(e)||(h.cssHooks[e+t].set=We)}),h.fn.extend({css:function(e,t){return W(this,function(e,t,n){var r,i,o={},s=0;if(h.isArray(t)){for(r=Ie(e),i=t.length;i>s;s++)o[t[s]]=h.css(e,t[s],!1,r);return o}return void 0!==n?h.style(e,t,n):h.css(e,t)},e,t,arguments.length>1)},show:function(){return $e(this,!0)},hide:function(){return $e(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){$(this)?h(this).show():h(this).hide()})}}),h.Tween=Ge,Ge.prototype={constructor:Ge,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(h.cssNumber[n]?"":"px")},cur:function(){var e=Ge.propHooks[this.prop];return e&&e.get?e.get(this):Ge.propHooks._default.get(this)},run:function(e){var t,n=Ge.propHooks[this.prop];return this.pos=t=this.options.duration?h.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ge.propHooks._default.set(this),this}},Ge.prototype.init.prototype=Ge.prototype,Ge.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=h.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){h.fx.step[e.prop]?h.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[h.cssProps[e.prop]]||h.cssHooks[e.prop])?h.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Ge.propHooks.scrollTop=Ge.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},h.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},h.fx=Ge.prototype.init,h.fx.step={};var Ye,Xe,Je=/^(?:toggle|show|hide)$/,Ze=new RegExp("^(?:([+-])=|)("+q+")([a-z%]*)$","i"),Qe=/queueHooks$/,et=[function(e,t,n){var r,i,o,s,a,c,l,f=this,d={},p=e.style,m=e.nodeType&&$(e),g=h._data(e,"fxshow");for(r in n.queue||(null==(a=h._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,c=a.empty.fire,a.empty.fire=function(){a.unqueued||c()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,h.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=h.css(e,"display"),"inline"===("none"===l?h._data(e,"olddisplay")||Te(e.nodeName):l)&&"none"===h.css(e,"float")&&(u.inlineBlockNeedsLayout&&"inline"!==Te(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",u.shrinkWrapBlocks()||f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),t)if(i=t[r],Je.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;m=!0}d[r]=g&&g[r]||h.style(e,r)}else l=void 0;if(h.isEmptyObject(d))"inline"===("none"===l?Te(e.nodeName):l)&&(p.display=l);else for(r in g?"hidden"in g&&(m=g.hidden):g=h._data(e,"fxshow",{}),o&&(g.hidden=!m),m?h(e).show():f.done(function(){h(e).hide()}),f.done(function(){var t;for(t in h._removeData(e,"fxshow"),d)h.style(e,t,d[t])}),d)s=it(m?g[r]:0,r,f),r in g||(g[r]=s.start,m&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}],tt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Ze.exec(t),o=i&&i[3]||(h.cssNumber[e]?"":"px"),s=(h.cssNumber[e]||"px"!==o&&+r)&&Ze.exec(h.css(n.elem,e)),a=1,c=20;if(s&&s[3]!==o){o=o||s[3],i=i||[],s=+r||1;do{s/=a=a||".5",h.style(n.elem,e,s+o)}while(a!==(a=n.cur()/r)&&1!==a&&--c)}return i&&(s=n.start=+s||+r||0,n.unit=o,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};function nt(){return setTimeout(function(){Ye=void 0}),Ye=h.now()}function rt(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)r["margin"+(n=U[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function it(e,t,n){for(var r,i=(tt[t]||[]).concat(tt["*"]),o=0,s=i.length;s>o;o++)if(r=i[o].call(n,t,e))return r}function ot(e,t,n){var r,i,o=0,s=et.length,a=h.Deferred().always(function(){delete c.elem}),c=function(){if(i)return!1;for(var t=Ye||nt(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,s=l.tweens.length;s>o;o++)l.tweens[o].run(r);return a.notifyWith(e,[l,r,n]),1>r&&s?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:h.extend({},t),opts:h.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Ye||nt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=h.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),u=l.props;for(function(e,t){var n,r,i,o,s;for(n in e)if(i=t[r=h.camelCase(n)],o=e[n],h.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(s=h.cssHooks[r])&&"expand"in s)for(n in o=s.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(u,l.opts.specialEasing);s>o;o++)if(r=et[o].call(l,e,u,l.opts))return r;return h.map(u,it,l),h.isFunction(l.opts.start)&&l.opts.start.call(e,l),h.fx.timer(h.extend(c,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}h.Animation=h.extend(ot,{tweener:function(e,t){h.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],tt[n]=tt[n]||[],tt[n].unshift(t)},prefilter:function(e,t){t?et.unshift(e):et.push(e)}}),h.speed=function(e,t,n){var r=e&&"object"==typeof e?h.extend({},e):{complete:n||!n&&t||h.isFunction(e)&&e,duration:e,easing:n&&t||t&&!h.isFunction(t)&&t};return r.duration=h.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in h.fx.speeds?h.fx.speeds[r.duration]:h.fx.speeds._default,(null==r.queue||!0===r.queue)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){h.isFunction(r.old)&&r.old.call(this),r.queue&&h.dequeue(this,r.queue)},r},h.fn.extend({fadeTo:function(e,t,n,r){return this.filter($).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=h.isEmptyObject(e),o=h.speed(t,n,r),s=function(){var t=ot(this,h.extend({},e),o);(i||h._data(this,"finish"))&&t.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=h.timers,s=h._data(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&Qe.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&h.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=h._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=h.timers,s=r?r.length:0;for(n.finish=!0,h.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),h.each(["toggle","show","hide"],function(e,t){var n=h.fn[t];h.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(rt(t,!0),e,r,i)}}),h.each({slideDown:rt("show"),slideUp:rt("hide"),slideToggle:rt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){h.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),h.timers=[],h.fx.tick=function(){var e,t=h.timers,n=0;for(Ye=h.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||h.fx.stop(),Ye=void 0},h.fx.timer=function(e){h.timers.push(e),e()?h.fx.start():h.timers.pop()},h.fx.interval=13,h.fx.start=function(){Xe||(Xe=setInterval(h.fx.tick,h.fx.interval))},h.fx.stop=function(){clearInterval(Xe),Xe=null},h.fx.speeds={slow:600,fast:200,_default:400},h.fn.delay=function(e,t){return e=h.fx&&h.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i;(t=S.createElement("div")).setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],i=(n=S.createElement("select")).appendChild(S.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",u.getSetAttribute="t"!==t.className,u.style=/top/.test(r.getAttribute("style")),u.hrefNormalized="/a"===r.getAttribute("href"),u.checkOn=!!e.value,u.optSelected=i.selected,u.enctype=!!S.createElement("form").enctype,n.disabled=!0,u.optDisabled=!i.disabled,(e=S.createElement("input")).setAttribute("value",""),u.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),u.radioValue="t"===e.value}();var st=/\r/g;h.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=h.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,h(this).val()):e)?i="":"number"==typeof i?i+="":h.isArray(i)&&(i=h.map(i,function(e){return null==e?"":e+""})),(t=h.valHooks[this.type]||h.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=h.valHooks[i.type]||h.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(st,""):null==n?"":n:void 0}}),h.extend({valHooks:{option:{get:function(e){var t=h.find.attr(e,"value");return null!=t?t:h.trim(h.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,s=o?null:[],a=o?i+1:r.length,c=0>i?a:o?i:0;a>c;c++)if(!(!(n=r[c]).selected&&c!==i||(u.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&h.nodeName(n.parentNode,"optgroup"))){if(t=h(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=h.makeArray(t),s=i.length;s--;)if(r=i[s],h.inArray(h.valHooks.option.get(r),o)>=0)try{r.selected=n=!0}catch(e){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),h.each(["radio","checkbox"],function(){h.valHooks[this]={set:function(e,t){return h.isArray(t)?e.checked=h.inArray(h(e).val(),t)>=0:void 0}},u.checkOn||(h.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var at,ct,lt=h.expr.attrHandle,ut=/^(?:checked|selected)$/i,ft=u.getSetAttribute,ht=u.input;h.fn.extend({attr:function(e,t){return W(this,h.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){h.removeAttr(this,e)})}}),h.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===N?h.prop(e,t,n):(1===o&&h.isXMLDoc(e)||(t=t.toLowerCase(),r=h.attrHooks[t]||(h.expr.match.bool.test(t)?ct:at)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=h.find.attr(e,t))?void 0:i:null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void h.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(D);if(o&&1===e.nodeType)for(;n=o[i++];)r=h.propFix[n]||n,h.expr.match.bool.test(n)?ht&&ft||!ut.test(n)?e[r]=!1:e[h.camelCase("default-"+n)]=e[r]=!1:h.attr(e,n,""),e.removeAttribute(ft?n:r)},attrHooks:{type:{set:function(e,t){if(!u.radioValue&&"radio"===t&&h.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),ct={set:function(e,t,n){return!1===t?h.removeAttr(e,n):ht&&ft||!ut.test(n)?e.setAttribute(!ft&&h.propFix[n]||n,n):e[h.camelCase("default-"+n)]=e[n]=!0,n}},h.each(h.expr.match.bool.source.match(/\w+/g),function(e,t){var n=lt[t]||h.find.attr;lt[t]=ht&&ft||!ut.test(t)?function(e,t,r){var i,o;return r||(o=lt[t],lt[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,lt[t]=o),i}:function(e,t,n){return n?void 0:e[h.camelCase("default-"+t)]?t.toLowerCase():null}}),ht&&ft||(h.attrHooks.value={set:function(e,t,n){return h.nodeName(e,"input")?void(e.defaultValue=t):at&&at.set(e,t,n)}}),ft||(at={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},lt.id=lt.name=lt.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},h.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:at.set},h.attrHooks.contenteditable={set:function(e,t,n){at.set(e,""!==t&&t,n)}},h.each(["width","height"],function(e,t){h.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),u.style||(h.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var dt=/^(?:input|select|textarea|button|object)$/i,pt=/^(?:a|area)$/i;h.fn.extend({prop:function(e,t){return W(this,h.prop,e,t,arguments.length>1)},removeProp:function(e){return e=h.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),h.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return(1!==o||!h.isXMLDoc(e))&&(t=h.propFix[t]||t,i=h.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=h.find.attr(e,"tabindex");return t?parseInt(t,10):dt.test(e.nodeName)||pt.test(e.nodeName)&&e.href?0:-1}}}}),u.hrefNormalized||h.each(["href","src"],function(e,t){h.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),u.optSelected||(h.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),h.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){h.propFix[this.toLowerCase()]=this}),u.enctype||(h.propFix.enctype="encoding");var mt=/[\t\r\n\f]/g;h.fn.extend({addClass:function(e){var t,n,r,i,o,s,a=0,c=this.length,l="string"==typeof e&&e;if(h.isFunction(e))return this.each(function(t){h(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(D)||[];c>a;a++)if(r=1===(n=this[a]).nodeType&&(n.className?(" "+n.className+" ").replace(mt," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");s=h.trim(r),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,r,i,o,s,a=0,c=this.length,l=0===arguments.length||"string"==typeof e&&e;if(h.isFunction(e))return this.each(function(t){h(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(D)||[];c>a;a++)if(r=1===(n=this[a]).nodeType&&(n.className?(" "+n.className+" ").replace(mt," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");s=e?h.trim(r):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(h.isFunction(e)?function(n){h(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=h(this),o=e.match(D)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===N||"boolean"===n)&&(this.className&&h._data(this,"__className__",this.className),this.className=this.className||!1===e?"":h._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(mt," ").indexOf(t)>=0)return!0;return!1}}),h.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){h.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),h.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var gt=h.now(),vt=/\?/,bt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;h.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=h.trim(t+"");return i&&!h.trim(i.replace(bt,function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")}))?Function("return "+i)():h.error("Invalid JSON: "+t)},h.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{e.DOMParser?n=(new DOMParser).parseFromString(t,"text/xml"):((n=new ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(t))}catch(e){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||h.error("Invalid XML: "+t),n};var yt,_t,wt=/#.*$/,kt=/([?&])_=[^&]*/,xt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,St=/^(?:GET|HEAD)$/,Ct=/^\/\//,At=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Et={},Tt={},It="*/".concat("*");try{_t=location.href}catch(e){(_t=S.createElement("a")).href="",_t=_t.href}function Dt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(D)||[];if(h.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Mt(e,t,n,r){var i={},o=e===Tt;function s(a){var c;return i[a]=!0,h.each(e[a]||[],function(e,a){var l=a(t,n,r);return"string"!=typeof l||o||i[l]?o?!(c=l):void 0:(t.dataTypes.unshift(l),s(l),!1)}),c}return s(t.dataTypes[0])||!i["*"]&&s("*")}function Ot(e,t){var n,r,i=h.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&h.extend(!0,e,n),e}yt=At.exec(_t.toLowerCase())||[],h.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(yt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":It,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":h.parseJSON,"text xml":h.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ot(Ot(e,h.ajaxSettings),t):Ot(h.ajaxSettings,e)},ajaxPrefilter:Dt(Et),ajaxTransport:Dt(Tt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,i,o,s,a,c,l,u=h.ajaxSetup({},t),f=u.context||u,d=u.context&&(f.nodeType||f.jquery)?h(f):h.event,p=h.Deferred(),m=h.Callbacks("once memory"),g=u.statusCode||{},v={},b={},y=0,_="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!l)for(l={};t=xt.exec(o);)l[t[1].toLowerCase()]=t[2];t=l[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=b[n]=b[n]||e,v[e]=t),this},overrideMimeType:function(e){return y||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||_;return c&&c.abort(t),k(0,t),this}};if(p.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,u.url=((e||u.url||_t)+"").replace(wt,"").replace(Ct,yt[1]+"//"),u.type=t.method||t.type||u.method||u.type,u.dataTypes=h.trim(u.dataType||"*").toLowerCase().match(D)||[""],null==u.crossDomain&&(n=At.exec(u.url.toLowerCase()),u.crossDomain=!(!n||n[1]===yt[1]&&n[2]===yt[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(yt[3]||("http:"===yt[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=h.param(u.data,u.traditional)),Mt(Et,u,t,w),2===y)return w;for(r in(a=u.global)&&0==h.active++&&h.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!St.test(u.type),i=u.url,u.hasContent||(u.data&&(i=u.url+=(vt.test(i)?"&":"?")+u.data,delete u.data),!1===u.cache&&(u.url=kt.test(i)?i.replace(kt,"$1_="+gt++):i+(vt.test(i)?"&":"?")+"_="+gt++)),u.ifModified&&(h.lastModified[i]&&w.setRequestHeader("If-Modified-Since",h.lastModified[i]),h.etag[i]&&w.setRequestHeader("If-None-Match",h.etag[i])),(u.data&&u.hasContent&&!1!==u.contentType||t.contentType)&&w.setRequestHeader("Content-Type",u.contentType),w.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+It+"; q=0.01":""):u.accepts["*"]),u.headers)w.setRequestHeader(r,u.headers[r]);if(u.beforeSend&&(!1===u.beforeSend.call(f,w,u)||2===y))return w.abort();for(r in _="abort",{success:1,error:1,complete:1})w[r](u[r]);if(c=Mt(Tt,u,t,w)){w.readyState=1,a&&d.trigger("ajaxSend",[w,u]),u.async&&u.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},u.timeout));try{y=1,c.send(v,k)}catch(e){if(!(2>y))throw e;k(-1,e)}}else k(-1,"No Transport");function k(e,t,n,r){var l,v,b,_,k,x=t;2!==y&&(y=2,s&&clearTimeout(s),c=void 0,o=r||"",w.readyState=e>0?4:0,l=e>=200&&300>e||304===e,n&&(_=function(e,t,n){for(var r,i,o,s,a=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(s in a)if(a[s]&&a[s].test(i)){c.unshift(s);break}if(c[0]in n)o=c[0];else{for(s in n){if(!c[0]||e.converters[s+" "+c[0]]){o=s;break}r||(r=s)}o=o||r}return o?(o!==c[0]&&c.unshift(o),n[o]):void 0}(u,w,n)),_=function(e,t,n,r){var i,o,s,a,c,l={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!c&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=o,o=u.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(!(s=l[c+" "+o]||l["* "+o]))for(i in l)if((a=i.split(" "))[1]===o&&(s=l[c+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[i]:!0!==l[i]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+c+" to "+o}}}return{state:"success",data:t}}(u,_,w,l),l?(u.ifModified&&((k=w.getResponseHeader("Last-Modified"))&&(h.lastModified[i]=k),(k=w.getResponseHeader("etag"))&&(h.etag[i]=k)),204===e||"HEAD"===u.type?x="nocontent":304===e?x="notmodified":(x=_.state,v=_.data,l=!(b=_.error))):(b=x,(e||!x)&&(x="error",0>e&&(e=0))),w.status=e,w.statusText=(t||x)+"",l?p.resolveWith(f,[v,x,w]):p.rejectWith(f,[w,x,b]),w.statusCode(g),g=void 0,a&&d.trigger(l?"ajaxSuccess":"ajaxError",[w,u,l?v:b]),m.fireWith(f,[w,x]),a&&(d.trigger("ajaxComplete",[w,u]),--h.active||h.event.trigger("ajaxStop")))}return w},getJSON:function(e,t,n){return h.get(e,t,n,"json")},getScript:function(e,t){return h.get(e,void 0,t,"script")}}),h.each(["get","post"],function(e,t){h[t]=function(e,n,r,i){return h.isFunction(n)&&(i=i||r,r=n,n=void 0),h.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),h.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){h.fn[t]=function(e){return this.on(t,e)}}),h._evalUrl=function(e){return h.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},h.fn.extend({wrapAll:function(e){if(h.isFunction(e))return this.each(function(t){h(this).wrapAll(e.call(this,t))});if(this[0]){var t=h(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(h.isFunction(e)?function(t){h(this).wrapInner(e.call(this,t))}:function(){var t=h(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=h.isFunction(e);return this.each(function(n){h(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){h.nodeName(this,"body")||h(this).replaceWith(this.childNodes)}).end()}}),h.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!u.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||h.css(e,"display"))},h.expr.filters.visible=function(e){return!h.expr.filters.hidden(e)};var Pt=/%20/g,jt=/\[\]$/,Nt=/\r?\n/g,Bt=/^(?:submit|button|image|reset|file)$/i,Rt=/^(?:input|select|textarea|keygen)/i;function Lt(e,t,n,r){var i;if(h.isArray(t))h.each(t,function(t,i){n||jt.test(e)?r(e,i):Lt(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==h.type(t))r(e,t);else for(i in t)Lt(e+"["+i+"]",t[i],n,r)}h.param=function(e,t){var n,r=[],i=function(e,t){t=h.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=h.ajaxSettings&&h.ajaxSettings.traditional),h.isArray(e)||e.jquery&&!h.isPlainObject(e))h.each(e,function(){i(this.name,this.value)});else for(n in e)Lt(n,e[n],t,i);return r.join("&").replace(Pt,"+")},h.fn.extend({serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=h.prop(this,"elements");return e?h.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!h(this).is(":disabled")&&Rt.test(this.nodeName)&&!Bt.test(e)&&(this.checked||!V.test(e))}).map(function(e,t){var n=h(this).val();return null==n?null:h.isArray(n)?h.map(n,function(e){return{name:t.name,value:e.replace(Nt,"\r\n")}}):{name:t.name,value:n.replace(Nt,"\r\n")}}).get()}}),h.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&qt()||function(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:qt;var Ft=0,Ht={},zt=h.ajaxSettings.xhr();function qt(){try{return new e.XMLHttpRequest}catch(e){}}e.ActiveXObject&&h(e).on("unload",function(){for(var e in Ht)Ht[e](void 0,!0)}),u.cors=!!zt&&"withCredentials"in zt,(zt=u.ajax=!!zt)&&h.ajaxTransport(function(e){var t;if(!e.crossDomain||u.cors)return{send:function(n,r){var i,o=e.xhr(),s=++Ft;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];for(i in e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)void 0!==n[i]&&o.setRequestHeader(i,n[i]+"");o.send(e.hasContent&&e.data||null),t=function(n,i){var a,c,l;if(t&&(i||4===o.readyState))if(delete Ht[s],t=void 0,o.onreadystatechange=h.noop,i)4!==o.readyState&&o.abort();else{l={},a=o.status,"string"==typeof o.responseText&&(l.text=o.responseText);try{c=o.statusText}catch(e){c=""}a||!e.isLocal||e.crossDomain?1223===a&&(a=204):a=l.text?200:404}l&&r(a,c,l,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Ht[s]=t:t()},abort:function(){t&&t(void 0,!0)}}}),h.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return h.globalEval(e),e}}}),h.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),h.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=S.head||h("head")[0]||S.documentElement;return{send:function(r,i){(t=S.createElement("script")).async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var Ut=[],$t=/(=)\?(?=&|$)|\?\?/;h.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ut.pop()||h.expando+"_"+gt++;return this[e]=!0,e}}),h.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,s,a=!1!==t.jsonp&&($t.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&$t.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=h.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace($t,"$1"+i):!1!==t.jsonp&&(t.url+=(vt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||h.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){s=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Ut.push(i)),s&&h.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),h.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||S;var r=_.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=h.buildFragment([e],t,i),i&&i.length&&h(i).remove(),h.merge([],r.childNodes))};var Wt=h.fn.load;h.fn.load=function(e,t,n){if("string"!=typeof e&&Wt)return Wt.apply(this,arguments);var r,i,o,s=this,a=e.indexOf(" ");return a>=0&&(r=h.trim(e.slice(a,e.length)),e=e.slice(0,a)),h.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),s.length>0&&h.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){i=arguments,s.html(r?h("<div>").append(h.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){s.each(n,i||[e.responseText,t,e])}),this},h.expr.filters.animated=function(e){return h.grep(h.timers,function(t){return e===t.elem}).length};var Vt=e.document.documentElement;function Kt(e){return h.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}h.offset={setOffset:function(e,t,n){var r,i,o,s,a,c,l=h.css(e,"position"),u=h(e),f={};"static"===l&&(e.style.position="relative"),a=u.offset(),o=h.css(e,"top"),c=h.css(e,"left"),("absolute"===l||"fixed"===l)&&h.inArray("auto",[o,c])>-1?(s=(r=u.position()).top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(c)||0),h.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(f.top=t.top-a.top+s),null!=t.left&&(f.left=t.left-a.left+i),"using"in t?t.using.call(e,f):u.css(f)}},h.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){h.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;return o?(t=o.documentElement,h.contains(t,i)?(typeof i.getBoundingClientRect!==N&&(r=i.getBoundingClientRect()),n=Kt(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===h.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),h.nodeName(e[0],"html")||(n=e.offset()),n.top+=h.css(e[0],"borderTopWidth",!0),n.left+=h.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-h.css(r,"marginTop",!0),left:t.left-n.left-h.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Vt;e&&!h.nodeName(e,"html")&&"static"===h.css(e,"position");)e=e.offsetParent;return e||Vt})}}),h.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);h.fn[e]=function(r){return W(this,function(e,r,i){var o=Kt(e);return void 0===i?o?t in o?o[t]:o.document.documentElement[r]:e[r]:void(o?o.scrollTo(n?h(o).scrollLeft():i,n?i:h(o).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),h.each(["top","left"],function(e,t){h.cssHooks[t]=je(u.pixelPosition,function(e,n){return n?(n=De(e,t),Oe.test(n)?h(e).position()[t]+"px":n):void 0})}),h.each({Height:"height",Width:"width"},function(e,t){h.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){h.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===i?"margin":"border");return W(this,function(t,n,r){var i;return h.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?h.css(t,n,s):h.style(t,n,r,s)},t,o?r:void 0,o,null)}})}),h.fn.size=function(){return this.length},h.fn.andSelf=h.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return h});var Gt=e.jQuery,Yt=e.$;return h.noConflict=function(t){return e.$===h&&(e.$=Yt),t&&e.jQuery===h&&(e.jQuery=Gt),h},typeof t===N&&(e.jQuery=e.$=h),h}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t,r){var i,o,s,a=t.nodeName.toLowerCase();return"area"===a?(o=(i=t.parentNode).name,!(!t.href||!o||"map"!==i.nodeName.toLowerCase())&&(!!(s=e("img[usemap=#"+o+"]")[0])&&n(s))):(/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a&&t.href||r)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function r(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=i(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function i(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(n,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(n,"mouseover",function(){e.datepicker._isDisabledDatepicker(f.inline?t.parent()[0]:f.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))})}function o(t,n){for(var r in e.extend(t,n),n)null==n[r]&&(t[r]=n[r]);return t}function s(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.0",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(){var t=this.css("position"),n="absolute"===t,r=this.parents().filter(function(){var t=e(this);return(!n||"static"!==t.css("position"))&&/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==t&&r.length?r:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(n){return t(n,!isNaN(e.attr(n,"tabindex")))},tabbable:function(n){var r=e.attr(n,"tabindex"),i=isNaN(r);return(i||r>=0)&&t(n,!i)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,n){function r(t,n,r,o){return e.each(i,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var i="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(t){return void 0===t?s["inner"+n].call(this):this.each(function(){e(this).css(o,r(this,t)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?s["outer"+n].call(this,t):this.each(function(){e(this).css(o,r(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(n,r){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),r&&r.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var n,r,i=e(this[0]);i.length&&i[0]!==document;){if(("absolute"===(n=i.css("position"))||"relative"===n||"fixed"===n)&&(r=parseInt(i.css("zIndex"),10),!isNaN(r)&&0!==r))return r;i=i.parent()}return 0}}),e.ui.plugin={add:function(t,n,r){var i,o=e.ui[t].prototype;for(i in r)o.plugins[i]=o.plugins[i]||[],o.plugins[i].push([n,r[i]])},call:function(e,t,n,r){var i,o=e.plugins[t];if(o&&(r||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(i=0;o.length>i;i++)e.options[o[i][0]]&&o[i][1].apply(e.element,n)}};var a=0,c=Array.prototype.slice;e.cleanData=function(t){return function(n){for(var r,i=0;null!=(r=n[i]);i++)try{e(r).triggerHandler("remove")}catch(e){}t(n)}}(e.cleanData),e.widget=function(t,n,r){var i,o,s,a,c={},l=t.split(".")[0];return t=t.split(".")[1],i=l+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[l]=e[l]||{},o=e[l][t],s=e[l][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new s(e,t)},e.extend(s,o,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),(a=new n).options=e.widget.extend({},a.options),e.each(r,function(t,r){return e.isFunction(r)?void(c[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=i,t=r.apply(this,arguments),this._super=n,this._superApply=o,t}}()):void(c[t]=r)}),s.prototype=e.widget.extend(a,{widgetEventPrefix:o&&a.widgetEventPrefix||t},c,{constructor:s,namespace:l,widgetName:t,widgetFullName:i}),o?(e.each(o._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,s,n._proto)}),delete o._childConstructors):n._childConstructors.push(s),e.widget.bridge(t,s),s},e.widget.extend=function(t){for(var n,r,i=c.call(arguments,1),o=0,s=i.length;s>o;o++)for(n in i[o])r=i[o][n],i[o].hasOwnProperty(n)&&void 0!==r&&(t[n]=e.isPlainObject(r)?e.isPlainObject(t[n])?e.widget.extend({},t[n],r):e.widget.extend({},r):r);return t},e.widget.bridge=function(t,n){var r=n.prototype.widgetFullName||t;e.fn[t]=function(i){var o="string"==typeof i,s=c.call(arguments,1),a=this;return i=!o&&s.length?e.widget.extend.apply(null,[i].concat(s)):i,o?this.each(function(){var n,o=e.data(this,r);return"instance"===i?(a=o,!1):o?e.isFunction(o[i])&&"_"!==i.charAt(0)?(n=o[i].apply(o,s))!==o&&void 0!==n?(a=n&&n.jquery?a.pushStack(n.get()):n,!1):void 0:e.error("no such method '"+i+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+i+"'")}):this.each(function(){var t=e.data(this,r);t?(t.option(i||{}),t._init&&t._init()):e.data(this,r,new n(i,this))}),a}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=a++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var r,i,o,s=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(s={},t=(r=t.split(".")).shift(),r.length){for(i=s[t]=e.widget.extend({},this.options[t]),o=0;r.length-1>o;o++)i[r[o]]=i[r[o]]||{},i=i[r[o]];if(t=r.pop(),1===arguments.length)return void 0===i[t]?null:i[t];i[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=n}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,r){var i,o=this;"boolean"!=typeof t&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,s){function a(){return t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||e.guid++);var c=r.match(/^([\w:-]*)\s*(.*)$/),l=c[1]+o.eventNamespace,u=c[2];u?i.delegate(u,l,a):n.bind(l,a)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){var n=this;return setTimeout(function(){return("string"==typeof e?n[e]:e).apply(n,arguments)},t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,o,s=this.options[t];if(r=r||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(i in o)i in n||(n[i]=o[i]);return this.element.trigger(n,r),!(e.isFunction(s)&&!1===s.apply(this.element[0],[n].concat(r))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,o){"string"==typeof i&&(i={effect:i});var s,a=i?!0===i||"number"==typeof i?n:i.effect||n:t;"number"==typeof(i=i||{})&&(i={duration:i}),s=!e.isEmptyObject(i),i.complete=o,i.delay&&r.delay(i.delay),s&&e.effects&&e.effects.effect[a]?r[t](i):a!==t&&r[a]?r[a](i.duration,i.easing,o):r.queue(function(n){e(this)[t](),o&&o.call(r[0]),n()})}}),e.widget;var l=!1;e(document).mouseup(function(){l=!1}),e.widget("ui.mouse",{version:"1.11.0",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!l){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,r=1===t.which,i=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(r&&!i&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),l=!0,!0))}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button?this._mouseUp(t):t.which?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),l=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(e,t,n){return[parseFloat(e[0])*(h.test(e[0])?t/100:1),parseFloat(e[1])*(h.test(e[1])?n/100:1)]}function n(t,n){return parseInt(e.css(t,n),10)||0}e.ui=e.ui||{};var r,i,o=Math.max,s=Math.abs,a=Math.round,c=/left|center|right/,l=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,f=/^\w+/,h=/%$/,d=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==r)return r;var t,n,i=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=i.children()[0];return e("body").append(i),t=o.offsetWidth,i.css("overflow","scroll"),t===(n=o.offsetWidth)&&(n=i[0].clientWidth),i.remove(),r=t-n},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),i="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth;return{width:"scroll"===r||"auto"===r&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:i?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),r=e.isWindow(n[0]);return{element:n,isWindow:r,isDocument:!!n[0]&&9===n[0].nodeType,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:r?n.width():n.outerWidth(),height:r?n.height():n.outerHeight()}}},e.fn.position=function(r){if(!r||!r.of)return d.apply(this,arguments);r=e.extend({},r);var h,p,m,g,v,b,y=e(r.of),_=e.position.getWithinInfo(r.within),w=e.position.getScrollInfo(_),k=(r.collision||"flip").split(" "),x={};return b=function(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}(y),y[0].preventDefault&&(r.at="left top"),p=b.width,m=b.height,g=b.offset,v=e.extend({},g),e.each(["my","at"],function(){var e,t,n=(r[this]||"").split(" ");1===n.length&&(n=c.test(n[0])?n.concat(["center"]):l.test(n[0])?["center"].concat(n):["center","center"]),n[0]=c.test(n[0])?n[0]:"center",n[1]=l.test(n[1])?n[1]:"center",e=u.exec(n[0]),t=u.exec(n[1]),x[this]=[e?e[0]:0,t?t[0]:0],r[this]=[f.exec(n[0])[0],f.exec(n[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===r.at[0]?v.left+=p:"center"===r.at[0]&&(v.left+=p/2),"bottom"===r.at[1]?v.top+=m:"center"===r.at[1]&&(v.top+=m/2),h=t(x.at,p,m),v.left+=h[0],v.top+=h[1],this.each(function(){var c,l,u=e(this),f=u.outerWidth(),d=u.outerHeight(),b=n(this,"marginLeft"),S=n(this,"marginTop"),C=f+b+n(this,"marginRight")+w.width,A=d+S+n(this,"marginBottom")+w.height,E=e.extend({},v),T=t(x.my,u.outerWidth(),u.outerHeight());"right"===r.my[0]?E.left-=f:"center"===r.my[0]&&(E.left-=f/2),"bottom"===r.my[1]?E.top-=d:"center"===r.my[1]&&(E.top-=d/2),E.left+=T[0],E.top+=T[1],i||(E.left=a(E.left),E.top=a(E.top)),c={marginLeft:b,marginTop:S},e.each(["left","top"],function(t,n){e.ui.position[k[t]]&&e.ui.position[k[t]][n](E,{targetWidth:p,targetHeight:m,elemWidth:f,elemHeight:d,collisionPosition:c,collisionWidth:C,collisionHeight:A,offset:[h[0]+T[0],h[1]+T[1]],my:r.my,at:r.at,within:_,elem:u})}),r.using&&(l=function(e){var t=g.left-E.left,n=t+p-f,i=g.top-E.top,a=i+m-d,c={target:{element:y,left:g.left,top:g.top,width:p,height:m},element:{element:u,left:E.left,top:E.top,width:f,height:d},horizontal:0>n?"left":t>0?"right":"center",vertical:0>a?"top":i>0?"bottom":"middle"};f>p&&p>s(t+n)&&(c.horizontal="center"),d>m&&m>s(i+a)&&(c.vertical="middle"),c.important=o(s(t),s(n))>o(s(i),s(a))?"horizontal":"vertical",r.using.call(this,e,c)}),u.offset(e.extend(E,{using:l}))})},e.ui.position={fit:{left:function(e,t){var n,r=t.within,i=r.isWindow?r.scrollLeft:r.offset.left,s=r.width,a=e.left-t.collisionPosition.marginLeft,c=i-a,l=a+t.collisionWidth-s-i;t.collisionWidth>s?c>0&&0>=l?(n=e.left+c+t.collisionWidth-s-i,e.left+=c-n):e.left=l>0&&0>=c?i:c>l?i+s-t.collisionWidth:i:c>0?e.left+=c:l>0?e.left-=l:e.left=o(e.left-a,e.left)},top:function(e,t){var n,r=t.within,i=r.isWindow?r.scrollTop:r.offset.top,s=t.within.height,a=e.top-t.collisionPosition.marginTop,c=i-a,l=a+t.collisionHeight-s-i;t.collisionHeight>s?c>0&&0>=l?(n=e.top+c+t.collisionHeight-s-i,e.top+=c-n):e.top=l>0&&0>=c?i:c>l?i+s-t.collisionHeight:i:c>0?e.top+=c:l>0?e.top-=l:e.top=o(e.top-a,e.top)}},flip:{left:function(e,t){var n,r,i=t.within,o=i.offset.left+i.scrollLeft,a=i.width,c=i.isWindow?i.scrollLeft:i.offset.left,l=e.left-t.collisionPosition.marginLeft,u=l-c,f=l+t.collisionWidth-a-c,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,d="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,p=-2*t.offset[0];0>u?(0>(n=e.left+h+d+p+t.collisionWidth-a-o)||s(u)>n)&&(e.left+=h+d+p):f>0&&(((r=e.left-t.collisionPosition.marginLeft+h+d+p-c)>0||f>s(r))&&(e.left+=h+d+p))},top:function(e,t){var n,r,i=t.within,o=i.offset.top+i.scrollTop,a=i.height,c=i.isWindow?i.scrollTop:i.offset.top,l=e.top-t.collisionPosition.marginTop,u=l-c,f=l+t.collisionHeight-a-c,h="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,d="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,p=-2*t.offset[1];0>u?(r=e.top+h+d+p+t.collisionHeight-a-o,e.top+h+d+p>u&&(0>r||s(u)>r)&&(e.top+=h+d+p)):f>0&&(n=e.top-t.collisionPosition.marginTop+h+d+p-c,e.top+h+d+p>f&&(n>0||f>s(n))&&(e.top+=h+d+p))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,r,o,s,a=document.getElementsByTagName("body")[0],c=document.createElement("div");for(s in t=document.createElement(a?"div":"body"),r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&e.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"}),r)t.style[s]=r[s];t.appendChild(c),(n=a||document.documentElement).insertBefore(t,n.firstChild),c.style.cssText="position: absolute; left: 10.7432222px;",o=e(c).offset().left,i=o>10&&11>o,t.innerHTML="",n.removeChild(t)}()}(),e.ui.position,e.widget("ui.accordion",{version:"1.11.0",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?void this._activate(t):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),void("disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t))))},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var n=e.ui.keyCode,r=this.headers.length,i=this.headers.index(t.target),o=!1;switch(t.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(i+1)%r];break;case n.LEFT:case n.UP:o=this.headers[(i-1+r)%r];break;case n.SPACE:case n.ENTER:this._eventHandler(t);break;case n.HOME:o=this.headers[0];break;case n.END:o=this.headers[r-1]}o&&(e(t.target).attr("tabIndex",-1),e(o).attr("tabIndex",0),o.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=e()):!1===t.active?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var t,n=this.options,r=n.heightStyle,i=this.element.parent();this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=e(this),n=t.uniqueId().attr("id"),r=t.next(),i=r.uniqueId().attr("id");t.attr("aria-controls",i),r.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===r?(t=i.height(),this.element.siblings(":visible").each(function(){var n=e(this),r=n.css("position");"absolute"!==r&&"fixed"!==r&&(t-=n.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===r&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var n=this._findActive(t)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var n={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var n=this.options,r=this.active,i=e(t.currentTarget),o=i[0]===r[0],s=o&&n.collapsible,a=s?e():i.next(),c={oldHeader:r,oldPanel:r.next(),newHeader:s?e():i,newPanel:a};t.preventDefault(),o&&!n.collapsible||!1===this._trigger("beforeActivate",t,c)||(n.active=!s&&this.headers.index(i),this.active=o?e():i,this._toggle(c),r.removeClass("ui-accordion-header-active ui-state-active"),n.icons&&r.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header),o||(i.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),n.icons&&i.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader),i.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var n=t.newPanel,r=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=r,this.options.animate?this._animate(n,r,t):(r.hide(),n.show(),this._toggleComplete(t)),r.attr({"aria-hidden":"true"}),r.prev().attr("aria-selected","false"),n.length&&r.length?r.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(e,t,n){var r,i,o,s=this,a=0,c=e.length&&(!t.length||e.index()<t.index()),l=this.options.animate||{},u=c&&l.down||l,f=function(){s._toggleComplete(n)};return"number"==typeof u&&(o=u),"string"==typeof u&&(i=u),i=i||u.easing||l.easing,o=o||u.duration||l.duration,t.length?e.length?(r=e.show().outerHeight(),t.animate(this.hideProps,{duration:o,easing:i,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:o,easing:i,complete:f,step:function(e,n){n.now=Math.round(e),"height"!==n.prop?a+=n.now:"content"!==s.options.heightStyle&&(n.now=Math.round(r-t.outerHeight()-a),a=0)}})):t.animate(this.hideProps,o,i,f):e.animate(this.showProps,o,i,f)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.widget("ui.menu",{version:"1.11.0",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var n=e(t.target);!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var n=e(t.currentTarget);n.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,n)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function n(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var r,i,o,s,a,c=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:c=!1,i=this.previousFilter||"",o=String.fromCharCode(t.keyCode),s=!1,clearTimeout(this.filterTimer),o===i?s=!0:o=i+o,a=RegExp("^"+n(o),"i"),r=this.activeMenu.find(this.options.items).filter(function(){return a.test(e(this).text())}),(r=s&&-1!==r.index(this.active.next())?this.active.nextAll(".ui-menu-item"):r).length||(o=String.fromCharCode(t.keyCode),a=RegExp("^"+n(o),"i"),r=this.activeMenu.find(this.options.items).filter(function(){return a.test(e(this).text())})),r.length?(this.focus(t,r),r.length>1?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}c&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,n=this,r=this.options.icons.submenu,i=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),n=t.parent(),i=e("<span>").addClass("ui-menu-icon ui-icon "+r).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(i),t.attr("aria-labelledby",n.attr("id"))}),(t=i.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var t=e(this);n._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),t.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var n,r;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),r=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",r.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,r,i,o,s,a;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,r=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-n-r,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=t.outerHeight(),0>i?this.activeMenu.scrollTop(o+i):i+a>s&&this.activeMenu.scrollTop(o+i-s+a))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var r=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element),this._close(r),this.blur(t),this.activeMenu=r},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var r;this.active&&(r="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),r&&r.length&&this.active||(r=this.activeMenu.find(this.options.items)[t]()),this.focus(n,r)},nextPage:function(t){var n,r,i;return this.active?void(this.isLastItem()||(this._hasScroll()?(r=this.active.offset().top,i=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return 0>(n=e(this)).offset().top-r-i}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var n,r,i;return this.active?void(this.isFirstItem()||(this._hasScroll()?(r=this.active.offset().top,i=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(n=e(this)).offset().top-r+i>0}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items).first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)}}),e.widget("ui.autocomplete",{version:"1.11.0",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,n,r,i=this.element[0].nodeName.toLowerCase(),o="textarea"===i,s="input"===i;this.isMultiLine=!!o||!s&&this.element.prop("isContentEditable"),this.valueMethod=this.element[o||s?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(i){if(this.element.prop("readOnly"))return t=!0,r=!0,void(n=!0);t=!1,r=!1,n=!1;var o=e.ui.keyCode;switch(i.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",i);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",i);break;case o.UP:t=!0,this._keyEvent("previous",i);break;case o.DOWN:t=!0,this._keyEvent("next",i);break;case o.ENTER:this.menu.active&&(t=!0,i.preventDefault(),this.menu.select(i));break;case o.TAB:this.menu.active&&this.menu.select(i);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(i),i.preventDefault());break;default:n=!0,this._searchTimeout(i)}},keypress:function(r){if(t)return t=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&r.preventDefault());if(!n){var i=e.ui.keyCode;switch(r.keyCode){case i.PAGE_UP:this._move("previousPage",r);break;case i.PAGE_DOWN:this._move("nextPage",r);break;case i.UP:this._keyEvent("previous",r);break;case i.DOWN:this._keyEvent("next",r)}}},input:function(e){return r?(r=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(r){r.target===t.element[0]||r.target===n||e.contains(n,r.target)||t.close()})})},menufocus:function(t,n){var r,i;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)})):(i=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:i})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(i.value),void((r=n.item.attr("aria-label")||i.value)&&jQuery.trim(r).length&&(this.liveRegion.children().hide(),e("<div>").text(r).appendTo(this.liveRegion))))},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,n,r=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,r){r(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,i){r.xhr&&r.xhr.abort(),r.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){i(e)},error:function(){i([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),n=this.menu.element.is(":visible"),r=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!n&&!r)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var r=this;e.each(n,function(e,n){r._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").text(n.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var r=RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return r.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))}}),e.ui.autocomplete;var u,f,h="ui-button ui-widget ui-state-default ui-corner-all",d="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",p=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},m=function(t){var n=t.name,r=t.form,i=e([]);return n&&(n=n.replace(/'/g,"\\'"),i=r?e(r).find("[name='"+n+"'][type=radio]"):e("[name='"+n+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),i};e.widget("ui.button",{version:"1.11.0",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,p),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,n=this.options,r="checkbox"===this.type||"radio"===this.type,i=r?"":"ui-state-active";null===n.label&&(n.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(h).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){n.disabled||this===u&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){n.disabled||e(this).removeClass(i)}).bind("click"+this.eventNamespace,function(e){n.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),r&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return!n.disabled&&void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var r=t.element[0];m(r).not(r).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return!n.disabled&&(e(this).addClass("ui-state-active"),u=this,void t.document.one("mouseup",function(){u=null}))}).bind("mouseup"+this.eventNamespace,function(){return!n.disabled&&void e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){return!n.disabled&&void((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){var e,t,n;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),(n=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(h+" ui-state-active "+d).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),void(t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")))):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?m(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var t=this.buttonElement.removeClass(d),n=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),r=this.options.icons,i=r.primary&&r.secondary,o=[];r.primary||r.secondary?(this.options.text&&o.push("ui-button-text-icon"+(i?"s":r.primary?"-primary":"-secondary")),r.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+r.primary+"'></span>"),r.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+r.secondary+"'></span>"),this.options.text||(o.push(i?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(n)))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),e.widget("ui.buttonset",{version:"1.11.0",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),n=this.element.find(this.options.items),r=n.filter(":ui-button");n.not(":ui-button").button(),r.button("refresh"),this.buttons=n.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.ui.button,e.extend(e.ui,{datepicker:{version:"1.11.0"}}),e.extend(r.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return o(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var r,i,o;i="div"===(r=t.nodeName.toLowerCase())||"span"===r,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(o=this._newInst(e(t),i)).settings=e.extend({},n||{}),"input"===r?this._connectDatepicker(t,o):i&&this._inlineDatepicker(t,o)},_newInst:function(t,n){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?i(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var r=e(t);n.append=e([]),n.trigger=e([]),r.hasClass(this.markerClassName)||(this._attachments(r,n),r.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),e.data(t,"datepicker",n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var r,i,o,s=this._get(n,"appendText"),a=this._get(n,"isRTL");n.append&&n.append.remove(),s&&(n.append=e("<span class='"+this._appendClass+"'>"+s+"</span>"),t[a?"before":"after"](n.append)),t.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),("focus"===(r=this._get(n,"showOn"))||"both"===r)&&t.focus(this._showDatepicker),("button"===r||"both"===r)&&(i=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:o,alt:i,title:i}):e("<button type='button'></button>").addClass(this._triggerClass).html(o?e("<img/>").attr({src:o,alt:i,title:i}):i)),t[a?"before":"after"](n.trigger),n.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,r,i,o=new Date(2009,11,20),s=this._get(e,"dateFormat");s.match(/[DM]/)&&(t=function(e){for(n=0,r=0,i=0;e.length>i;i++)e[i].length>n&&(n=e[i].length,r=i);return r},o.setMonth(t(this._get(e,s.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(t,n){var r=e(t);r.hasClass(this.markerClassName)||(r.addClass(this.markerClassName).append(n.dpDiv),e.data(t,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,r,i,s){var a,c,l,u,f,h=this._dialogInst;return h||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),(h=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},e.data(this._dialogInput[0],"datepicker",h)),o(h.settings,i||{}),n=n&&n.constructor===Date?this._formatDate(h,n):n,this._dialogInput.val(n),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(c=document.documentElement.clientWidth,l=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,f=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+u,l/2-150+f]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=r,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(t){var n,r=e(t),i=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===n?(i.append.remove(),i.trigger.remove(),r.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===n||"span"===n)&&r.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var n,r,i=e(t),o=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&("input"===(n=t.nodeName.toLowerCase())?(t.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===n||"span"===n)&&((r=i.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var n,r,i=e(t),o=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&("input"===(n=t.nodeName.toLowerCase())?(t.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===n||"span"===n)&&((r=i.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,n,r){var i,s,a,c,l=this._getInst(t);return 2===arguments.length&&"string"==typeof n?"defaults"===n?e.extend({},e.datepicker._defaults):l?"all"===n?e.extend({},l.settings):this._get(l,n):null:(i=n||{},"string"==typeof n&&((i={})[n]=r),void(l&&(this._curInst===l&&this._hideDatepicker(),s=this._getDateDatepicker(t,!0),a=this._getMinMaxDate(l,"min"),c=this._getMinMaxDate(l,"max"),o(l.settings,i),null!==a&&void 0!==i.dateFormat&&void 0===i.minDate&&(l.settings.minDate=this._formatDate(l,a)),null!==c&&void 0!==i.dateFormat&&void 0===i.maxDate&&(l.settings.maxDate=this._formatDate(l,c)),"disabled"in i&&(i.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),l),this._autoSize(l),this._setDate(l,s),this._updateAlternate(l),this._updateDatepicker(l))))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,r,i,o=e.datepicker._getInst(t.target),s=!0,a=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),s=!1;break;case 13:return(i=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",o.dpDiv))[0]&&e.datepicker._selectDay(t.target,o.selectedMonth,o.selectedYear,i[0]),(n=e.datepicker._get(o,"onSelect"))?(r=e.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[r,o])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),s=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),s=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?1:-1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),s=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?-1:1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),s=t.ctrlKey||t.metaKey;break;default:s=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):s=!1;s&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,r,i=e.datepicker._getInst(t.target);return e.datepicker._get(i,"constrainInput")?(n=e.datepicker._possibleChars(e.datepicker._get(i,"dateFormat")),r=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">r||!n||n.indexOf(r)>-1):void 0},_doKeyUp:function(t){var n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,e.datepicker._getFormatConfig(n))&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(e){}return!0},_showDatepicker:function(t){var n,r,i,s,a,c,l;("input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),e.datepicker._isDisabledDatepicker(t)||e.datepicker._lastInput===t)||(n=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),!1!==(i=(r=e.datepicker._get(n,"beforeShow"))?r.apply(t,[t,n]):{})&&(o(n.settings,i),n.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),s=!1,e(t).parents().each(function(){return!(s|="fixed"===e(this).css("position"))}),a={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),a=e.datepicker._checkOffset(n,a,s),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":s?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),n.inline||(c=e.datepicker._get(n,"showAnim"),l=e.datepicker._get(n,"duration"),n.dpDiv.css("z-index",function(e){for(var t,n;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&0!==n))return n;e=e.parent()}return 0}(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[c]?n.dpDiv.show(c,e.datepicker._get(n,"showOptions"),l):n.dpDiv[c||"show"](c?l:null),e.datepicker._shouldFocusInput(n)&&n.input.focus(),e.datepicker._curInst=n)))},_updateDatepicker:function(t){this.maxRows=4,f=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a");var n,r=this._getNumberOfMonths(t),i=r[1];t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),i>1&&t.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",17*i+"em"),t.dpDiv[(1!==r[0]||1!==r[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(n=t.yearshtml,setTimeout(function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,r){var i=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),s=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,c=document.documentElement.clientWidth+(r?0:e(document).scrollLeft()),l=document.documentElement.clientHeight+(r?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?i-s:0,n.left-=r&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=r&&n.top===t.input.offset().top+a?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+i>c&&c>i?Math.abs(n.left+i-c):0),n.top-=Math.min(n.top,n.top+o>l&&l>o?Math.abs(o+a):0),n},_findPos:function(t){for(var n,r=this._getInst(t),i=this._get(r,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[i?"previousSibling":"nextSibling"];return[(n=e(t).offset()).left,n.top]},_hideDatepicker:function(t){var n,r,i,o,s=this._curInst;!s||t&&s!==e.data(t,"datepicker")||this._datepickerShowing&&(n=this._get(s,"showAnim"),r=this._get(s,"duration"),i=function(){e.datepicker._tidyDialog(s)},e.effects&&(e.effects.effect[n]||e.effects[n])?s.dpDiv.hide(n,e.datepicker._get(s,"showOptions"),r,i):s.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?r:null,i),n||i(),this._datepickerShowing=!1,(o=this._get(s,"onClose"))&&o.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),r=e.datepicker._getInst(n[0]);(n[0].id!==e.datepicker._mainDivId&&0===n.parents("#"+e.datepicker._mainDivId).length&&!n.hasClass(e.datepicker.markerClassName)&&!n.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||n.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==r)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,r){var i=e(t),o=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(o,n+("M"===r?this._get(o,"showCurrentAtPos"):0),r),this._updateDatepicker(o))},_gotoToday:function(t){var n,r=e(t),i=this._getInst(r[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(n=new Date,i.selectedDay=n.getDate(),i.drawMonth=i.selectedMonth=n.getMonth(),i.drawYear=i.selectedYear=n.getFullYear()),this._notifyChange(i),this._adjustDate(r)},_selectMonthYear:function(t,n,r){var i=e(t),o=this._getInst(i[0]);o["selected"+("M"===r?"Month":"Year")]=o["draw"+("M"===r?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(i)},_selectDay:function(t,n,r,i){var o,s=e(t);e(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||((o=this._getInst(s[0])).selectedDay=o.currentDay=e("a",i).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=r,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var r,i=e(t),o=this._getInst(i[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),(r=this._get(o,"onSelect"))?r.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var n,r,i,o=this._get(t,"altField");o&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),r=this._getDate(t),i=this.formatDate(n,r,this._getFormatConfig(t)),e(o).each(function(){e(this).val(i)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,r){if(null==t||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?""+n:n+""))return null;var i,o,s,a,c=0,l=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),f=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,h=(r?r.dayNames:null)||this._defaults.dayNames,d=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,p=(r?r.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,b=-1,y=!1,_=function(e){var n=t.length>i+1&&t.charAt(i+1)===e;return n&&i++,n},w=function(e){var t=_(e),r=RegExp("^\\d{1,"+("@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2)+"}"),i=n.substring(c).match(r);if(!i)throw"Missing number at position "+c;return c+=i[0].length,parseInt(i[0],10)},k=function(t,r,i){var o=-1,s=e.map(_(t)?i:r,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(s,function(e,t){var r=t[1];return n.substr(c,r.length).toLowerCase()===r.toLowerCase()?(o=t[0],c+=r.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+c},x=function(){if(n.charAt(c)!==t.charAt(i))throw"Unexpected literal at position "+c;c++};for(i=0;t.length>i;i++)if(y)"'"!==t.charAt(i)||_("'")?x():y=!1;else switch(t.charAt(i)){case"d":v=w("d");break;case"D":k("D",f,h);break;case"o":b=w("o");break;case"m":g=w("m");break;case"M":g=k("M",d,p);break;case"y":m=w("y");break;case"@":m=(a=new Date(w("@"))).getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"!":m=(a=new Date((w("!")-this._ticksTo1970)/1e4)).getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"'":_("'")?x():y=!0;break;default:x()}if(n.length>c&&(s=n.substr(c),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),b>-1)for(g=1,v=b;!((o=this._getDaysInMonth(m,g-1))>=v);)g++,v-=o;if((a=this._daylightSavingAdjust(new Date(m,g-1,v))).getFullYear()!==m||a.getMonth()+1!==g||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,n){if(!t)return"";var r,i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,a=(n?n.monthNames:null)||this._defaults.monthNames,c=function(t){var n=e.length>r+1&&e.charAt(r+1)===t;return n&&r++,n},l=function(e,t,n){var r=""+t;if(c(e))for(;n>r.length;)r="0"+r;return r},u=function(e,t,n,r){return c(e)?r[t]:n[t]},f="",h=!1;if(t)for(r=0;e.length>r;r++)if(h)"'"!==e.charAt(r)||c("'")?f+=e.charAt(r):h=!1;else switch(e.charAt(r)){case"d":f+=l("d",t.getDate(),2);break;case"D":f+=u("D",t.getDay(),i,o);break;case"o":f+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":f+=l("m",t.getMonth()+1,2);break;case"M":f+=u("M",t.getMonth(),s,a);break;case"y":f+=c("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":f+=t.getTime();break;case"!":f+=1e4*t.getTime()+this._ticksTo1970;break;case"'":c("'")?f+="'":h=!0;break;default:f+=e.charAt(r)}return f},_possibleChars:function(e){var t,n="",r=!1,i=function(n){var r=e.length>t+1&&e.charAt(t+1)===n;return r&&t++,r};for(t=0;e.length>t;t++)if(r)"'"!==e.charAt(t)||i("'")?n+=e.charAt(t):r=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":i("'")?n+="'":r=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null,i=this._getDefaultDate(e),o=i,s=this._getFormatConfig(e);try{o=this.parseDate(n,r,s)||i}catch(e){r=t?"":r}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=r?o.getDate():0,e.currentMonth=r?o.getMonth():0,e.currentYear=r?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,r){var i=null==n||""===n?r:"string"==typeof n?function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(e){}for(var r=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,i=r.getFullYear(),o=r.getMonth(),s=r.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=a.exec(n);c;){switch(c[2]||"d"){case"d":case"D":s+=parseInt(c[1],10);break;case"w":case"W":s+=7*parseInt(c[1],10);break;case"m":case"M":o+=parseInt(c[1],10),s=Math.min(s,e.datepicker._getDaysInMonth(i,o));break;case"y":case"Y":i+=parseInt(c[1],10),s=Math.min(s,e.datepicker._getDaysInMonth(i,o))}c=a.exec(n)}return new Date(i,o,s)}(n):"number"==typeof n?isNaN(n)?r:function(e){var t=new Date;return t.setDate(t.getDate()+e),t}(n):new Date(n.getTime());return(i=i&&"Invalid Date"==""+i?r:i)&&(i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)),this._daylightSavingAdjust(i)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var r=!t,i=e.selectedMonth,o=e.selectedYear,s=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=s.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=s.getMonth(),e.drawYear=e.selectedYear=e.currentYear=s.getFullYear(),i===e.selectedMonth&&o===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(r?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),r="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(r,-n,"M")},next:function(){e.datepicker._adjustDate(r,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(r)},selectDay:function(){return e.datepicker._selectDay(r,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(r,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(r,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,r,i,o,s,a,c,l,u,f,h,d,p,m,g,v,b,y,_,w,k,x,S,C,A,E,T,I,D,M,O,P,j,N,B,R,L,F,H=new Date,z=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),q=this._get(e,"isRTL"),U=this._get(e,"showButtonPanel"),$=this._get(e,"hideIfNoPrevNext"),W=this._get(e,"navigationAsDateFormat"),V=this._getNumberOfMonths(e),K=this._get(e,"showCurrentAtPos"),G=this._get(e,"stepMonths"),Y=1!==V[0]||1!==V[1],X=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(e,"min"),Z=this._getMinMaxDate(e,"max"),Q=e.drawMonth-K,ee=e.drawYear;if(0>Q&&(Q+=12,ee--),Z)for(t=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-V[0]*V[1]+1,Z.getDate())),t=J&&J>t?J:t;this._daylightSavingAdjust(new Date(ee,Q,1))>t;)0>--Q&&(Q=11,ee--);for(e.drawMonth=Q,e.drawYear=ee,n=this._get(e,"prevText"),n=W?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,Q-G,1)),this._getFormatConfig(e)):n,r=this._canAdjustMonth(e,-1,ee,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"e":"w")+"'>"+n+"</span></a>":$?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"e":"w")+"'>"+n+"</span></a>",i=this._get(e,"nextText"),i=W?this.formatDate(i,this._daylightSavingAdjust(new Date(ee,Q+G,1)),this._getFormatConfig(e)):i,o=this._canAdjustMonth(e,1,ee,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"w":"e")+"'>"+i+"</span></a>":$?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"w":"e")+"'>"+i+"</span></a>",s=this._get(e,"currentText"),a=this._get(e,"gotoCurrent")&&e.currentDay?X:z,s=W?this.formatDate(s,a,this._getFormatConfig(e)):s,c=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",l=U?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(q?c:"")+(this._isInRange(e,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(q?"":c)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,f=this._get(e,"showWeek"),h=this._get(e,"dayNames"),d=this._get(e,"dayNamesMin"),p=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),b=this._get(e,"selectOtherMonths"),y=this._getDefaultDate(e),_="",k=0;V[0]>k;k++){for(x="",this.maxRows=4,S=0;V[1]>S;S++){if(C=this._daylightSavingAdjust(new Date(ee,Q,e.selectedDay)),A=" ui-corner-all",E="",Y){if(E+="<div class='ui-datepicker-group",V[1]>1)switch(S){case 0:E+=" ui-datepicker-group-first",A=" ui-corner-"+(q?"right":"left");break;case V[1]-1:E+=" ui-datepicker-group-last",A=" ui-corner-"+(q?"left":"right");break;default:E+=" ui-datepicker-group-middle",A=""}E+="'>"}for(E+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+A+"'>"+(/all|left/.test(A)&&0===k?q?o:r:"")+(/all|right/.test(A)&&0===k?q?r:o:"")+this._generateMonthYearHeader(e,Q,ee,J,Z,k>0||S>0,p,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",T=f?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",w=0;7>w;w++)I=(w+u)%7,T+="<th scope='col'"+((w+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[I]+"'>"+d[I]+"</span></th>";for(E+=T+"</tr></thead><tbody>",D=this._getDaysInMonth(ee,Q),ee===e.selectedYear&&Q===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,D)),M=(this._getFirstDayOfMonth(ee,Q)-u+7)%7,O=Math.ceil((M+D)/7),P=Y&&this.maxRows>O?this.maxRows:O,this.maxRows=P,j=this._daylightSavingAdjust(new Date(ee,Q,1-M)),N=0;P>N;N++){for(E+="<tr>",B=f?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(j)+"</td>":"",w=0;7>w;w++)R=g?g.apply(e.input?e.input[0]:null,[j]):[!0,""],F=(L=j.getMonth()!==Q)&&!b||!R[0]||J&&J>j||Z&&j>Z,B+="<td class='"+((w+u+6)%7>=5?" ui-datepicker-week-end":"")+(L?" ui-datepicker-other-month":"")+(j.getTime()===C.getTime()&&Q===e.selectedMonth&&e._keyEvent||y.getTime()===j.getTime()&&y.getTime()===C.getTime()?" "+this._dayOverClass:"")+(F?" "+this._unselectableClass+" ui-state-disabled":"")+(L&&!v?"":" "+R[1]+(j.getTime()===X.getTime()?" "+this._currentClass:"")+(j.getTime()===z.getTime()?" ui-datepicker-today":""))+"'"+(L&&!v||!R[2]?"":" title='"+R[2].replace(/'/g,"&#39;")+"'")+(F?"":" data-handler='selectDay' data-event='click' data-month='"+j.getMonth()+"' data-year='"+j.getFullYear()+"'")+">"+(L&&!v?"&#xa0;":F?"<span class='ui-state-default'>"+j.getDate()+"</span>":"<a class='ui-state-default"+(j.getTime()===z.getTime()?" ui-state-highlight":"")+(j.getTime()===X.getTime()?" ui-state-active":"")+(L?" ui-priority-secondary":"")+"' href='#'>"+j.getDate()+"</a>")+"</td>",j.setDate(j.getDate()+1),j=this._daylightSavingAdjust(j);E+=B+"</tr>"}++Q>11&&(Q=0,ee++),x+=E+="</tbody></table>"+(Y?"</div>"+(V[0]>0&&S===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}_+=x}return _+=l,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,n,r,i,o,s,a){var c,l,u,f,h,d,p,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),b=this._get(e,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",_="";if(o||!g)_+="<span class='ui-datepicker-month'>"+s[t]+"</span>";else{for(c=r&&r.getFullYear()===n,l=i&&i.getFullYear()===n,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!c||u>=r.getMonth())&&(!l||i.getMonth()>=u)&&(_+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+a[u]+"</option>");_+="</select>"}if(b||(y+=_+(!o&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!v)y+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(f=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),p=(d=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t})(f[0]),m=Math.max(p,d(f[1]||"")),p=r?Math.max(p,r.getFullYear()):p,m=i?Math.min(m,i.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=p;p++)e.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";e.yearshtml+="</select>",y+=e.yearshtml,e.yearshtml=null}return y+=this._get(e,"yearSuffix"),b&&(y+=(!o&&g&&v?"":"&#xa0;")+_),y+"</div>"},_adjustInstDate:function(e,t,n){var r=e.drawYear+("Y"===n?t:0),i=e.drawMonth+("M"===n?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(r,i))+("D"===n?t:0),s=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(r,i,o)));e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),i=n&&n>t?n:t;return r&&i>r?r:i},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,r){var i=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(n,r+(0>t?t:i[0]*i[1]),1));return 0>t&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var n,r,i=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),s=null,a=null,c=this._get(e,"yearRange");return c&&(n=c.split(":"),r=(new Date).getFullYear(),s=parseInt(n[0],10),a=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(s+=r),n[1].match(/[+\-].*/)&&(a+=r)),(!i||t.getTime()>=i.getTime())&&(!o||t.getTime()<=o.getTime())&&(!s||t.getFullYear()>=s)&&(!a||a>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,r){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var i=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(r,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),i,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new r,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.0",e.datepicker,e.widget("ui.draggable",e.ui.mouse,{version:"1.11.0",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var n=this.document[0],r=this.options;try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&e(n.activeElement).blur()}catch(e){}return!(this.helper||r.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(e(!0===r.iframeFix?"iframe":r.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0))},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,n){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var r=this._uiHash();if(!1===this._trigger("drag",t,r))return this._mouseUp({}),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,r=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(r=e.ui.ddmanager.drop(this,t)),this.dropped&&(r=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!r||"valid"===this.options.revert&&r||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",t)&&n._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this._removeHandleClassName(),e(this.options.handle||this.element).addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.element.find(".ui-draggable-handle").addBack().removeClass("ui-draggable-handle")},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options,o=this.document[0];return this.relative_container=null,i.containment?"window"===i.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===i.containment?void(this.containment=[0,0,e(o).width()-this.helperProportions.width-this.margins.left,(e(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):i.containment.constructor===Array?void(this.containment=i.containment):("parent"===i.containment&&(i.containment=this.helper[0].parentNode),void((r=(n=e(i.containment))[0])&&(t="hidden"!==n.css("overflow"),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,r,i,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),c=e.pageX,l=e.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relative_container?(r=this.relative_container.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(c=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(l=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(c=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(l=n[3]+this.offset.click.top)),s.grid&&(i=s.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,l=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-s.grid[1]:i+s.grid[1]:i,o=s.grid[0]?this.originalPageX+Math.round((c-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,c=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(c=this.originalPageX),"x"===s.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:c-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r,this],!0),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,r){var i=r.options,o=e.extend({},n,{item:r.element});r.sortables=[],e(i.connectToSortable).each(function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(r.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",t,o))})},stop:function(t,n,r){var i=e.extend({},n,{item:r.element});e.each(r.sortables,function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===r.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,i))})},drag:function(t,n,r){var i=this;e.each(r.sortables,function(){var o=!1,s=this;this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,e.each(r.sortables,function(){return this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this!==s&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(s.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(i).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",t),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",t),r.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,r){var i=e("body"),o=r.options;i.css("cursor")&&(o._cursor=i.css("cursor")),i.css("cursor",o.cursor)},stop:function(t,n,r){var i=r.options;i._cursor&&e("body").css("cursor",i._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,r){var i=e(n.helper),o=r.options;i.css("opacity")&&(o._opacity=i.css("opacity")),i.css("opacity",o.opacity)},stop:function(t,n,r){var i=r.options;i._opacity&&e(n.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParent[0]!==n.document[0]&&"HTML"!==n.scrollParent[0].tagName&&(n.overflowOffset=n.scrollParent.offset())},drag:function(t,n,r){var i=r.options,o=!1,s=r.document[0];r.scrollParent[0]!==s&&"HTML"!==r.scrollParent[0].tagName?(i.axis&&"x"===i.axis||(r.overflowOffset.top+r.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?r.scrollParent[0].scrollTop=o=r.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(r.scrollParent[0].scrollTop=o=r.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(r.overflowOffset.left+r.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?r.scrollParent[0].scrollLeft=o=r.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(r.scrollParent[0].scrollLeft=o=r.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-e(s).scrollTop()<i.scrollSensitivity?o=e(s).scrollTop(e(s).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(s).scrollTop())<i.scrollSensitivity&&(o=e(s).scrollTop(e(s).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-e(s).scrollLeft()<i.scrollSensitivity?o=e(s).scrollLeft(e(s).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(s).scrollLeft())<i.scrollSensitivity&&(o=e(s).scrollLeft(e(s).scrollLeft()+i.scrollSpeed)))),!1!==o&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(r,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,r){var i=r.options;r.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var t=e(this),n=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n,r){var i,o,s,a,c,l,u,f,h,d,p=r.options,m=p.snapTolerance,g=n.offset.left,v=g+r.helperProportions.width,b=n.offset.top,y=b+r.helperProportions.height;for(h=r.snapElements.length-1;h>=0;h--)l=(c=r.snapElements[h].left)+r.snapElements[h].width,f=(u=r.snapElements[h].top)+r.snapElements[h].height,c-m>v||g>l+m||u-m>y||b>f+m||!e.contains(r.snapElements[h].item.ownerDocument,r.snapElements[h].item)?(r.snapElements[h].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[h].item})),r.snapElements[h].snapping=!1):("inner"!==p.snapMode&&(i=m>=Math.abs(u-y),o=m>=Math.abs(f-b),s=m>=Math.abs(c-v),a=m>=Math.abs(l-g),i&&(n.position.top=r._convertPositionTo("relative",{top:u-r.helperProportions.height,left:0}).top-r.margins.top),o&&(n.position.top=r._convertPositionTo("relative",{top:f,left:0}).top-r.margins.top),s&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c-r.helperProportions.width}).left-r.margins.left),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:l}).left-r.margins.left)),d=i||o||s||a,"outer"!==p.snapMode&&(i=m>=Math.abs(u-b),o=m>=Math.abs(f-y),s=m>=Math.abs(c-g),a=m>=Math.abs(l-v),i&&(n.position.top=r._convertPositionTo("relative",{top:u,left:0}).top-r.margins.top),o&&(n.position.top=r._convertPositionTo("relative",{top:f-r.helperProportions.height,left:0}).top-r.margins.top),s&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c}).left-r.margins.left),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:l-r.helperProportions.width}).left-r.margins.left)),!r.snapElements[h].snapping&&(i||o||s||a||d)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[h].item})),r.snapElements[h].snapping=i||o||s||a||d)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,r){var i,o=r.options,s=e.makeArray(e(o.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});s.length&&(i=parseInt(e(s[0]).css("zIndex"),10)||0,e(s).each(function(t){e(this).css("zIndex",i+t)}),this.css("zIndex",i+s.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,r){var i=e(n.helper),o=r.options;i.css("zIndex")&&(o._zIndex=i.css("zIndex")),i.css("zIndex",o.zIndex)},stop:function(t,n,r){var i=r.options;i._zIndex&&e(n.helper).css("zIndex",i._zIndex)}}),e.ui.draggable,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.0",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var r=n&&"left"===n?"scrollLeft":"scrollTop",i=!1;return t[r]>0||(t[r]=1,i=t[r]>0,t[r]=0,i)},_create:function(){var t,n,r,i,o=this,s=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!s.aspectRatio,aspectRatio:s.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:s.helper||s.ghost||s.animate?s.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=s.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},n=0;t.length>n;n++)r=e.trim(t[n]),(i=e("<div class='ui-resizable-handle "+("ui-resizable-"+r)+"'></div>")).css({zIndex:s.zIndex}),"se"===r&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[r]=".ui-resizable-"+r,this.element.append(i);this._renderAxis=function(t){var n,r,i,o;for(n in t=t||this.element,this.handles)this.handles[n].constructor===String&&(this.handles[n]=this.element.children(this.handles[n]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(r=e(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?r.outerHeight():r.outerWidth(),i=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(i,o),this._proportionallyResize()),e(this.handles[n]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=i&&i[1]?i[1]:"se")}),s.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){s.disabled||(e(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){s.disabled||o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(t){var n,r,i=!1;for(n in this.handles)((r=e(this.handles[n])[0])===t.target||e.contains(r,t.target))&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(t){var n,r,i,o=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),r=this._num(this.helper.css("top")),o.containment&&(n+=e(o.containment).scrollLeft()||0,r+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:r},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.originalPosition={left:n,top:r},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,i=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===i?this.axis+"-resize":i),s.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,r=this.helper,i={},o=this.originalMousePosition,s=this.axis,a=t.pageX-o.left||0,c=t.pageY-o.top||0,l=this._change[s];return this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height},!!l&&(n=l.apply(this,[t,a,c]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),this.position.top!==this.prevPosition.top&&(i.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(i.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(i.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(i.height=this.size.height+"px"),r.css(i),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(i)||this._trigger("resize",t,this.ui()),!1)},_mouseStop:function(t){this.resizing=!1;var n,r,i,o,s,a,c,l=this.options,u=this;return this._helper&&(i=(r=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:u.sizeDiff.height,o=r?0:u.sizeDiff.width,s={width:u.helper.width()-o,height:u.helper.height()-i},a=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,c=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,l.animate||this.element.css(e.extend(s,{top:c,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,n,r,i,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,r=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,i=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),r>o.minHeight&&(o.minHeight=r),o.maxWidth>n&&(o.maxWidth=n),o.maxHeight>i&&(o.maxHeight=i)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,r=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===r&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===r&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,r=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,i=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,s=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,l=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return o&&(e.width=t.minWidth),s&&(e.height=t.minHeight),r&&(e.width=t.maxWidth),i&&(e.height=t.maxHeight),o&&l&&(e.left=a-t.minWidth),r&&l&&(e.left=a-t.maxWidth),s&&u&&(e.top=c-t.minHeight),i&&u&&(e.top=c-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,n,r,i,o=this.helper||this.element;for(e=0;this._proportionallyResizeElements.length>e;e++){if(i=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],n=[i.css("borderTopWidth"),i.css("borderRightWidth"),i.css("borderBottomWidth"),i.css("borderLeftWidth")],r=[i.css("paddingTop"),i.css("paddingRight"),i.css("paddingBottom"),i.css("paddingLeft")],t=0;n.length>t;t++)this.borderDif[t]=(parseInt(n[t],10)||0)+(parseInt(r[t],10)||0);i.css({height:o.height()-this.borderDif[0]-this.borderDif[2]||0,width:o.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize;return{left:this.originalPosition.left+t,width:n.width-t}},n:function(e,t,n){var r=this.originalSize;return{top:this.originalPosition.top+n,height:r.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},sw:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,r]))},ne:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},nw:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,r]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition,prevSize:this.prevSize,prevPosition:this.prevPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),r=n.options,i=n._proportionallyResizeElements,o=i.length&&/textarea/i.test(i[0].nodeName),s=o&&n._hasScroll(i[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,c={width:n.size.width-a,height:n.size.height-s},l=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,u=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(c,u&&l?{top:u,left:l}:{}),{duration:r.animateDuration,easing:r.animateEasing,step:function(){var r={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};i&&i.length&&e(i[0]).css({width:r.width,height:r.height}),n._updateCache(r),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,r,i,o,s,a,c=e(this).resizable("instance"),l=c.options,u=c.element,f=l.containment,h=f instanceof e?f.get(0):/parent/.test(f)?u.parent().get(0):f;h&&(c.containerElement=e(h),/document/.test(f)||f===document?(c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,r){n[e]=c._num(t.css("padding"+r))}),c.containerOffset=t.offset(),c.containerPosition=t.position(),c.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},r=c.containerOffset,i=c.containerSize.height,o=c.containerSize.width,s=c._hasScroll(h,"left")?h.scrollWidth:o,a=c._hasScroll(h)?h.scrollHeight:i,c.parentData={element:h,left:r.left,top:r.top,width:s,height:a}))},resize:function(t,n){var r,i,o,s,a=e(this).resizable("instance"),c=a.options,l=a.containerOffset,u=a.position,f=a._aspectRatio||t.shiftKey,h={top:0,left:0},d=a.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(h=l),u.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-h.left),f&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=c.helper?l.left:0),u.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),f&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?l.top:0),a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top,r=Math.abs((a._helper?a.offset.left-h.left:a.offset.left-l.left)+a.sizeDiff.width),i=Math.abs((a._helper?a.offset.top-h.top:a.offset.top-l.top)+a.sizeDiff.height),o=a.containerElement.get(0)===a.element.parent().get(0),s=/relative|absolute/.test(a.containerElement.css("position")),o&&s&&(r-=Math.abs(a.parentData.left)),r+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-r,f&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),i+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-i,f&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=n.prevPosition.left,a.position.top=n.prevPosition.top,a.size.width=n.prevSize.width,a.size.height=n.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,r=t.containerOffset,i=t.containerPosition,o=t.containerElement,s=e(t.helper),a=s.offset(),c=s.outerWidth()-t.sizeDiff.width,l=s.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(o.css("position"))&&e(this).css({left:a.left-i.left-r.left,width:c,height:l}),t._helper&&!n.animate&&/static/.test(o.css("position"))&&e(this).css({left:a.left-i.left-r.left,width:c,height:l})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance").options,n=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof t.alsoResize||t.alsoResize.parentNode?n(t.alsoResize):t.alsoResize.length?(t.alsoResize=t.alsoResize[0],n(t.alsoResize)):e.each(t.alsoResize,function(e){n(e)})},resize:function(t,n){var r=e(this).resizable("instance"),i=r.options,o=r.originalSize,s=r.originalPosition,a={height:r.size.height-o.height||0,width:r.size.width-o.width||0,top:r.position.top-s.top||0,left:r.position.left-s.left||0},c=function(t,r){e(t).each(function(){var t=e(this),i=e(this).data("ui-resizable-alsoresize"),o={},s=r&&r.length?r:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(s,function(e,t){var n=(i[t]||0)+(a[t]||0);n&&n>=0&&(o[t]=n||null)}),t.css(o)})};"object"!=typeof i.alsoResize||i.alsoResize.nodeType?c(i.alsoResize):e.each(i.alsoResize,function(e,t){c(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.options,r=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).resizable("instance"),n=t.options,r=t.size,i=t.originalSize,o=t.originalPosition,s=t.axis,a="number"==typeof n.grid?[n.grid,n.grid]:n.grid,c=a[0]||1,l=a[1]||1,u=Math.round((r.width-i.width)/c)*c,f=Math.round((r.height-i.height)/l)*l,h=i.width+u,d=i.height+f,p=n.maxWidth&&h>n.maxWidth,m=n.maxHeight&&d>n.maxHeight,g=n.minWidth&&n.minWidth>h,v=n.minHeight&&n.minHeight>d;n.grid=a,g&&(h+=c),v&&(d+=l),p&&(h-=c),m&&(d-=l),/^(se|s|e)$/.test(s)?(t.size.width=h,t.size.height=d):/^(ne)$/.test(s)?(t.size.width=h,t.size.height=d,t.position.top=o.top-f):/^(sw)$/.test(s)?(t.size.width=h,t.size.height=d,t.position.left=o.left-u):(d-l>0?(t.size.height=d,t.position.top=o.top-f):(t.size.height=l,t.position.top=o.top+i.height-l),h-c>0?(t.size.width=h,t.position.left=o.left-u):(t.size.width=c,t.position.left=o.left+i.width-c))}}),e.ui.resizable,e.widget("ui.dialog",{version:"1.11.0",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var n=e(this).css(t).offset().top;0>n&&e(this).css("top",t.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var n,r=this;if(this._isOpen&&!1!==this._trigger("beforeClose",t)){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{(n=this.document[0].activeElement)&&"body"!==n.nodeName.toLowerCase()&&e(n).blur()}catch(e){}this._hide(this.uiDialog,this.options.hide,function(){r._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,n){var r=!1,i=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),o=Math.max.apply(null,i);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),r=!0),r&&!n&&this._trigger("focus",t),r},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),void this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function n(){var t=this.document[0].activeElement;this.uiDialog[0]===t||e.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),r=n.filter(":first"),i=n.filter(":last");t.target!==i[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==r[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){i.focus()}),t.preventDefault()):(this._delay(function(){r.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,n=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(n)||e.isArray(n)&&!n.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(n,function(n,r){var i,o;r=e.isFunction(r)?{click:r,text:n}:r,r=e.extend({type:"button"},r),i=r.click,r.click=function(){i.apply(t.element[0],arguments)},o={icons:r.icons,text:r.showText},delete r.icons,delete r.showText,e("<button></button>",r).button(o).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var n=this,r=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(r,i){e(this).addClass("ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",r,t(i))},drag:function(e,r){n._trigger("drag",e,t(r))},stop:function(i,o){var s=o.offset.left-n.document.scrollLeft(),a=o.offset.top-n.document.scrollTop();r.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(a>=0?"+":"")+a,of:n.window},e(this).removeClass("ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",i,t(o))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var n=this,r=this.options,i=r.resizable,o=this.uiDialog.css("position"),s="string"==typeof i?i:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:r.maxWidth,maxHeight:r.maxHeight,minWidth:r.minWidth,minHeight:this._minHeight(),handles:s,start:function(r,i){e(this).addClass("ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",r,t(i))},resize:function(e,r){n._trigger("resize",e,t(r))},stop:function(i,o){var s=n.uiDialog.offset(),a=s.left-n.document.scrollLeft(),c=s.top-n.document.scrollTop();r.height=n.uiDialog.height(),r.width=n.uiDialog.width(),r.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(c>=0?"+":"")+c,of:n.window},e(this).removeClass("ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",i,t(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._untrackInstance(),this._trackingInstances().unshift(this),this._focusedElement=e(t.target)}})},_untrackInstance:function(){var t=this._trackingInstances(),n=e.inArray(this,t);-1!==n&&t.splice(n,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var n=this,r=!1,i={};e.each(t,function(e,t){n._setOption(e,t),e in n.sizeRelatedOptions&&(r=!0),e in n.resizableRelatedOptions&&(i[e]=t)}),r&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",i)},_setOption:function(e,t){var n,r,i=this.uiDialog;"dialogClass"===e&&i.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&((n=i.is(":data(ui-draggable)"))&&!t&&i.draggable("destroy"),!n&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((r=i.is(":data(ui-resizable)"))&&!t&&i.resizable("destroy"),r&&"string"==typeof t&&i.resizable("option","handles",t),r||!1===t||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,n,r=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),r.minWidth>r.width&&(r.width=r.minWidth),e=this.uiDialog.css({height:"auto",width:r.width}).outerHeight(),t=Math.max(0,r.minHeight-e),n="number"==typeof r.maxHeight?Math.max(0,r.maxHeight-e):"none","auto"===r.height?this.element.css({minHeight:t,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,r.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.droppable",{version:"1.11.0",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,r=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(r)?r:function(e){return e.is(r)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(n.scope),n.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;e.length>t;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){if("accept"===t)this.accept=e.isFunction(n)?n:function(e){return e.is(n)};else if("scope"===t){var r=e.ui.ddmanager.droppables[this.options.scope];this._splice(r),this._addToManager(n)}this._super(t,n)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var r=n||e.ui.ddmanager.current,i=!1;return!(!r||(r.currentItem||r.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=e(this).droppable("instance");return t.options.greedy&&!t.options.disabled&&t.options.scope===r.options.scope&&t.accept.call(t.element[0],r.currentItem||r.element)&&e.ui.intersect(r,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(i=!0,!1):void 0}),!i&&(!!this.accept.call(this.element[0],r.currentItem||r.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,n){return e>=t&&t+n>e}return function(t,n,r){if(!n.offset)return!1;var i,o=(t.positionAbs||t.position.absolute).left,s=(t.positionAbs||t.position.absolute).top,a=o+t.helperProportions.width,c=s+t.helperProportions.height,l=n.offset.left,u=n.offset.top,f=l+n.proportions().width,h=u+n.proportions().height;switch(r){case"fit":return o>=l&&f>=a&&s>=u&&h>=c;case"intersect":return o+t.helperProportions.width/2>l&&f>a-t.helperProportions.width/2&&s+t.helperProportions.height/2>u&&h>c-t.helperProportions.height/2;case"pointer":return i=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,e((t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,u,n.proportions().height)&&e(i,l,n.proportions().width);case"touch":return(s>=u&&h>=s||c>=u&&h>=c||u>s&&c>h)&&(o>=l&&f>=o||a>=l&&f>=a||l>o&&a>f);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,n){var r,i,o=e.ui.ddmanager.droppables[t.options.scope]||[],s=n?n.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(r=0;o.length>r;r++)if(!(o[r].options.disabled||t&&!o[r].accept.call(o[r].element[0],t.currentItem||t.element))){for(i=0;a.length>i;i++)if(a[i]===o[r].element[0]){o[r].proportions().height=0;continue e}o[r].visible="none"!==o[r].element.css("display"),o[r].visible&&("mousedown"===s&&o[r]._activate.call(o[r],n),o[r].offset=o[r].element.offset(),o[r].proportions({width:o[r].element[0].offsetWidth,height:o[r].element[0].offsetHeight}))}},drop:function(t,n){var r=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(r=this._drop.call(this,n)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),r},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r,i,o,s=e.ui.intersect(t,this,this.options.tolerance),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(i=this.options.scope,(o=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===i})).length&&((r=e(o[0]).droppable("instance")).greedyChild="isover"===a)),r&&"isover"===a&&(r.isover=!1,r.isout=!0,r._out.call(r,n)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,n),r&&"isout"===a&&(r.isout=!1,r.isover=!0,r._over.call(r,n)))}})},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}},e.ui.droppable;var g="ui-effects-";e.effects={effect:{}},function(e,t){function n(e,t,n){var r=u[t.type]||{};return null==e?n||!t.def?null:t.def:(e=r.floor?~~e:parseFloat(e),isNaN(e)?t.def:r.mod?(e+r.mod)%r.mod:0>e?0:e>r.max?r.max:e)}function r(n){var r=c(),i=r._rgba=[];return n=n.toLowerCase(),d(a,function(e,o){var s,a=o.re.exec(n),c=a&&o.parse(a),u=o.space||"rgba";return c?(s=r[u](c),r[l[u].cache]=s[l[u].cache],i=r._rgba=s._rgba,!1):t}),i.length?("0,0,0,0"===i.join()&&e.extend(i,o.transparent),r):o[n]}function i(e,t,n){return 1>6*(n=(n+1)%1)?e+6*(t-e)*n:1>2*n?t:2>3*n?e+6*(t-e)*(2/3-n):e}var o,s=/^([\-+])=\s*(\d+\.?\d*)/,a=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],c=e.Color=function(t,n,r,i){return new e.Color.fn.parse(t,n,r,i)},l={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},f=c.support={},h=e("<p>")[0],d=e.each;h.style.cssText="background-color:rgba(1,1,1,.5)",f.rgba=h.style.backgroundColor.indexOf("rgba")>-1,d(l,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),c.fn=e.extend(c.prototype,{parse:function(i,s,a,u){if(i===t)return this._rgba=[null,null,null,null],this;(i.jquery||i.nodeType)&&(i=e(i).css(s),s=t);var f=this,h=e.type(i),p=this._rgba=[];return s!==t&&(i=[i,s,a,u],h="array"),"string"===h?this.parse(r(i)||o._default):"array"===h?(d(l.rgba.props,function(e,t){p[t.idx]=n(i[t.idx],t)}),this):"object"===h?(d(l,i instanceof c?function(e,t){i[t.cache]&&(f[t.cache]=i[t.cache].slice())}:function(t,r){var o=r.cache;d(r.props,function(e,t){if(!f[o]&&r.to){if("alpha"===e||null==i[e])return;f[o]=r.to(f._rgba)}f[o][t.idx]=n(i[e],t,!0)}),f[o]&&0>e.inArray(null,f[o].slice(0,3))&&(f[o][3]=1,r.from&&(f._rgba=r.from(f[o])))}),this):t},is:function(e){var n=c(e),r=!0,i=this;return d(l,function(e,o){var s,a=n[o.cache];return a&&(s=i[o.cache]||o.to&&o.to(i._rgba)||[],d(o.props,function(e,n){return null!=a[n.idx]?r=a[n.idx]===s[n.idx]:t})),r}),r},_space:function(){var e=[],t=this;return d(l,function(n,r){t[r.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var r=c(e),i=r._space(),o=l[i],s=0===this.alpha()?c("transparent"):this,a=s[o.cache]||o.to(s._rgba),f=a.slice();return r=r[o.cache],d(o.props,function(e,i){var o=i.idx,s=a[o],c=r[o],l=u[i.type]||{};null!==c&&(null===s?f[o]=c:(l.mod&&(c-s>l.mod/2?s+=l.mod:s-c>l.mod/2&&(s-=l.mod)),f[o]=n((c-s)*t+s,i)))}),this[i](f)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),r=n.pop(),i=c(t)._rgba;return c(e.map(n,function(e,t){return(1-r)*i[t]+r*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),r=n.pop();return t&&n.push(~~(255*r)),"#"+e.map(n,function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,l.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,r=e[0]/255,i=e[1]/255,o=e[2]/255,s=e[3],a=Math.max(r,i,o),c=Math.min(r,i,o),l=a-c,u=a+c,f=.5*u;return t=c===a?0:r===a?60*(i-o)/l+360:i===a?60*(o-r)/l+120:60*(r-i)/l+240,n=0===l?0:.5>=f?l/u:l/(2-u),[Math.round(t)%360,n,f,null==s?1:s]},l.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],r=e[2],o=e[3],s=.5>=r?r*(1+n):r+n-r*n,a=2*r-s;return[Math.round(255*i(a,s,t+1/3)),Math.round(255*i(a,s,t)),Math.round(255*i(a,s,t-1/3)),o]},d(l,function(r,i){var o=i.props,a=i.cache,l=i.to,u=i.from;c.fn[r]=function(r){if(l&&!this[a]&&(this[a]=l(this._rgba)),r===t)return this[a].slice();var i,s=e.type(r),f="array"===s||"object"===s?r:arguments,h=this[a].slice();return d(o,function(e,t){var r=f["object"===s?e:t.idx];null==r&&(r=h[t.idx]),h[t.idx]=n(r,t)}),u?((i=c(u(h)))[a]=h,i):c(h)},d(o,function(t,n){c.fn[t]||(c.fn[t]=function(i){var o,a=e.type(i),c="alpha"===t?this._hsla?"hsla":"rgba":r,l=this[c](),u=l[n.idx];return"undefined"===a?u:("function"===a&&(i=i.call(this,u),a=e.type(i)),null==i&&n.empty?this:("string"===a&&((o=s.exec(i))&&(i=u+parseFloat(o[2])*("+"===o[1]?1:-1))),l[n.idx]=i,this[c](l)))})})}),c.hook=function(t){var n=t.split(" ");d(n,function(t,n){e.cssHooks[n]={set:function(t,i){var o,s,a="";if("transparent"!==i&&("string"!==e.type(i)||(o=r(i)))){if(i=c(o||i),!f.rgba&&1!==i._rgba[3]){for(s="backgroundColor"===n?t.parentNode:t;(""===a||"transparent"===a)&&s&&s.style;)try{a=e.css(s,"backgroundColor"),s=s.parentNode}catch(e){}i=i.blend(a&&"transparent"!==a?a:"_default")}i=i.toRgbaString()}try{t.style[n]=i}catch(e){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=c(t.elem,n),t.end=c(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})},c.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),e.cssHooks.borderColor={expand:function(e){var t={};return d(["Top","Right","Bottom","Left"],function(n,r){t["border"+r+"Color"]=e}),t}},o=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function t(t){var n,r,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,o={};if(i&&i.length&&i[0]&&i[i[0]])for(r=i.length;r--;)"string"==typeof i[n=i[r]]&&(o[e.camelCase(n)]=i[n]);else for(n in i)"string"==typeof i[n]&&(o[n]=i[n]);return o}function n(t,n){var r,o,s={};for(r in n)o=n[r],t[r]!==o&&(i[r]||(e.fx.step[r]||!isNaN(parseFloat(o)))&&(s[r]=o));return s}var r=["add","remove","toggle"],i={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,n,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(i,o,s,a){var c=e.speed(o,s,a);return this.queue(function(){var o,s=e(this),a=s.attr("class")||"",l=c.children?s.find("*").addBack():s;l=l.map(function(){return{el:e(this),start:t(this)}}),(o=function(){e.each(r,function(e,t){i[t]&&s[t+"Class"](i[t])})})(),l=l.map(function(){return this.end=t(this.el[0]),this.diff=n(this.start,this.end),this}),s.attr("class",a),l=l.map(function(){var t=this,n=e.Deferred(),r=e.extend({},c,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,r),n.promise()}),e.when.apply(e,l.get()).done(function(){o(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),c.complete.call(s[0])})})},e.fn.extend({addClass:function(t){return function(n,r,i,o){return r?e.effects.animateClass.call(this,{add:n},r,i,o):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(n,r,i,o){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},r,i,o):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(n,r,i,o,s){return"boolean"==typeof r||void 0===r?i?e.effects.animateClass.call(this,r?{add:n}:{remove:n},i,o,s):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},r,i,o)}}(e.fn.toggleClass),switchClass:function(t,n,r,i,o){return e.effects.animateClass.call(this,{add:n,remove:t},r,i,o)}})}(),function(){function t(t,n,r,i){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(i=n,r=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(i=r,r=n,n={}),e.isFunction(r)&&(i=r,r=null),n&&e.extend(t,n),r=r||n.duration,t.duration=e.fx.off?0:"number"==typeof r?r:r in e.fx.speeds?e.fx.speeds[r]:e.fx.speeds._default,t.complete=i||n.complete,t}function n(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||("string"==typeof t&&!e.effects.effect[t]||(!!e.isFunction(t)||"object"==typeof t&&!t.effect))}e.extend(e.effects,{version:"1.11.0",save:function(e,t){for(var n=0;t.length>n;n++)null!==t[n]&&e.data(g+t[n],e[0].style[t[n]])},restore:function(e,t){var n,r;for(r=0;t.length>r;r++)null!==t[r]&&(void 0===(n=e.data(g+t[r]))&&(n=""),e.css(t[r],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,r;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=e[1]/t.width}return{x:r,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},r=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i={width:t.width(),height:t.height()},o=document.activeElement;try{o.id}catch(e){o=document.body}return t.wrap(r),(t[0]===o||e.contains(t[0],o))&&e(o).focus(),r=t.parent(),"static"===t.css("position")?(r.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,r){n[r]=t.css(r),isNaN(parseInt(n[r],10))&&(n[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(i),r.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,r,i){return i=i||{},e.each(n,function(e,n){var o=t.cssUnit(n);o[0]>0&&(i[n]=o[0]*r+o[1])}),i}}),e.fn.extend({effect:function(){function n(t){function n(){e.isFunction(o)&&o.call(i[0]),e.isFunction(t)&&t()}var i=e(this),o=r.complete,a=r.mode;(i.is(":hidden")?"hide"===a:"show"===a)?(i[a](),n()):s.call(i[0],r,n)}var r=t.apply(this,arguments),i=r.mode,o=r.queue,s=e.effects.effect[r.effect];return e.fx.off||!s?i?this[i](r.duration,r.complete):this.each(function(){r.complete&&r.complete.call(this)}):!1===o?this.each(n):this.queue(o||"fx",n)},show:function(e){return function(r){if(n(r))return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(e.fn.show),hide:function(e){return function(r){if(n(r))return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(e.fn.hide),toggle:function(e){return function(r){if(n(r)||"boolean"==typeof r)return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(e.fn.toggle),cssUnit:function(t){var n=this.css(t),r=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(r=[parseFloat(n),t])}),r}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;((t=Math.pow(2,--n))-1)/11>e;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?n(2*e)/2:1-n(-2*e+2)/2}})}(),e.effects,e.effects.effect.blind=function(t,n){var r,i,o,s=e(this),a=["position","top","bottom","left","right","height","width"],c=e.effects.setMode(s,t.mode||"hide"),l=t.direction||"up",u=/up|down|vertical/.test(l),f=u?"height":"width",h=u?"top":"left",d=/up|left|vertical|horizontal/.test(l),p={},m="show"===c;s.parent().is(".ui-effects-wrapper")?e.effects.save(s.parent(),a):e.effects.save(s,a),s.show(),i=(r=e.effects.createWrapper(s).css({overflow:"hidden"}))[f](),o=parseFloat(r.css(h))||0,p[f]=m?i:0,d||(s.css(u?"bottom":"right",0).css(u?"top":"left","auto").css({position:"absolute"}),p[h]=m?o:i+o),m&&(r.css(f,0),d||r.css(h,o+i)),r.animate(p,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===c&&s.hide(),e.effects.restore(s,a),e.effects.removeWrapper(s),n()}})},e.effects.effect.bounce=function(t,n){var r,i,o,s=e(this),a=["position","top","bottom","left","right","height","width"],c=e.effects.setMode(s,t.mode||"effect"),l="hide"===c,u="show"===c,f=t.direction||"up",h=t.distance,d=t.times||5,p=2*d+(u||l?1:0),m=t.duration/p,g=t.easing,v="up"===f||"down"===f?"top":"left",b="up"===f||"left"===f,y=s.queue(),_=y.length;for((u||l)&&a.push("opacity"),e.effects.save(s,a),s.show(),e.effects.createWrapper(s),h||(h=s["top"===v?"outerHeight":"outerWidth"]()/3),u&&((o={opacity:1})[v]=0,s.css("opacity",0).css(v,b?2*-h:2*h).animate(o,m,g)),l&&(h/=Math.pow(2,d-1)),(o={})[v]=0,r=0;d>r;r++)(i={})[v]=(b?"-=":"+=")+h,s.animate(i,m,g).animate(o,m,g),h=l?2*h:h/2;l&&((i={opacity:0})[v]=(b?"-=":"+=")+h,s.animate(i,m,g)),s.queue(function(){l&&s.hide(),e.effects.restore(s,a),e.effects.removeWrapper(s),n()}),_>1&&y.splice.apply(y,[1,0].concat(y.splice(_,p+1))),s.dequeue()},e.effects.effect.clip=function(t,n){var r,i,o,s=e(this),a=["position","top","bottom","left","right","height","width"],c="show"===e.effects.setMode(s,t.mode||"hide"),l="vertical"===(t.direction||"vertical"),u=l?"height":"width",f=l?"top":"left",h={};e.effects.save(s,a),s.show(),r=e.effects.createWrapper(s).css({overflow:"hidden"}),o=(i="IMG"===s[0].tagName?r:s)[u](),c&&(i.css(u,0),i.css(f,o/2)),h[u]=c?o:0,h[f]=c?0:o/2,i.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){c||s.hide(),e.effects.restore(s,a),e.effects.removeWrapper(s),n()}})},e.effects.effect.drop=function(t,n){var r,i=e(this),o=["position","top","bottom","left","right","opacity","height","width"],s=e.effects.setMode(i,t.mode||"hide"),a="show"===s,c=t.direction||"left",l="up"===c||"down"===c?"top":"left",u="up"===c||"left"===c?"pos":"neg",f={opacity:a?1:0};e.effects.save(i,o),i.show(),e.effects.createWrapper(i),r=t.distance||i["top"===l?"outerHeight":"outerWidth"](!0)/2,a&&i.css("opacity",0).css(l,"pos"===u?-r:r),f[l]=(a?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+r,i.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&i.hide(),e.effects.restore(i,o),e.effects.removeWrapper(i),n()}})},e.effects.effect.explode=function(t,n){function r(){v.push(this),v.length===u*f&&(h.css({visibility:"visible"}),e(v).remove(),d||h.hide(),n())}var i,o,s,a,c,l,u=t.pieces?Math.round(Math.sqrt(t.pieces)):3,f=u,h=e(this),d="show"===e.effects.setMode(h,t.mode||"hide"),p=h.show().css("visibility","hidden").offset(),m=Math.ceil(h.outerWidth()/f),g=Math.ceil(h.outerHeight()/u),v=[];for(i=0;u>i;i++)for(a=p.top+i*g,l=i-(u-1)/2,o=0;f>o;o++)s=p.left+o*m,c=o-(f-1)/2,h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*m,top:-i*g}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:m,height:g,left:s+(d?c*m:0),top:a+(d?l*g:0),opacity:d?0:1}).animate({left:s+(d?0:c*m),top:a+(d?0:l*g),opacity:d?1:0},t.duration||500,t.easing,r)},e.effects.effect.fade=function(t,n){var r=e(this),i=e.effects.setMode(r,t.mode||"toggle");r.animate({opacity:i},{queue:!1,duration:t.duration,easing:t.easing,complete:n})},e.effects.effect.fold=function(t,n){var r,i,o=e(this),s=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(o,t.mode||"hide"),c="show"===a,l="hide"===a,u=t.size||15,f=/([0-9]+)%/.exec(u),h=!!t.horizFirst,d=c!==h,p=d?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(o,s),o.show(),r=e.effects.createWrapper(o).css({overflow:"hidden"}),i=d?[r.width(),r.height()]:[r.height(),r.width()],f&&(u=parseInt(f[1],10)/100*i[l?0:1]),c&&r.css(h?{height:0,width:u}:{height:u,width:0}),g[p[0]]=c?i[0]:u,v[p[1]]=c?i[1]:0,r.animate(g,m,t.easing).animate(v,m,t.easing,function(){l&&o.hide(),e.effects.restore(o,s),e.effects.removeWrapper(o),n()})},e.effects.effect.highlight=function(t,n){var r=e(this),i=["backgroundImage","backgroundColor","opacity"],o=e.effects.setMode(r,t.mode||"show"),s={backgroundColor:r.css("backgroundColor")};"hide"===o&&(s.opacity=0),e.effects.save(r,i),r.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&r.hide(),e.effects.restore(r,i),n()}})},e.effects.effect.size=function(t,n){var r,i,o,s=e(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],c=["width","height","overflow"],l=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],f=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],h=e.effects.setMode(s,t.mode||"effect"),d=t.restore||"effect"!==h,p=t.scale||"both",m=t.origin||["middle","center"],g=s.css("position"),v=d?a:["position","top","bottom","left","right","overflow","opacity"],b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===h&&s.show(),r={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},"toggle"===t.mode&&"show"===h?(s.from=t.to||b,s.to=t.from||r):(s.from=t.from||("show"===h?b:r),s.to=t.to||("hide"===h?b:r)),o={from:{y:s.from.height/r.height,x:s.from.width/r.width},to:{y:s.to.height/r.height,x:s.to.width/r.width}},("box"===p||"both"===p)&&(o.from.y!==o.to.y&&(v=v.concat(u),s.from=e.effects.setTransition(s,u,o.from.y,s.from),s.to=e.effects.setTransition(s,u,o.to.y,s.to)),o.from.x!==o.to.x&&(v=v.concat(f),s.from=e.effects.setTransition(s,f,o.from.x,s.from),s.to=e.effects.setTransition(s,f,o.to.x,s.to))),("content"===p||"both"===p)&&o.from.y!==o.to.y&&(v=v.concat(l).concat(c),s.from=e.effects.setTransition(s,l,o.from.y,s.from),s.to=e.effects.setTransition(s,l,o.to.y,s.to)),e.effects.save(s,v),s.show(),e.effects.createWrapper(s),s.css("overflow","hidden").css(s.from),m&&(i=e.effects.getBaseline(m,r),s.from.top=(r.outerHeight-s.outerHeight())*i.y,s.from.left=(r.outerWidth-s.outerWidth())*i.x,s.to.top=(r.outerHeight-s.to.outerHeight)*i.y,s.to.left=(r.outerWidth-s.to.outerWidth)*i.x),s.css(s.from),("content"===p||"both"===p)&&(u=u.concat(["marginTop","marginBottom"]).concat(l),f=f.concat(["marginLeft","marginRight"]),c=a.concat(u).concat(f),s.find("*[width]").each(function(){var n=e(this),r=n.height(),i=n.width(),s=n.outerHeight(),a=n.outerWidth();d&&e.effects.save(n,c),n.from={height:r*o.from.y,width:i*o.from.x,outerHeight:s*o.from.y,outerWidth:a*o.from.x},n.to={height:r*o.to.y,width:i*o.to.x,outerHeight:r*o.to.y,outerWidth:i*o.to.x},o.from.y!==o.to.y&&(n.from=e.effects.setTransition(n,u,o.from.y,n.from),n.to=e.effects.setTransition(n,u,o.to.y,n.to)),o.from.x!==o.to.x&&(n.from=e.effects.setTransition(n,f,o.from.x,n.from),n.to=e.effects.setTransition(n,f,o.to.x,n.to)),n.css(n.from),n.animate(n.to,t.duration,t.easing,function(){d&&e.effects.restore(n,c)})})),s.animate(s.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===s.to.opacity&&s.css("opacity",s.from.opacity),"hide"===h&&s.hide(),e.effects.restore(s,v),d||("static"===g?s.css({position:"relative",top:s.to.top,left:s.to.left}):e.each(["top","left"],function(e,t){s.css(t,function(t,n){var r=parseInt(n,10),i=e?s.to.left:s.to.top;return"auto"===n?i+"px":r+i+"px"})})),e.effects.removeWrapper(s),n()}})},e.effects.effect.scale=function(t,n){var r=e(this),i=e.extend(!0,{},t),o=e.effects.setMode(r,t.mode||"effect"),s=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===o?0:100),a=t.direction||"both",c=t.origin,l={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()},u="horizontal"!==a?s/100:1,f="vertical"!==a?s/100:1;i.effect="size",i.queue=!1,i.complete=n,"effect"!==o&&(i.origin=c||["middle","center"],i.restore=!0),i.from=t.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:l),i.to={height:l.height*u,width:l.width*f,outerHeight:l.outerHeight*u,outerWidth:l.outerWidth*f},i.fade&&("show"===o&&(i.from.opacity=0,i.to.opacity=1),"hide"===o&&(i.from.opacity=1,i.to.opacity=0)),r.effect(i)},e.effects.effect.puff=function(t,n){var r=e(this),i=e.effects.setMode(r,t.mode||"hide"),o="hide"===i,s=parseInt(t.percent,10)||150,a=s/100,c={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:i,complete:n,percent:o?s:100,from:o?c:{height:c.height*a,width:c.width*a,outerHeight:c.outerHeight*a,outerWidth:c.outerWidth*a}}),r.effect(t)},e.effects.effect.pulsate=function(t,n){var r,i=e(this),o=e.effects.setMode(i,t.mode||"show"),s="show"===o,a="hide"===o,c=s||"hide"===o,l=2*(t.times||5)+(c?1:0),u=t.duration/l,f=0,h=i.queue(),d=h.length;for((s||!i.is(":visible"))&&(i.css("opacity",0).show(),f=1),r=1;l>r;r++)i.animate({opacity:f},u,t.easing),f=1-f;i.animate({opacity:f},u,t.easing),i.queue(function(){a&&i.hide(),n()}),d>1&&h.splice.apply(h,[1,0].concat(h.splice(d,l+1))),i.dequeue()},e.effects.effect.shake=function(t,n){var r,i=e(this),o=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(i,t.mode||"effect"),a=t.direction||"left",c=t.distance||20,l=t.times||3,u=2*l+1,f=Math.round(t.duration/u),h="up"===a||"down"===a?"top":"left",d="up"===a||"left"===a,p={},m={},g={},v=i.queue(),b=v.length;for(e.effects.save(i,o),i.show(),e.effects.createWrapper(i),p[h]=(d?"-=":"+=")+c,m[h]=(d?"+=":"-=")+2*c,g[h]=(d?"-=":"+=")+2*c,i.animate(p,f,t.easing),r=1;l>r;r++)i.animate(m,f,t.easing).animate(g,f,t.easing);i.animate(m,f,t.easing).animate(p,f/2,t.easing).queue(function(){"hide"===s&&i.hide(),e.effects.restore(i,o),e.effects.removeWrapper(i),n()}),b>1&&v.splice.apply(v,[1,0].concat(v.splice(b,u+1))),i.dequeue()},e.effects.effect.slide=function(t,n){var r,i=e(this),o=["position","top","bottom","left","right","width","height"],s=e.effects.setMode(i,t.mode||"show"),a="show"===s,c=t.direction||"left",l="up"===c||"down"===c?"top":"left",u="up"===c||"left"===c,f={};e.effects.save(i,o),i.show(),r=t.distance||i["top"===l?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(i).css({overflow:"hidden"}),a&&i.css(l,u?isNaN(r)?"-"+r:-r:r),f[l]=(a?u?"+=":"-=":u?"-=":"+=")+r,i.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&i.hide(),e.effects.restore(i,o),e.effects.removeWrapper(i),n()}})},e.effects.effect.transfer=function(t,n){var r=e(this),i=e(t.to),o="fixed"===i.css("position"),s=e("body"),a=o?s.scrollTop():0,c=o?s.scrollLeft():0,l=i.offset(),u={top:l.top-a,left:l.left-c,height:i.innerHeight(),width:i.innerWidth()},f=r.offset(),h=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:f.top-a,left:f.left-c,height:r.innerHeight(),width:r.innerWidth(),position:o?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){h.remove(),n()})},e.widget("ui.progressbar",{version:"1.11.0",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),void this._refreshValue())},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(n.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectable",e.ui.mouse,{version:"1.11.0",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(t=e(n.options.filter,n.element[0])).addClass("ui-selectee"),t.each(function(){var t=e(this),n=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var n=this,r=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(r.filter,this.element[0]),this._trigger("start",t),e(r.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var r=e.data(this,"selectable-item");r.startselected=!0,t.metaKey||t.ctrlKey||(r.$element.removeClass("ui-selected"),r.selected=!1,r.$element.addClass("ui-unselecting"),r.unselecting=!0,n._trigger("unselecting",t,{unselecting:r.element}))}),e(t.target).parents().addBack().each(function(){var r,i=e.data(this,"selectable-item");return i?(r=!t.metaKey&&!t.ctrlKey||!i.$element.hasClass("ui-selected"),i.$element.removeClass(r?"ui-unselecting":"ui-selected").addClass(r?"ui-selecting":"ui-unselecting"),i.unselecting=!r,i.selecting=r,i.selected=r,r?n._trigger("selecting",t,{selecting:i.element}):n._trigger("unselecting",t,{unselecting:i.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var n,r=this,i=this.options,o=this.opos[0],s=this.opos[1],a=t.pageX,c=t.pageY;return o>a&&(n=a,a=o,o=n),s>c&&(n=c,c=s,s=n),this.helper.css({left:o,top:s,width:a-o,height:c-s}),this.selectees.each(function(){var n=e.data(this,"selectable-item"),l=!1;n&&n.element!==r.element[0]&&("touch"===i.tolerance?l=!(n.left>a||o>n.right||n.top>c||s>n.bottom):"fit"===i.tolerance&&(l=n.left>o&&a>n.right&&n.top>s&&c>n.bottom),l?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,r._trigger("selecting",t,{selecting:n.element}))):(n.selecting&&((t.metaKey||t.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),r._trigger("unselecting",t,{unselecting:n.element}))),n.selected&&(t.metaKey||t.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,r._trigger("unselecting",t,{unselecting:n.element})))))}),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-unselecting"),r.unselecting=!1,r.startselected=!1,n._trigger("unselected",t,{unselected:r.element})}),e(".ui-selecting",this.element[0]).each(function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-selecting").addClass("ui-selected"),r.selecting=!1,r.selected=!0,r.startselected=!0,n._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.selectmenu",{version:"1.11.0",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this,n=this.element.attr("tabindex");this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{class:"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:n||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{class:"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{class:"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._setOption("width",this.options.width),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{class:"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(e,n){e.preventDefault(),t._select(n.item.data("ui-selectmenu-item"),e)},focus:function(e,n){var r=n.item.data("ui-selectmenu-item");null!=t.focusIndex&&r.index!==t.focusIndex&&(t._trigger("focus",e,{item:r}),t.isOpen||t._select(r,e)),t.focusIndex=r.index,t.button.attr("aria-activedescendant",t.menuItems.eq(r.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this._setOption("width",this.options.width)},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,n){var r=this,i="";e.each(n,function(n,o){o.optgroup!==i&&(e("<li>",{class:"ui-selectmenu-optgroup ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:o.optgroup}).appendTo(t),i=o.optgroup),r._renderItemData(t,o)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,n){var r=e("<li>");return n.disabled&&r.addClass("ui-state-disabled"),this._setText(r,n.label),r.appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var n,r,i=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex):(n=this.menuItems.eq(this.element[0].selectedIndex),i+=":not(.ui-state-disabled)"),(r="first"===e||"last"===e?n["first"===e?"prevAll":"nextAll"](i).eq(-1):n[e+"All"](i).eq(0)).length&&this.menuInstance.focus(t,r)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{click:"_toggle",keydown:function(t){var n=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),n=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),n=!1}n&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==n&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&(t||(t=this.element.outerWidth()),this.button.outerWidth(t))},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var n=[];t.each(function(t,r){var i=e(r),o=i.parent("optgroup");n.push({element:i,index:t,value:i.attr("value"),label:i.text(),optgroup:o.attr("label")||"",disabled:o.prop("disabled")||i.prop("disabled")})}),this.items=n},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.0",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,r=this.options,i=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o=[];for(n=r.values&&r.values.length||1,i.length>n&&(i.slice(n).remove(),i=i.slice(0,n)),t=i.length;n>t;t++)o.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>");this.handles=i.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,n="";t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),n="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(n+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var n,r,i,o,s,a,c,l=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},r=this._normValueFromMouse(n),i=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var n=Math.abs(r-l.values(t));(i>n||i===n&&(t===l._lastChangedValue||l.values(t)===u.min))&&(i=n,o=e(this),s=t)}),!1!==this._start(t,s)&&(this._mouseSliding=!0,this._handleIndex=s,o.addClass("ui-state-active").focus(),a=o.offset(),c=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-a.left-o.width()/2,top:t.pageY-a.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,s,r),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,r,i,o;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(r=n/t)>1&&(r=1),0>r&&(r=0),"vertical"===this.orientation&&(r=1-r),i=this._valueMax()-this._valueMin(),o=this._valueMin()+r*i,this._trimAlignValue(o)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var r,i,o;this.options.values&&this.options.values.length?(r=this.values(t?0:1),2===this.options.values.length&&!0===this.options.range&&(0===t&&n>r||1===t&&r>n)&&(n=r),n!==this.values(t)&&((i=this.values())[t]=n,o=this._trigger("slide",e,{handle:this.handles[t],value:n,values:i}),r=this.values(t?0:1),!1!==o&&this.values(t,n))):n!==this.value()&&(!1!==(o=this._trigger("slide",e,{handle:this.handles[t],value:n}))&&this.value(n))},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,n)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,n){var r,i,o;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(r=this.options.values,i=arguments[0],o=0;r.length>o;o+=1)r[o]=this._trimAlignValue(i[o]),this._change(null,o);this._refreshValue()},_setOption:function(t,n){var r,i=0;switch("range"===t&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(i=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!n),this._super(t,n),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=0;i>r;r+=1)this._change(null,r);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return this._trimAlignValue(e)},_values:function(e){var t,n,r;if(arguments.length)return t=this.options.values[e],this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(n=this.options.values.slice(),r=0;n.length>r;r+=1)n[r]=this._trimAlignValue(n[r]);return n}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,r=e-n;return 2*Math.abs(n)>=t&&(r+=n>0?t:-t),parseFloat(r.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,n,r,i,o,s=this.options.range,a=this.options,c=this,l=!this._animateOff&&a.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(r){n=(c.values(r)-c._valueMin())/(c._valueMax()-c._valueMin())*100,u["horizontal"===c.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[l?"animate":"css"](u,a.animate),!0===c.options.range&&("horizontal"===c.orientation?(0===r&&c.range.stop(1,1)[l?"animate":"css"]({left:n+"%"},a.animate),1===r&&c.range[l?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:a.animate})):(0===r&&c.range.stop(1,1)[l?"animate":"css"]({bottom:n+"%"},a.animate),1===r&&c.range[l?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:a.animate}))),t=n}):(r=this.value(),i=this._valueMin(),o=this._valueMax(),n=o!==i?(r-i)/(o-i)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[l?"animate":"css"](u,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:n+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:a.animate}),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:n+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(t){var n,r,i,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),!1===this._start(t,o)))return}switch(i=this.options.step,n=r=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:r=this._valueMin();break;case e.ui.keyCode.END:r=this._valueMax();break;case e.ui.keyCode.PAGE_UP:r=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax())return;r=this._trimAlignValue(n+i);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin())return;r=this._trimAlignValue(n-i)}this._slide(t,o,r)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),e(t.target).removeClass("ui-state-active"))}}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.0",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&t+n>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===e.axis||this._isFloating(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var r=null,i=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,o.widgetName+"-item")===o?(r=e(this),!1):void 0}),e.data(t.target,o.widgetName+"-item")===o&&(r=e(t.target)),!!r&&(!(this.options.handle&&!n&&(e(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(i=!0)}),!i))&&(this.currentItem=r,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,n,r){var i,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=e("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,r,i,o,s=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(t.pageY-e(document).scrollTop()<s.scrollSensitivity?a=e(document).scrollTop(e(document).scrollTop()-s.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<s.scrollSensitivity&&(a=e(document).scrollTop(e(document).scrollTop()+s.scrollSpeed)),t.pageX-e(document).scrollLeft()<s.scrollSensitivity?a=e(document).scrollLeft(e(document).scrollLeft()-s.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<s.scrollSensitivity&&(a=e(document).scrollLeft(e(document).scrollLeft()+s.scrollSpeed))),!1!==a&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=(r=this.items[n]).item[0],(o=this._intersectsWithPointer(r))&&r.instance===this.currentContainer&&i!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==i&&!e.contains(this.placeholder[0],i)&&("semi-dynamic"!==this.options.type||!e.contains(this.element[0],i))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var r=this,i=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,o=e.left,s=o+e.width,a=e.top,c=a+e.height,l=this.offset.click.top,u=this.offset.click.left,f="x"===this.options.axis||r+l>a&&c>r+l,h="y"===this.options.axis||t+u>o&&s>t+u,d=f&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?d:t+this.helperProportions.width/2>o&&s>n-this.helperProportions.width/2&&r+this.helperProportions.height/2>a&&c>i-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),r=t&&n,i=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!r&&(this.floating?o&&"right"===o||"down"===i?2:1:i&&("down"===i?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();return this.floating&&i?"right"===i&&n||"left"===i&&!n:r&&("down"===r&&t||"up"===r&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function n(){a.push(this)}var r,i,o,s,a=[],c=[],l=this._connectWith();if(l&&t)for(r=l.length-1;r>=0;r--)for(i=(o=e(l[r])).length-1;i>=0;i--)(s=e.data(o[i],this.widgetFullName))&&s!==this&&!s.options.disabled&&c.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(c.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),r=c.length-1;r>=0;r--)c[r][0].each(n);return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;t.length>n;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,r,i,o,s,a,c,l,u=this.items,f=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(r=(i=e(h[n])).length-1;r>=0;r--)(o=e.data(i[r],this.widgetFullName))&&o!==this&&!o.options.disabled&&(f.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(n=f.length-1;n>=0;n--)for(s=f[n][1],r=0,l=(a=f[n][0]).length;l>r;r++)(c=e(a[r])).data(this.widgetName+"-item",s),u.push({item:c,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var n,r,i,o;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(r=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item,t||(r.width=i.outerWidth(),r.height=i.outerHeight()),o=i.offset(),r.left=o.left,r.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){var n,r=(t=t||this).options;r.placeholder&&r.placeholder.constructor!==String||(n=r.placeholder,r.placeholder={element:function(){var r=t.currentItem[0].nodeName.toLowerCase(),i=e("<"+r+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===r?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)}):"img"===r&&i.attr("src",t.currentItem.attr("src")),n||i.css("visibility","hidden"),i},update:function(e,i){(!n||r.forcePlaceholderSize)&&(i.height()||i.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),i.width()||i.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(r.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),r.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var n,r,i,o,s,a,c,l,u,f,h=null,d=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(h&&e.contains(this.containers[n].element[0],h.element[0]))continue;h=this.containers[n],d=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[d].containerCache.over||(this.containers[d]._trigger("over",t,this._uiHash(this)),this.containers[d].containerCache.over=1);else{for(i=1e4,o=null,s=(u=h.floating||this._isFloating(this.currentItem))?"left":"top",a=u?"width":"height",f=u?"clientX":"clientY",r=this.items.length-1;r>=0;r--)e.contains(this.containers[d].element[0],this.items[r].item[0])&&this.items[r].item[0]!==this.currentItem[0]&&(c=this.items[r].item.offset()[s],l=!1,t[f]-c>this.items[r][a]/2&&(l=!0),i>Math.abs(t[f]-c)&&(i=Math.abs(t[f]-c),o=this.items[r],this.direction=l?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[d])return;o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[d].element,!0),this._trigger("change",t,this._uiHash()),this.containers[d]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[d],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",t,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return r.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!r[0].style.width||n.forceHelperSize)&&r.width(this.currentItem.width()),(!r[0].style.height||n.forceHelperSize)&&r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),("document"===i.containment||"window"===i.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===i.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===i.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=e(i.containment)[0],n=e(i.containment).offset(),r="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var r="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:i.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:i.scrollLeft())*r}},_generatePosition:function(t){var n,r,i=this.options,o=t.pageX,s=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,c=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),i.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/i.grid[1])*i.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-i.grid[1]:n+i.grid[1]:n,r=this.originalPageX+Math.round((o-this.originalPageX)/i.grid[0])*i.grid[0],o=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-i.grid[0]:r+i.grid[0]:r)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():c?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():c?0:a.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay(function(){i===this.counter&&this.refreshPositions(!r)})},_clear:function(e,t){function n(e,t,n){return function(r){n._trigger(e,r,t._uiHash(t))}}this.reverting=!1;var r,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(r in this._storedCSS)("auto"===this._storedCSS[r]||"static"===this._storedCSS[r])&&(this._storedCSS[r]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(i.push(function(e){this._trigger("remove",e,this._uiHash())}),i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),r=this.containers.length-1;r>=0;r--)t||i.push(n("deactivate",this,this.containers[r])),this.containers[r].containerCache.over&&(i.push(n("out",this,this.containers[r])),this.containers[r].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),r=0;i.length>r;r++)i[r].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(r=0;i.length>r;r++)i[r].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}}),e.widget("ui.spinner",{version:"1.11.0",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},n=this.element;return e.each(["min","max","step"],function(e,r){var i=n.attr(r);void 0!==i&&i.length&&(t[r]=i)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function n(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=r,this._delay(function(){this.previous=r}))}var r;r=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),!1!==this._start(t)&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?!1!==this._start(t)&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var n=this.options,r=e.ui.keyCode;switch(t.keyCode){case r.UP:return this._repeat(null,1,t),!0;case r.DOWN:return this._repeat(null,-1,t),!0;case r.PAGE_UP:return this._repeat(null,n.page,t),!0;case r.PAGE_DOWN:return this._repeat(null,-n.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,n)},e),this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:n})||(this._value(n),this.counter++)},_increment:function(t){var n=this.options.incremental;return n?e.isFunction(n)?n(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,n=t.indexOf(".");return-1===n?0:t.length-n-1},_adjustValue:function(e){var t,n,r=this.options;return n=e-(t=null!==r.min?r.min:0),e=t+(n=Math.round(n/r.step)*r.step),e=parseFloat(e.toFixed(this._precision())),null!==r.max&&e>r.max?r.max:null!==r.min&&r.min>e?r.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var n=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(n))}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:s(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var n;""!==e&&(null!==(n=this._parse(e))&&(t||(n=this._adjustValue(n)),e=this._format(n))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:s(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:s(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:s(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:s(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?void s(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.0",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var n,r;n=(t=t.cloneNode(!1)).href.replace(e,""),r=location.href.replace(e,"");try{n=decodeURIComponent(n)}catch(e){}try{r=decodeURIComponent(r)}catch(e){}return t.hash.length>1&&n===r}}(),_create:function(){var t=this,n=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",n.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),n.active=this._initialActive(),e.isArray(n.disabled)&&(n.disabled=e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=!1!==this.options.active&&this.anchors.length?this._findActive(n.active):e(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var t=this.options.active,n=this.options.collapsible,r=location.hash.substring(1);return null===t&&(r&&this.tabs.each(function(n,i){return e(i).attr("aria-controls")===r?(t=n,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=!!this.tabs.length&&0)),!1!==t&&(-1===(t=this.tabs.index(this.tabs.eq(t)))&&(t=!n&&0)),!n&&!1===t&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var n=e(this.document[0].activeElement).closest("li"),r=this.tabs.index(n),i=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:r++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:i=!1,r--;break;case e.ui.keyCode.END:r=this.anchors.length-1;break;case e.ui.keyCode.HOME:r=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(r);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(r!==this.options.active&&r);default:return}t.preventDefault(),clearTimeout(this.activating),r=this._focusNextTab(r,i),t.ctrlKey||(n.attr("aria-selected","false"),this.tabs.eq(r).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",r)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,n){for(var r=this.tabs.length-1;-1!==e.inArray((t>r&&(t=0),0>t&&(t=r),t),this.options.disabled);)t=n?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?void this._activate(t):"disabled"===e?void this._setupDisabled(t):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),void("heightStyle"===e&&this._setupHeightStyle(t)))},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,n=this.tablist.children(":has(a[href])");t.disabled=e.map(n.filter(".ui-state-disabled"),function(e){return n.index(e)}),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(n,r){var i,o,s,a=e(r).uniqueId().attr("id"),c=e(r).closest("li"),l=c.attr("aria-controls");t._isLocal(r)?(s=(i=r.hash).substring(1),o=t.element.find(t._sanitizeSelector(i))):(i="#"+(s=c.attr("aria-controls")||e({}).uniqueId()[0].id),(o=t.element.find(i)).length||(o=t._createPanel(s)).insertAfter(t.panels[n-1]||t.tablist),o.attr("aria-live","polite")),o.length&&(t.panels=t.panels.add(o)),l&&c.data("ui-tabs-aria-controls",l),c.attr({"aria-controls":s,"aria-labelledby":a}),o.attr("aria-labelledby",a)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var n,r=0;n=this.tabs[r];r++)!0===t||-1!==e.inArray(r,t)?e(n).addClass("ui-state-disabled").attr("aria-disabled","true"):e(n).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var n={};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,r=this.element.parent();"fill"===t?(n=r.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),r=t.css("position");"absolute"!==r&&"fixed"!==r&&(n-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each(function(){n=Math.max(n,e(this).height("").height())}).height(n))},_eventHandler:function(t){var n=this.options,r=this.active,i=e(t.currentTarget).closest("li"),o=i[0]===r[0],s=o&&n.collapsible,a=s?e():this._getPanelForTab(i),c=r.length?this._getPanelForTab(r):e(),l={oldTab:r,oldPanel:c,newTab:s?e():i,newPanel:a};t.preventDefault(),i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||o&&!n.collapsible||!1===this._trigger("beforeActivate",t,l)||(n.active=!s&&this.tabs.index(i),this.active=o?e():i,this.xhr&&this.xhr.abort(),c.length||a.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(i),t),this._toggle(t,l))},_toggle:function(t,n){function r(){o.running=!1,o._trigger("activate",t,n)}function i(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),s.length&&o.options.show?o._show(s,o.options.show,r):(s.show(),r())}var o=this,s=n.newPanel,a=n.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),i()}):(n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),i()),a.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),s.length&&a.length?n.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var n,r=this._findActive(t);r[0]!==this.active[0]&&(r.length||(r=this.active),n=r.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return!1===t?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),n=t.data("ui-tabs-aria-controls");n?t.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var n=this.options.disabled;!1!==n&&(void 0===t?n=!1:(t=this._getIndex(t),n=e.isArray(n)?e.map(n,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,n){return n!==t?n:null})),this._setupDisabled(n))},disable:function(t){var n=this.options.disabled;if(!0!==n){if(void 0===t)n=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,n))return;n=e.isArray(n)?e.merge([t],n).sort():[t]}this._setupDisabled(n)}},load:function(t,n){t=this._getIndex(t);var r=this,i=this.tabs.eq(t),o=i.find(".ui-tabs-anchor"),s=this._getPanelForTab(i),a={tab:i,panel:s};this._isLocal(o[0])||(this.xhr=e.ajax(this._ajaxSettings(o,n,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(i.addClass("ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){s.html(e),r._trigger("load",n,a)},1)}).complete(function(e,t){setTimeout(function(){"abort"===t&&r.panels.stop(!1,!0),i.removeClass("ui-tabs-loading"),s.removeAttr("aria-busy"),e===r.xhr&&delete r.xhr},1)})))},_ajaxSettings:function(t,n,r){var i=this;return{url:t.attr("href"),beforeSend:function(t,o){return i._trigger("beforeLoad",n,e.extend({jqXHR:t,ajaxSettings:o},r))}}},_getPanelForTab:function(t){var n=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),e.widget("ui.tooltip",{version:"1.11.0",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,n){var r=(t.attr("aria-describedby")||"").split(/\s+/);r.push(n),t.data("ui-tooltip-id",n).attr("aria-describedby",e.trim(r.join(" ")))},_removeDescribedBy:function(t){var n=t.data("ui-tooltip-id"),r=(t.attr("aria-describedby")||"").split(/\s+/),i=e.inArray(n,r);-1!==i&&r.splice(i,1),t.removeData("ui-tooltip-id"),(r=e.trim(r.join(" ")))?t.attr("aria-describedby",r):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,n){var r=this;return"disabled"===t?(this[n?"_disable":"_enable"](),void(this.options[t]=n)):(this._super(t,n),void("content"===t&&e.each(this.tooltips,function(e,t){r._updateContent(t)})))},_disable:function(){var t=this;e.each(this.tooltips,function(n,r){var i=e.Event("blur");i.target=i.currentTarget=r[0],t.close(i,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var n=this,r=e(t?t.target:this.element).closest(this.options.items);r.length&&!r.data("ui-tooltip-id")&&(r.attr("title")&&r.data("ui-tooltip-title",r.attr("title")),r.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&r.parents().each(function(){var t,r=e(this);r.data("ui-tooltip-open")&&((t=e.Event("blur")).target=t.currentTarget=this,n.close(t,!0)),r.attr("title")&&(r.uniqueId(),n.parents[this.id]={element:this,title:r.attr("title")},r.attr("title",""))}),this._updateContent(r,t))},_updateContent:function(e,t){var n,r=this.options.content,i=this,o=t?t.type:null;return"string"==typeof r?this._open(t,e,r):void((n=r.call(e[0],function(n){e.data("ui-tooltip-open")&&i._delay(function(){t&&(t.type=o),this._open(t,e,n)})}))&&this._open(t,e,n))},_open:function(t,n,r){function i(e){l.of=e,o.is(":hidden")||o.position(l)}var o,s,a,c,l=e.extend({},this.options.position);if(r){if((o=this._find(n)).length)return void o.find(".ui-tooltip-content").html(r);n.is("[title]")&&(t&&"mouseover"===t.type?n.attr("title",""):n.removeAttr("title")),o=this._tooltip(n),this._addDescribedBy(n,o.attr("id")),o.find(".ui-tooltip-content").html(r),this.liveRegion.children().hide(),r.clone?(c=r.clone()).removeAttr("id").find("[id]").removeAttr("id"):c=r,e("<div>").html(c).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:i}),i(t)):o.position(e.extend({of:n},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval(function(){o.is(":visible")&&(i(l.of),clearInterval(a))},e.fx.interval)),this._trigger("open",t,{tooltip:o}),s={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var r=e.Event(t);r.currentTarget=n[0],this.close(r,!0)}}},n[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(o)}),t&&"mouseover"!==t.type||(s.mouseleave="close"),t&&"focusin"!==t.type||(s.focusout="close"),this._on(!0,n,s)}},close:function(t){var n=this,r=e(t?t.currentTarget:this.element),i=this._find(r);this.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),i.stop(!0),this._hide(i,this.options.hide,function(){n._removeTooltip(e(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,r){e(r.element).attr("title",r.title),delete n.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:i}),this.closing=!1)},_tooltip:function(t){var n=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),r=n.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),this.tooltips[r]=t,n},_find:function(t){var n=t.data("ui-tooltip-id");return n?e("#"+n):e()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(n,r){var i=e.Event("blur");i.target=i.currentTarget=r[0],t.close(i,!0),e("#"+n).remove(),r.data("ui-tooltip-title")&&(r.attr("title")||r.attr("title",r.data("ui-tooltip-title")),r.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n||(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n,t,t.document)}:e(jQuery,window,document)}(function(e,t,n,r){function i(t){var n,r,o={};e.each(t,function(e){(n=e.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(n[1]+" ")&&(r=e.replace(n[0],n[2].toLowerCase()),o[r]=e,"o"===n[1]&&i(t[e]))}),t._hungarianMap=o}function o(t,n,s){var a;t._hungarianMap||i(t),e.each(n,function(i){(a=t._hungarianMap[i])===r||!s&&n[a]!==r||("o"===a.charAt(0)?(n[a]||(n[a]={}),e.extend(!0,n[a],n[i]),o(t[a],n[a],s)):n[a]=n[i])})}function s(e){var t=Ve.defaults.oLanguage,n=e.sZeroRecords;!e.sEmptyTable&&n&&"No data available in table"===t.sEmptyTable&&Me(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&n&&"Loading..."===t.sLoadingRecords&&Me(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands),(e=e.sDecimal)&&He(e)}function a(e){if(lt(e,"ordering","bSort"),lt(e,"orderMulti","bSortMulti"),lt(e,"orderClasses","bSortClasses"),lt(e,"orderCellsTop","bSortCellsTop"),lt(e,"order","aaSorting"),lt(e,"orderFixed","aaSortingFixed"),lt(e,"paging","bPaginate"),lt(e,"pagingType","sPaginationType"),lt(e,"pageLength","iDisplayLength"),lt(e,"searching","bFilter"),"boolean"==typeof e.sScrollX&&(e.sScrollX=e.sScrollX?"100%":""),"boolean"==typeof e.scrollX&&(e.scrollX=e.scrollX?"100%":""),e=e.aoSearchCols)for(var t=0,n=e.length;t<n;t++)e[t]&&o(Ve.models.oSearch,e[t])}function c(t){lt(t,"orderable","bSortable"),lt(t,"orderData","aDataSort"),lt(t,"orderSequence","asSorting"),lt(t,"orderDataType","sortDataType");var n=t.aDataSort;"number"==typeof n&&!e.isArray(n)&&(t.aDataSort=[n])}function l(n){if(!Ve.__browser){var r={};Ve.__browser=r;var i=e("<div/>").css({position:"fixed",top:0,left:-1*e(t).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(e("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(e("<div/>").css({width:"100%",height:10}))).appendTo("body"),o=i.children(),s=o.children();r.barWidth=o[0].offsetWidth-o[0].clientWidth,r.bScrollOversize=100===s[0].offsetWidth&&100!==o[0].clientWidth,r.bScrollbarLeft=1!==Math.round(s.offset().left),r.bBounding=!!i[0].getBoundingClientRect().width,i.remove()}e.extend(n.oBrowser,Ve.__browser),n.oScroll.iBarWidth=Ve.__browser.barWidth}function u(e,t,n,i,o,s){var a,c=!1;for(n!==r&&(a=n,c=!0);i!==o;)e.hasOwnProperty(i)&&(a=c?t(a,e[i],i,e):e[i],c=!0,i+=s);return a}function f(t,r){var i=Ve.defaults.column,o=t.aoColumns.length;i=e.extend({},Ve.models.oColumn,i,{nTh:r||n.createElement("th"),sTitle:i.sTitle?i.sTitle:r?r.innerHTML:"",aDataSort:i.aDataSort?i.aDataSort:[o],mData:i.mData?i.mData:o,idx:o});t.aoColumns.push(i),(i=t.aoPreSearchCols)[o]=e.extend({},Ve.models.oSearch,i[o]),h(t,o,e(r).data())}function h(t,n,i){n=t.aoColumns[n];var s=t.oClasses,a=e(n.nTh);if(!n.sWidthOrig){n.sWidthOrig=a.attr("width")||null;var l=(a.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);l&&(n.sWidthOrig=l[1])}i!==r&&null!==i&&(c(i),o(Ve.defaults.column,i),i.mDataProp!==r&&!i.mData&&(i.mData=i.mDataProp),i.sType&&(n._sManualType=i.sType),i.className&&!i.sClass&&(i.sClass=i.className),i.sClass&&a.addClass(i.sClass),e.extend(n,i),Me(n,i,"sWidth","sWidthOrig"),i.iDataSort!==r&&(n.aDataSort=[i.iDataSort]),Me(n,i,"aDataSort"));var u=n.mData,f=C(u),h=n.mRender?C(n.mRender):null;i=function(e){return"string"==typeof e&&-1!==e.indexOf("@")};n._bAttrSrc=e.isPlainObject(u)&&(i(u.sort)||i(u.type)||i(u.filter)),n._setter=null,n.fnGetData=function(e,t,n){var i=f(e,t,r,n);return h&&t?h(i,t,e,n):i},n.fnSetData=function(e,t,n){return A(u)(e,t,n)},"number"!=typeof u&&(t._rowReadObject=!0),t.oFeatures.bSort||(n.bSortable=!1,a.addClass(s.sSortableNone)),t=-1!==e.inArray("asc",n.asSorting),i=-1!==e.inArray("desc",n.asSorting),n.bSortable&&(t||i)?t&&!i?(n.sSortingClass=s.sSortableAsc,n.sSortingClassJUI=s.sSortJUIAscAllowed):!t&&i?(n.sSortingClass=s.sSortableDesc,n.sSortingClassJUI=s.sSortJUIDescAllowed):(n.sSortingClass=s.sSortable,n.sSortingClassJUI=s.sSortJUI):(n.sSortingClass=s.sSortableNone,n.sSortingClassJUI="")}function d(e){if(!1!==e.oFeatures.bAutoWidth){var t=e.aoColumns;me(e);for(var n=0,r=t.length;n<r;n++)t[n].nTh.style.width=t[n].sWidth}(""!==(t=e.oScroll).sY||""!==t.sX)&&de(e),Ne(e,null,"column-sizing",[e])}function p(e,t){var n=v(e,"bVisible");return"number"==typeof n[t]?n[t]:null}function m(t,n){var r=v(t,"bVisible");return-1!==(r=e.inArray(n,r))?r:null}function g(t){var n=0;return e.each(t.aoColumns,function(t,r){r.bVisible&&"none"!==e(r.nTh).css("display")&&n++}),n}function v(t,n){var r=[];return e.map(t.aoColumns,function(e,t){e[n]&&r.push(t)}),r}function b(e){var t,n,i,o,s,a,c,l,u,f=e.aoColumns,h=e.aoData,d=Ve.ext.type.detect;for(t=0,n=f.length;t<n;t++)if(u=[],!(c=f[t]).sType&&c._sManualType)c.sType=c._sManualType;else if(!c.sType){for(i=0,o=d.length;i<o;i++){for(s=0,a=h.length;s<a&&(u[s]===r&&(u[s]=k(e,s,t,"type")),(l=d[i](u[s],e))||i===d.length-1)&&"html"!==l;s++);if(l){c.sType=l;break}}c.sType||(c.sType="string")}}function y(t,n,i,o){var s,a,c,l,u,h,d=t.aoColumns;if(n)for(s=n.length-1;0<=s;s--){var p=(h=n[s]).targets!==r?h.targets:h.aTargets;for(e.isArray(p)||(p=[p]),a=0,c=p.length;a<c;a++)if("number"==typeof p[a]&&0<=p[a]){for(;d.length<=p[a];)f(t);o(p[a],h)}else if("number"==typeof p[a]&&0>p[a])o(d.length+p[a],h);else if("string"==typeof p[a])for(l=0,u=d.length;l<u;l++)("_all"==p[a]||e(d[l].nTh).hasClass(p[a]))&&o(l,h)}if(i)for(s=0,t=i.length;s<t;s++)o(s,i[s])}function _(t,n,i,o){var s=t.aoData.length,a=e.extend(!0,{},Ve.models.oRow,{src:i?"dom":"data",idx:s});a._aData=n,t.aoData.push(a);for(var c=t.aoColumns,l=0,u=c.length;l<u;l++)c[l].sType=null;return t.aiDisplayMaster.push(s),(n=t.rowIdFn(n))!==r&&(t.aIds[n]=a),(i||!t.oFeatures.bDeferRender)&&O(t,s,i,o),s}function w(t,n){var r;return n instanceof e||(n=e(n)),n.map(function(e,n){return r=M(t,n),_(t,r.data,n,r.cells)})}function k(e,t,n,i){var o=e.iDraw,s=e.aoColumns[n],a=e.aoData[t]._aData,c=s.sDefaultContent,l=s.fnGetData(a,i,{settings:e,row:t,col:n});if(l===r)return e.iDrawError!=o&&null===c&&(De(e,0,"Requested unknown parameter "+("function"==typeof s.mData?"{function}":"'"+s.mData+"'")+" for row "+t+", column "+n,4),e.iDrawError=o),c;if(l!==a&&null!==l||null===c||i===r){if("function"==typeof l)return l.call(a)}else l=c;return null===l&&"display"==i?"":l}function x(e,t,n,r){e.aoColumns[n].fnSetData(e.aoData[t]._aData,r,{settings:e,row:t,col:n})}function S(t){return e.map(t.match(/(\\.|[^\.])+/g)||[""],function(e){return e.replace(/\\\./g,".")})}function C(t){if(e.isPlainObject(t)){var n={};return e.each(t,function(e,t){t&&(n[e]=C(t))}),function(e,t,i,o){var s=n[t]||n._;return s!==r?s(e,t,i,o):e}}if(null===t)return function(e){return e};if("function"==typeof t)return function(e,n,r,i){return t(e,n,r,i)};if("string"==typeof t&&(-1!==t.indexOf(".")||-1!==t.indexOf("[")||-1!==t.indexOf("("))){var i=function(t,n,o){var s,a;if(""!==o)for(var c=0,l=(a=S(o)).length;c<l;c++){if(o=a[c].match(ut),s=a[c].match(ft),o){if(a[c]=a[c].replace(ut,""),""!==a[c]&&(t=t[a[c]]),s=[],a.splice(0,c+1),a=a.join("."),e.isArray(t))for(c=0,l=t.length;c<l;c++)s.push(i(t[c],n,a));t=""===(t=o[0].substring(1,o[0].length-1))?s:s.join(t);break}if(s)a[c]=a[c].replace(ft,""),t=t[a[c]]();else{if(null===t||t[a[c]]===r)return r;t=t[a[c]]}}return t};return function(e,n){return i(e,n,t)}}return function(e){return e[t]}}function A(t){if(e.isPlainObject(t))return A(t._);if(null===t)return function(){};if("function"==typeof t)return function(e,n,r){t(e,"set",n,r)};if("string"==typeof t&&(-1!==t.indexOf(".")||-1!==t.indexOf("[")||-1!==t.indexOf("("))){var n=function(t,i,o){var s;s=(o=S(o))[o.length-1];for(var a,c,l=0,u=o.length-1;l<u;l++){if(a=o[l].match(ut),c=o[l].match(ft),a){if(o[l]=o[l].replace(ut,""),t[o[l]]=[],(s=o.slice()).splice(0,l+1),a=s.join("."),e.isArray(i))for(c=0,u=i.length;c<u;c++)n(s={},i[c],a),t[o[l]].push(s);else t[o[l]]=i;return}c&&(o[l]=o[l].replace(ft,""),t=t[o[l]](i)),null!==t[o[l]]&&t[o[l]]!==r||(t[o[l]]={}),t=t[o[l]]}s.match(ft)?t[s.replace(ft,"")](i):t[s.replace(ut,"")]=i};return function(e,r){return n(e,r,t)}}return function(e,n){e[t]=n}}function E(e){return it(e.aoData,"_aData")}function T(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0,e.aIds={}}function I(e,t,n){for(var i=-1,o=0,s=e.length;o<s;o++)e[o]==t?i=o:e[o]>t&&e[o]--;-1!=i&&n===r&&e.splice(i,1)}function D(e,t,n,i){var o,s=e.aoData[t],a=function(n,r){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=k(e,t,r,"display")};if("dom"!==n&&(n&&"auto"!==n||"dom"!==s.src)){var c=s.anCells;if(c)if(i!==r)a(c[i],i);else for(n=0,o=c.length;n<o;n++)a(c[n],n)}else s._aData=M(e,s,i,i===r?r:s._aData).data;if(s._aSortData=null,s._aFilterData=null,a=e.aoColumns,i!==r)a[i].sType=null;else{for(n=0,o=a.length;n<o;n++)a[n].sType=null;P(e,s)}}function M(t,n,i,o){var s,a,c,l=[],u=n.firstChild,f=0,h=t.aoColumns,d=t._rowReadObject,p=(o=o!==r?o:d?{}:[],function(e,t){if("string"==typeof e){var n=e.indexOf("@");-1!==n&&(n=e.substring(n+1),A(e)(o,t.getAttribute(n)))}}),m=function(t){i!==r&&i!==f||(a=h[f],c=e.trim(t.innerHTML),a&&a._bAttrSrc?(A(a.mData._)(o,c),p(a.mData.sort,t),p(a.mData.type,t),p(a.mData.filter,t)):d?(a._setter||(a._setter=A(a.mData)),a._setter(o,c)):o[f]=c),f++};if(u)for(;u;)"TD"!=(s=u.nodeName.toUpperCase())&&"TH"!=s||(m(u),l.push(u)),u=u.nextSibling;else for(u=0,s=(l=n.anCells).length;u<s;u++)m(l[u]);return(n=n.firstChild?n:n.nTr)&&(n=n.getAttribute("id"))&&A(t.rowId)(o,n),{data:o,cells:l}}function O(t,r,i,o){var s,a,c,l,u,f=t.aoData[r],h=f._aData,d=[];if(null===f.nTr){for(s=i||n.createElement("tr"),f.nTr=s,f.anCells=d,s._DT_RowIndex=r,P(t,f),l=0,u=t.aoColumns.length;l<u;l++)c=t.aoColumns[l],(a=i?o[l]:n.createElement(c.sCellType))._DT_CellIndex={row:r,column:l},d.push(a),i&&!c.mRender&&c.mData===l||e.isPlainObject(c.mData)&&c.mData._===l+".display"||(a.innerHTML=k(t,r,l,"display")),c.sClass&&(a.className+=" "+c.sClass),c.bVisible&&!i?s.appendChild(a):!c.bVisible&&i&&a.parentNode.removeChild(a),c.fnCreatedCell&&c.fnCreatedCell.call(t.oInstance,a,k(t,r,l),h,r,l);Ne(t,"aoRowCreatedCallback",null,[s,h,r])}f.nTr.setAttribute("role","row")}function P(t,n){var r=n.nTr,i=n._aData;if(r){var o=t.rowIdFn(i);o&&(r.id=o),i.DT_RowClass&&(o=i.DT_RowClass.split(" "),n.__rowc=n.__rowc?ct(n.__rowc.concat(o)):o,e(r).removeClass(n.__rowc.join(" ")).addClass(i.DT_RowClass)),i.DT_RowAttr&&e(r).attr(i.DT_RowAttr),i.DT_RowData&&e(r).data(i.DT_RowData)}}function j(t){var n,r,i,o,s,a=t.nTHead,c=t.nTFoot,l=0===e("th, td",a).length,u=t.oClasses,f=t.aoColumns;for(l&&(o=e("<tr/>").appendTo(a)),n=0,r=f.length;n<r;n++)s=f[n],i=e(s.nTh).addClass(s.sClass),l&&i.appendTo(o),t.oFeatures.bSort&&(i.addClass(s.sSortingClass),!1!==s.bSortable&&(i.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),Se(t,s.nTh,n))),s.sTitle!=i[0].innerHTML&&i.html(s.sTitle),Re(t,"header")(t,i,s,u);if(l&&F(t.aoHeader,a),e(a).find(">tr").attr("role","row"),e(a).find(">tr>th, >tr>td").addClass(u.sHeaderTH),e(c).find(">tr>th, >tr>td").addClass(u.sFooterTH),null!==c)for(n=0,r=(t=t.aoFooter[0]).length;n<r;n++)(s=f[n]).nTf=t[n].cell,s.sClass&&e(s.nTf).addClass(s.sClass)}function N(t,n,i){var o,s,a,c,l=[],u=[],f=t.aoColumns.length;if(n){for(i===r&&(i=!1),o=0,s=n.length;o<s;o++){for(l[o]=n[o].slice(),l[o].nTr=n[o].nTr,a=f-1;0<=a;a--)!t.aoColumns[a].bVisible&&!i&&l[o].splice(a,1);u.push([])}for(o=0,s=l.length;o<s;o++){if(t=l[o].nTr)for(;a=t.firstChild;)t.removeChild(a);for(a=0,n=l[o].length;a<n;a++)if(c=f=1,u[o][a]===r){for(t.appendChild(l[o][a].cell),u[o][a]=1;l[o+f]!==r&&l[o][a].cell==l[o+f][a].cell;)u[o+f][a]=1,f++;for(;l[o][a+c]!==r&&l[o][a].cell==l[o][a+c].cell;){for(i=0;i<f;i++)u[o+i][a+c]=1;c++}e(l[o][a].cell).attr("rowspan",f).attr("colspan",c)}}}}function B(t){var n=Ne(t,"aoPreDrawCallback","preDraw",[t]);if(-1!==e.inArray(!1,n))fe(t,!1);else{n=[];var i=0,o=t.asStripeClasses,s=o.length,a=t.oLanguage,c=t.iInitDisplayStart,l="ssp"==Le(t),u=t.aiDisplay;t.bDrawing=!0,c!==r&&-1!==c&&(t._iDisplayStart=l?c:c>=t.fnRecordsDisplay()?0:c,t.iInitDisplayStart=-1);c=t._iDisplayStart;var f=t.fnDisplayEnd();if(t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,fe(t,!1);else if(l){if(!t.bDestroying&&!q(t))return}else t.iDraw++;if(0!==u.length)for(a=l?t.aoData.length:f,l=l?0:c;l<a;l++){var h=u[l],d=t.aoData[h];if(null===d.nTr&&O(t,h),h=d.nTr,0!==s){var p=o[i%s];d._sRowStripe!=p&&(e(h).removeClass(d._sRowStripe).addClass(p),d._sRowStripe=p)}Ne(t,"aoRowCallback",null,[h,d._aData,i,l]),n.push(h),i++}else i=a.sZeroRecords,1==t.iDraw&&"ajax"==Le(t)?i=a.sLoadingRecords:a.sEmptyTable&&0===t.fnRecordsTotal()&&(i=a.sEmptyTable),n[0]=e("<tr/>",{class:s?o[0]:""}).append(e("<td />",{valign:"top",colSpan:g(t),class:t.oClasses.sRowEmpty}).html(i))[0];Ne(t,"aoHeaderCallback","header",[e(t.nTHead).children("tr")[0],E(t),c,f,u]),Ne(t,"aoFooterCallback","footer",[e(t.nTFoot).children("tr")[0],E(t),c,f,u]),(o=e(t.nTBody)).children().detach(),o.append(e(n)),Ne(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}}function R(e,t){var n=e.oFeatures,r=n.bFilter;n.bSort&&we(e),r?K(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),!0!==t&&(e._iDisplayStart=0),e._drawHold=t,B(e),e._drawHold=!1}function L(t){var n=t.oClasses,r=e(t.nTable),i=(r=e("<div/>").insertBefore(r),t.oFeatures),o=e("<div/>",{id:t.sTableId+"_wrapper",class:n.sWrapper+(t.nTFoot?"":" "+n.sNoFooter)});t.nHolding=r[0],t.nTableWrapper=o[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var s,a,c,l,u,f,h=t.sDom.split(""),d=0;d<h.length;d++){if(s=null,"<"==(a=h[d])){if(c=e("<div/>")[0],"'"==(l=h[d+1])||'"'==l){for(u="",f=2;h[d+f]!=l;)u+=h[d+f],f++;"H"==u?u=n.sJUIHeader:"F"==u&&(u=n.sJUIFooter),-1!=u.indexOf(".")?(l=u.split("."),c.id=l[0].substr(1,l[0].length-1),c.className=l[1]):"#"==u.charAt(0)?c.id=u.substr(1,u.length-1):c.className=u,d+=f}o.append(c),o=e(c)}else if(">"==a)o=o.parent();else if("l"==a&&i.bPaginate&&i.bLengthChange)s=ae(t);else if("f"==a&&i.bFilter)s=V(t);else if("r"==a&&i.bProcessing)s=ue(t);else if("t"==a)s=he(t);else if("i"==a&&i.bInfo)s=te(t);else if("p"==a&&i.bPaginate)s=ce(t);else if(0!==Ve.ext.feature.length)for(f=0,l=(c=Ve.ext.feature).length;f<l;f++)if(a==c[f].cFeature){s=c[f].fnInit(t);break}s&&((c=t.aanFeatures)[a]||(c[a]=[]),c[a].push(s),o.append(s))}r.replaceWith(o),t.nHolding=null}function F(t,n){var r,i,o,s,a,c,l,u,f,h,d=e(n).children("tr");for(t.splice(0,t.length),o=0,c=d.length;o<c;o++)t.push([]);for(o=0,c=d.length;o<c;o++)for(i=(r=d[o]).firstChild;i;){if("TD"==i.nodeName.toUpperCase()||"TH"==i.nodeName.toUpperCase()){for(u=1*i.getAttribute("colspan"),f=1*i.getAttribute("rowspan"),u=u&&0!==u&&1!==u?u:1,f=f&&0!==f&&1!==f?f:1,s=0,a=t[o];a[s];)s++;for(l=s,h=1===u,a=0;a<u;a++)for(s=0;s<f;s++)t[o+s][l+a]={cell:i,unique:h},t[o+s].nTr=r}i=i.nextSibling}}function H(e,t,n){var r=[];n||(n=e.aoHeader,t&&F(n=[],t));t=0;for(var i=n.length;t<i;t++)for(var o=0,s=n[t].length;o<s;o++)!n[t][o].unique||r[o]&&e.bSortCellsTop||(r[o]=n[t][o].cell);return r}function z(t,n,r){if(Ne(t,"aoServerParams","serverParams",[n]),n&&e.isArray(n)){var i={},o=/(.*?)\[\]$/;e.each(n,function(e,t){var n=t.name.match(o);n?(n=n[0],i[n]||(i[n]=[]),i[n].push(t.value)):i[t.name]=t.value}),n=i}var s,a=t.ajax,c=t.oInstance,l=function(e){Ne(t,null,"xhr",[t,e,t.jqXHR]),r(e)};if(e.isPlainObject(a)&&a.data){s=a.data;var u=e.isFunction(s)?s(n,t):s;n=e.isFunction(s)&&u?u:e.extend(!0,n,u);delete a.data}u={data:n,success:function(e){var n=e.error||e.sError;n&&De(t,0,n),t.json=e,l(e)},dataType:"json",cache:!1,type:t.sServerMethod,error:function(n,r){var i=Ne(t,null,"xhr",[t,null,t.jqXHR]);-1===e.inArray(!0,i)&&("parsererror"==r?De(t,0,"Invalid JSON response",1):4===n.readyState&&De(t,0,"Ajax error",7)),fe(t,!1)}},t.oAjaxData=n,Ne(t,null,"preXhr",[t,n]),t.fnServerData?t.fnServerData.call(c,t.sAjaxSource,e.map(n,function(e,t){return{name:t,value:e}}),l,t):t.sAjaxSource||"string"==typeof a?t.jqXHR=e.ajax(e.extend(u,{url:a||t.sAjaxSource})):e.isFunction(a)?t.jqXHR=a.call(c,n,l,t):(t.jqXHR=e.ajax(e.extend(u,a)),a.data=s)}function q(e){return!e.bAjaxDataGet||(e.iDraw++,fe(e,!0),z(e,U(e),function(t){$(e,t)}),!1)}function U(t){var n,r,i,o,s=t.aoColumns,a=s.length,c=t.oFeatures,l=t.oPreviousSearch,u=t.aoPreSearchCols,f=[],h=_e(t);n=t._iDisplayStart,r=!1!==c.bPaginate?t._iDisplayLength:-1;var d=function(e,t){f.push({name:e,value:t})};d("sEcho",t.iDraw),d("iColumns",a),d("sColumns",it(s,"sName").join(",")),d("iDisplayStart",n),d("iDisplayLength",r);var p={draw:t.iDraw,columns:[],order:[],start:n,length:r,search:{value:l.sSearch,regex:l.bRegex}};for(n=0;n<a;n++)i=s[n],o=u[n],r="function"==typeof i.mData?"function":i.mData,p.columns.push({data:r,name:i.sName,searchable:i.bSearchable,orderable:i.bSortable,search:{value:o.sSearch,regex:o.bRegex}}),d("mDataProp_"+n,r),c.bFilter&&(d("sSearch_"+n,o.sSearch),d("bRegex_"+n,o.bRegex),d("bSearchable_"+n,i.bSearchable)),c.bSort&&d("bSortable_"+n,i.bSortable);return c.bFilter&&(d("sSearch",l.sSearch),d("bRegex",l.bRegex)),c.bSort&&(e.each(h,function(e,t){p.order.push({column:t.col,dir:t.dir}),d("iSortCol_"+e,t.col),d("sSortDir_"+e,t.dir)}),d("iSortingCols",h.length)),null===(s=Ve.ext.legacy.ajax)?t.sAjaxSource?f:p:s?f:p}function $(e,t){var n=W(e,t),i=t.sEcho!==r?t.sEcho:t.draw,o=t.iTotalRecords!==r?t.iTotalRecords:t.recordsTotal,s=t.iTotalDisplayRecords!==r?t.iTotalDisplayRecords:t.recordsFiltered;if(i){if(1*i<e.iDraw)return;e.iDraw=1*i}for(T(e),e._iRecordsTotal=parseInt(o,10),e._iRecordsDisplay=parseInt(s,10),i=0,o=n.length;i<o;i++)_(e,n[i]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,B(e),e._bInitComplete||oe(e,t),e.bAjaxDataGet=!0,fe(e,!1)}function W(t,n){var i=e.isPlainObject(t.ajax)&&t.ajax.dataSrc!==r?t.ajax.dataSrc:t.sAjaxDataProp;return"data"===i?n.aaData||n[i]:""!==i?C(i)(n):n}function V(t){var r=t.oClasses,i=t.sTableId,o=t.oLanguage,s=t.oPreviousSearch,a=t.aanFeatures,c='<input type="search" class="'+r.sFilterInput+'"/>',l=(l=o.sSearch).match(/_INPUT_/)?l.replace("_INPUT_",c):l+c,u=(r=e("<div/>",{id:a.f?null:i+"_filter",class:r.sFilter}).append(e("<label/>").append(l)),a=function(){var e=this.value?this.value:"";e!=s.sSearch&&(K(t,{sSearch:e,bRegex:s.bRegex,bSmart:s.bSmart,bCaseInsensitive:s.bCaseInsensitive}),t._iDisplayStart=0,B(t))},c=null!==t.searchDelay?t.searchDelay:"ssp"===Le(t)?400:0,e("input",r).val(s.sSearch).attr("placeholder",o.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",c?gt(a,c):a).on("keypress.DT",function(e){if(13==e.keyCode)return!1}).attr("aria-controls",i));return e(t.nTable).on("search.dt.DT",function(e,r){if(t===r)try{u[0]!==n.activeElement&&u.val(s.sSearch)}catch(e){}}),r[0]}function K(e,t,n){var i=e.oPreviousSearch,o=e.aoPreSearchCols,s=function(e){i.sSearch=e.sSearch,i.bRegex=e.bRegex,i.bSmart=e.bSmart,i.bCaseInsensitive=e.bCaseInsensitive};if(b(e),"ssp"!=Le(e)){for(X(e,t.sSearch,n,t.bEscapeRegex!==r?!t.bEscapeRegex:t.bRegex,t.bSmart,t.bCaseInsensitive),s(t),t=0;t<o.length;t++)Y(e,o[t].sSearch,t,o[t].bEscapeRegex!==r?!o[t].bEscapeRegex:o[t].bRegex,o[t].bSmart,o[t].bCaseInsensitive);G(e)}else s(t);e.bFiltered=!0,Ne(e,null,"search",[e])}function G(t){for(var n,r,i=Ve.ext.search,o=t.aiDisplay,s=0,a=i.length;s<a;s++){for(var c=[],l=0,u=o.length;l<u;l++)r=o[l],n=t.aoData[r],i[s](t,n._aFilterData,r,n._aData,l)&&c.push(r);o.length=0,e.merge(o,c)}}function Y(e,t,n,r,i,o){if(""!==t){var s=[],a=e.aiDisplay;for(r=J(t,r,i,o),i=0;i<a.length;i++)t=e.aoData[a[i]]._aFilterData[n],r.test(t)&&s.push(a[i]);e.aiDisplay=s}}function X(e,t,n,r,i,o){r=J(t,r,i,o),o=e.oPreviousSearch.sSearch;var s,a=e.aiDisplayMaster;i=[];if(0!==Ve.ext.search.length&&(n=!0),s=Z(e),0>=t.length)e.aiDisplay=a.slice();else{for((s||n||o.length>t.length||0!==t.indexOf(o)||e.bSorted)&&(e.aiDisplay=a.slice()),t=e.aiDisplay,n=0;n<t.length;n++)r.test(e.aoData[t[n]]._sFilterRow)&&i.push(t[n]);e.aiDisplay=i}}function J(t,n,r,i){return t=n?t:ht(t),r&&(t="^(?=.*?"+e.map(t.match(/"[^"]+"|[^ ]+/g)||[""],function(e){if('"'===e.charAt(0)){var t=e.match(/^"(.*)"$/);e=t?t[1]:e}return e.replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(t,i?"i":"")}function Z(e){var t,n,r,i,o,s,a,c,l=e.aoColumns,u=Ve.ext.type.search;for(t=!1,n=0,i=e.aoData.length;n<i;n++)if(!(c=e.aoData[n])._aFilterData){for(s=[],r=0,o=l.length;r<o;r++)(t=l[r]).bSearchable?(a=k(e,n,r,"filter"),u[t.sType]&&(a=u[t.sType](a)),null===a&&(a=""),"string"!=typeof a&&a.toString&&(a=a.toString())):a="",a.indexOf&&-1!==a.indexOf("&")&&(dt.innerHTML=a,a=pt?dt.textContent:dt.innerText),a.replace&&(a=a.replace(/[\r\n]/g,"")),s.push(a);c._aFilterData=s,c._sFilterRow=s.join("  "),t=!0}return t}function Q(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function ee(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function te(t){var n=t.sTableId,r=t.aanFeatures.i,i=e("<div/>",{class:t.oClasses.sInfo,id:r?null:n+"_info"});return r||(t.aoDrawCallback.push({fn:ne,sName:"information"}),i.attr("role","status").attr("aria-live","polite"),e(t.nTable).attr("aria-describedby",n+"_info")),i[0]}function ne(t){var n=t.aanFeatures.i;if(0!==n.length){var r=t.oLanguage,i=t._iDisplayStart+1,o=t.fnDisplayEnd(),s=t.fnRecordsTotal(),a=t.fnRecordsDisplay(),c=a?r.sInfo:r.sInfoEmpty;a!==s&&(c+=" "+r.sInfoFiltered),c=re(t,c+=r.sInfoPostFix),null!==(r=r.fnInfoCallback)&&(c=r.call(t.oInstance,t,i,o,s,a,c)),e(n).html(c)}}function re(e,t){var n=e.fnFormatNumber,r=e._iDisplayStart+1,i=e._iDisplayLength,o=e.fnRecordsDisplay(),s=-1===i;return t.replace(/_START_/g,n.call(e,r)).replace(/_END_/g,n.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,n.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(e,o)).replace(/_PAGE_/g,n.call(e,s?1:Math.ceil(r/i))).replace(/_PAGES_/g,n.call(e,s?1:Math.ceil(o/i)))}function ie(e){var t,n,r,i=e.iInitDisplayStart,o=e.aoColumns;n=e.oFeatures;var s=e.bDeferLoading;if(e.bInitialised){for(L(e),j(e),N(e,e.aoHeader),N(e,e.aoFooter),fe(e,!0),n.bAutoWidth&&me(e),t=0,n=o.length;t<n;t++)(r=o[t]).sWidth&&(r.nTh.style.width=ye(r.sWidth));Ne(e,null,"preInit",[e]),R(e),("ssp"!=(o=Le(e))||s)&&("ajax"==o?z(e,[],function(n){var r=W(e,n);for(t=0;t<r.length;t++)_(e,r[t]);e.iInitDisplayStart=i,R(e),fe(e,!1),oe(e,n)}):(fe(e,!1),oe(e)))}else setTimeout(function(){ie(e)},200)}function oe(e,t){e._bInitComplete=!0,(t||e.oInit.aaData)&&d(e),Ne(e,null,"plugin-init",[e,t]),Ne(e,"aoInitComplete","init",[e,t])}function se(e,t){var n=parseInt(t,10);e._iDisplayLength=n,Be(e),Ne(e,null,"length",[e,n])}function ae(t){for(var n=t.oClasses,r=t.sTableId,i=t.aLengthMenu,o=(s=e.isArray(i[0]))?i[0]:i,s=(i=s?i[1]:i,e("<select/>",{name:r+"_length","aria-controls":r,class:n.sLengthSelect})),a=0,c=o.length;a<c;a++)s[0][a]=new Option("number"==typeof i[a]?t.fnFormatNumber(i[a]):i[a],o[a]);var l=e("<div><label/></div>").addClass(n.sLength);return t.aanFeatures.l||(l[0].id=r+"_length"),l.children().append(t.oLanguage.sLengthMenu.replace("_MENU_",s[0].outerHTML)),e("select",l).val(t._iDisplayLength).on("change.DT",function(){se(t,e(this).val()),B(t)}),e(t.nTable).on("length.dt.DT",function(n,r,i){t===r&&e("select",l).val(i)}),l[0]}function ce(t){var n=t.sPaginationType,r=Ve.ext.pager[n],i="function"==typeof r,o=function(e){B(e)},s=(n=e("<div/>").addClass(t.oClasses.sPaging+n)[0],t.aanFeatures);return i||r.fnInit(t,n,o),s.p||(n.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(e){if(i){var t,n=e._iDisplayStart,a=e._iDisplayLength,c=e.fnRecordsDisplay(),l=(n=(l=-1===a)?0:Math.ceil(n/a),a=l?1:Math.ceil(c/a),c=r(n,a),0);for(t=s.p.length;l<t;l++)Re(e,"pageButton")(e,s.p[l],l,c,n,a)}else r.fnUpdate(e,o)},sName:"pagination"})),n}function le(e,t,n){var r=e._iDisplayStart,i=e._iDisplayLength,o=e.fnRecordsDisplay();return 0===o||-1===i?r=0:"number"==typeof t?(r=t*i)>o&&(r=0):"first"==t?r=0:"previous"==t?0>(r=0<=i?r-i:0)&&(r=0):"next"==t?r+i<o&&(r+=i):"last"==t?r=Math.floor((o-1)/i)*i:De(e,0,"Unknown paging action: "+t,5),t=e._iDisplayStart!==r,e._iDisplayStart=r,t&&(Ne(e,null,"page",[e]),n&&B(e)),t}function ue(t){return e("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing",class:t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function fe(t,n){t.oFeatures.bProcessing&&e(t.aanFeatures.r).css("display",n?"block":"none"),Ne(t,null,"processing",[t,n])}function he(t){(f=e(t.nTable)).attr("role","grid");var n=t.oScroll;if(""===n.sX&&""===n.sY)return t.nTable;var r=n.sX,i=n.sY,o=t.oClasses,s=f.children("caption"),a=s.length?s[0]._captionSide:null,c=e(f[0].cloneNode(!1)),l=e(f[0].cloneNode(!1)),u=f.children("tfoot");u.length||(u=null),c=e("<div/>",{class:o.sScrollWrapper}).append(e("<div/>",{class:o.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:r?r?ye(r):null:"100%"}).append(e("<div/>",{class:o.sScrollHeadInner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(c.removeAttr("id").css("margin-left",0).append("top"===a?s:null).append(f.children("thead"))))).append(e("<div/>",{class:o.sScrollBody}).css({position:"relative",overflow:"auto",width:r?ye(r):null}).append(f)),u&&c.append(e("<div/>",{class:o.sScrollFoot}).css({overflow:"hidden",border:0,width:r?r?ye(r):null:"100%"}).append(e("<div/>",{class:o.sScrollFootInner}).append(l.removeAttr("id").css("margin-left",0).append("bottom"===a?s:null).append(f.children("tfoot")))));var f,h=(f=c.children())[0],d=(o=f[1],u?f[2]:null);return r&&e(o).on("scroll.DT",function(){var e=this.scrollLeft;h.scrollLeft=e,u&&(d.scrollLeft=e)}),e(o).css(i&&n.bCollapse?"max-height":"height",i),t.nScrollHead=h,t.nScrollBody=o,t.nScrollFoot=d,t.aoDrawCallback.push({fn:de,sName:"scrolling"}),c[0]}function de(t){var n,i,o,s,a,c=(f=t.oScroll).sX,l=f.sXInner,u=f.sY,f=f.iBarWidth,h=e(t.nScrollHead),m=h[0].style,g=(b=h.children("div"))[0].style,v=b.children("table"),b=t.nScrollBody,y=e(b),_=b.style,w=e(t.nScrollFoot).children("div"),k=w.children("table"),x=e(t.nTHead),S=e(t.nTable),C=S[0],A=C.style,E=t.nTFoot?e(t.nTFoot):null,T=t.oBrowser,I=T.bScrollOversize,D=it(t.aoColumns,"nTh"),M=[],O=[],P=[],j=[],N=function(e){(e=e.style).paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0};i=b.scrollHeight>b.clientHeight,t.scrollBarVis!==i&&t.scrollBarVis!==r?(t.scrollBarVis=i,d(t)):(t.scrollBarVis=i,S.children("thead, tfoot").remove(),E&&(o=E.clone().prependTo(S),n=E.find("tr"),o=o.find("tr")),s=x.clone().prependTo(S),x=x.find("tr"),i=s.find("tr"),s.find("th, td").removeAttr("tabindex"),c||(_.width="100%",h[0].style.width="100%"),e.each(H(t,s),function(e,n){a=p(t,e),n.style.width=t.aoColumns[a].sWidth}),E&&pe(function(e){e.style.width=""},o),h=S.outerWidth(),""===c?(A.width="100%",I&&(S.find("tbody").height()>b.offsetHeight||"scroll"==y.css("overflow-y"))&&(A.width=ye(S.outerWidth()-f)),h=S.outerWidth()):""!==l&&(A.width=ye(l),h=S.outerWidth()),pe(N,i),pe(function(t){P.push(t.innerHTML),M.push(ye(e(t).css("width")))},i),pe(function(t,n){-1!==e.inArray(t,D)&&(t.style.width=M[n])},x),e(i).height(0),E&&(pe(N,o),pe(function(t){j.push(t.innerHTML),O.push(ye(e(t).css("width")))},o),pe(function(e,t){e.style.width=O[t]},n),e(o).height(0)),pe(function(e,t){e.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+P[t]+"</div>",e.style.width=M[t]},i),E&&pe(function(e,t){e.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+j[t]+"</div>",e.style.width=O[t]},o),S.outerWidth()<h?(n=b.scrollHeight>b.offsetHeight||"scroll"==y.css("overflow-y")?h+f:h,I&&(b.scrollHeight>b.offsetHeight||"scroll"==y.css("overflow-y"))&&(A.width=ye(n-f)),(""===c||""!==l)&&De(t,1,"Possible column misalignment",6)):n="100%",_.width=ye(n),m.width=ye(n),E&&(t.nScrollFoot.style.width=ye(n)),!u&&I&&(_.height=ye(C.offsetHeight+f)),c=S.outerWidth(),v[0].style.width=ye(c),g.width=ye(c),l=S.height()>b.clientHeight||"scroll"==y.css("overflow-y"),g[u="padding"+(T.bScrollbarLeft?"Left":"Right")]=l?f+"px":"0px",E&&(k[0].style.width=ye(c),w[0].style.width=ye(c),w[0].style[u]=l?f+"px":"0px"),S.children("colgroup").insertBefore(S.children("thead")),y.scroll(),!t.bSorted&&!t.bFiltered||t._drawHold||(b.scrollTop=0))}function pe(e,t,n){for(var r,i,o=0,s=0,a=t.length;s<a;){for(r=t[s].firstChild,i=n?n[s].firstChild:null;r;)1===r.nodeType&&(n?e(r,i,o):e(r,o),o++),r=r.nextSibling,i=n?i.nextSibling:null;s++}}function me(n){var r,i,o=n.nTable,s=n.aoColumns,a=(w=n.oScroll).sY,c=w.sX,l=w.sXInner,u=s.length,f=v(n,"bVisible"),h=e("th",n.nTHead),m=o.getAttribute("width"),b=o.parentNode,y=!1,_=n.oBrowser,w=_.bScrollOversize;for((r=o.style.width)&&-1!==r.indexOf("%")&&(m=r),r=0;r<f.length;r++)null!==(i=s[f[r]]).sWidth&&(i.sWidth=ge(i.sWidthOrig,b),y=!0);if(w||!y&&!c&&!a&&u==g(n)&&u==h.length)for(r=0;r<u;r++)null!==(f=p(n,r))&&(s[f].sWidth=ye(h.eq(r).width()));else{(u=e(o).clone().css("visibility","hidden").removeAttr("id")).find("tbody tr").remove();var k=e("<tr/>").appendTo(u.find("tbody"));for(u.find("thead, tfoot").remove(),u.append(e(n.nTHead).clone()).append(e(n.nTFoot).clone()),u.find("tfoot th, tfoot td").css("width",""),h=H(n,u.find("thead")[0]),r=0;r<f.length;r++)i=s[f[r]],h[r].style.width=null!==i.sWidthOrig&&""!==i.sWidthOrig?ye(i.sWidthOrig):"",i.sWidthOrig&&c&&e(h[r]).append(e("<div/>").css({width:i.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(n.aoData.length)for(r=0;r<f.length;r++)i=s[y=f[r]],e(ve(n,y)).clone(!1).append(i.sContentPadding).appendTo(k);for(e("[name]",u).removeAttr("name"),i=e("<div/>").css(c||a?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(u).appendTo(b),c&&l?u.width(l):c?(u.css("width","auto"),u.removeAttr("width"),u.width()<b.clientWidth&&m&&u.width(b.clientWidth)):a?u.width(b.clientWidth):m&&u.width(m),r=a=0;r<f.length;r++)l=(b=e(h[r])).outerWidth()-b.width(),a+=b=_.bBounding?Math.ceil(h[r].getBoundingClientRect().width):b.outerWidth(),s[f[r]].sWidth=ye(b-l);o.style.width=ye(a),i.remove()}m&&(o.style.width=ye(m)),!m&&!c||n._reszEvt||(o=function(){e(t).on("resize.DT-"+n.sInstance,gt(function(){d(n)}))},w?setTimeout(o,1e3):o(),n._reszEvt=!0)}function ge(t,r){if(!t)return 0;var i=e("<div/>").css("width",ye(t)).appendTo(r||n.body),o=i[0].offsetWidth;return i.remove(),o}function ve(t,n){var r=be(t,n);if(0>r)return null;var i=t.aoData[r];return i.nTr?i.anCells[n]:e("<td/>").html(k(t,r,n,"display"))[0]}function be(e,t){for(var n,r=-1,i=-1,o=0,s=e.aoData.length;o<s;o++)(n=(n=(n=k(e,o,t,"display")+"").replace(mt,"")).replace(/&nbsp;/g," ")).length>r&&(r=n.length,i=o);return i}function ye(e){return null===e?"0px":"number"==typeof e?0>e?"0px":e+"px":e.match(/\d$/)?e+"px":e}function _e(t){var n,i,o,s,a,c,l=[],u=t.aoColumns;n=t.aaSortingFixed,i=e.isPlainObject(n);var f=[];for(o=function(t){t.length&&!e.isArray(t[0])?f.push(t):e.merge(f,t)},e.isArray(n)&&o(n),i&&n.pre&&o(n.pre),o(t.aaSorting),i&&n.post&&o(n.post),t=0;t<f.length;t++)for(n=0,i=(o=u[c=f[t][0]].aDataSort).length;n<i;n++)a=u[s=o[n]].sType||"string",f[t]._idx===r&&(f[t]._idx=e.inArray(f[t][1],u[s].asSorting)),l.push({src:c,col:s,dir:f[t][1],index:f[t]._idx,type:a,formatter:Ve.ext.type.order[a+"-pre"]});return l}function we(e){var t,n,r,i,o=[],s=Ve.ext.type.order,a=e.aoData,c=0,l=e.aiDisplayMaster;for(b(e),t=0,n=(i=_e(e)).length;t<n;t++)(r=i[t]).formatter&&c++,Ae(e,r.col);if("ssp"!=Le(e)&&0!==i.length){for(t=0,n=l.length;t<n;t++)o[l[t]]=t;c===i.length?l.sort(function(e,t){var n,r,s,c,l=i.length,u=a[e]._aSortData,f=a[t]._aSortData;for(s=0;s<l;s++)if(0!==(n=(n=u[(c=i[s]).col])<(r=f[c.col])?-1:n>r?1:0))return"asc"===c.dir?n:-n;return(n=o[e])<(r=o[t])?-1:n>r?1:0}):l.sort(function(e,t){var n,r,c,l,u=i.length,f=a[e]._aSortData,h=a[t]._aSortData;for(c=0;c<u;c++)if(n=f[(l=i[c]).col],r=h[l.col],0!==(n=(l=s[l.type+"-"+l.dir]||s["string-"+l.dir])(n,r)))return n;return(n=o[e])<(r=o[t])?-1:n>r?1:0})}e.bSorted=!0}function ke(e){for(var t,n,r=e.aoColumns,i=_e(e),o=(e=e.oLanguage.oAria,0),s=r.length;o<s;o++){var a=(n=r[o]).asSorting;t=n.sTitle.replace(/<.*?>/g,"");var c=n.nTh;c.removeAttribute("aria-sort"),n.bSortable&&(0<i.length&&i[0].col==o?(c.setAttribute("aria-sort","asc"==i[0].dir?"ascending":"descending"),n=a[i[0].index+1]||a[0]):n=a[0],t+="asc"===n?e.sSortAscending:e.sSortDescending),c.setAttribute("aria-label",t)}}function xe(t,n,i,o){var s=t.aaSorting,a=t.aoColumns[n].asSorting,c=function(t,n){var i=t._idx;return i===r&&(i=e.inArray(t[1],a)),i+1<a.length?i+1:n?null:0};"number"==typeof s[0]&&(s=t.aaSorting=[s]),i&&t.oFeatures.bSortMulti?-1!==(i=e.inArray(n,it(s,"0")))?(null===(n=c(s[i],!0))&&1===s.length&&(n=0),null===n?s.splice(i,1):(s[i][1]=a[n],s[i]._idx=n)):(s.push([n,a[0],0]),s[s.length-1]._idx=0):s.length&&s[0][0]==n?(n=c(s[0]),s.length=1,s[0][1]=a[n],s[0]._idx=n):(s.length=0,s.push([n,a[0]]),s[0]._idx=0),R(t),"function"==typeof o&&o(t)}function Se(e,t,n,r){var i=e.aoColumns[n];Pe(t,{},function(t){!1!==i.bSortable&&(e.oFeatures.bProcessing?(fe(e,!0),setTimeout(function(){xe(e,n,t.shiftKey,r),"ssp"!==Le(e)&&fe(e,!1)},0)):xe(e,n,t.shiftKey,r))})}function Ce(t){var n,r,i=t.aLastSort,o=t.oClasses.sSortColumn,s=_e(t),a=t.oFeatures;if(a.bSort&&a.bSortClasses){for(a=0,n=i.length;a<n;a++)r=i[a].src,e(it(t.aoData,"anCells",r)).removeClass(o+(2>a?a+1:3));for(a=0,n=s.length;a<n;a++)r=s[a].src,e(it(t.aoData,"anCells",r)).addClass(o+(2>a?a+1:3))}t.aLastSort=s}function Ae(e,t){var n,r=e.aoColumns[t],i=Ve.ext.order[r.sSortDataType];i&&(n=i.call(e.oInstance,e,t,m(e,t)));for(var o,s=Ve.ext.type.order[r.sType+"-pre"],a=0,c=e.aoData.length;a<c;a++)(r=e.aoData[a])._aSortData||(r._aSortData=[]),(!r._aSortData[t]||i)&&(o=i?n[a]:k(e,a,t,"sort"),r._aSortData[t]=s?s(o):o)}function Ee(t){if(t.oFeatures.bStateSave&&!t.bDestroying){var n={time:+new Date,start:t._iDisplayStart,length:t._iDisplayLength,order:e.extend(!0,[],t.aaSorting),search:Q(t.oPreviousSearch),columns:e.map(t.aoColumns,function(e,n){return{visible:e.bVisible,search:Q(t.aoPreSearchCols[n])}})};Ne(t,"aoStateSaveParams","stateSaveParams",[t,n]),t.oSavedState=n,t.fnStateSaveCallback.call(t.oInstance,t,n)}}function Te(t,n,i){var o,s,a=t.aoColumns;n=function(n){if(n&&n.time){var c=Ne(t,"aoStateLoadParams","stateLoadParams",[t,n]);if(-1===e.inArray(!1,c)&&!(0<(c=t.iStateDuration)&&n.time<+new Date-1e3*c||n.columns&&a.length!==n.columns.length)){if(t.oLoadedState=e.extend(!0,{},n),n.start!==r&&(t._iDisplayStart=n.start,t.iInitDisplayStart=n.start),n.length!==r&&(t._iDisplayLength=n.length),n.order!==r&&(t.aaSorting=[],e.each(n.order,function(e,n){t.aaSorting.push(n[0]>=a.length?[0,n[1]]:n)})),n.search!==r&&e.extend(t.oPreviousSearch,ee(n.search)),n.columns)for(o=0,s=n.columns.length;o<s;o++)(c=n.columns[o]).visible!==r&&(a[o].bVisible=c.visible),c.search!==r&&e.extend(t.aoPreSearchCols[o],ee(c.search));Ne(t,"aoStateLoaded","stateLoaded",[t,n])}}i()};if(t.oFeatures.bStateSave){var c=t.fnStateLoadCallback.call(t.oInstance,t,n);c!==r&&n(c)}else i()}function Ie(t){var n=Ve.settings;return-1!==(t=e.inArray(t,it(n,"nTable")))?n[t]:null}function De(e,n,r,i){if(r="DataTables warning: "+(e?"table id="+e.sTableId+" - ":"")+r,i&&(r+=". For more information about this error, please see http://datatables.net/tn/"+i),n)t.console&&console.log&&console.log(r);else if(n=(n=Ve.ext).sErrMode||n.errMode,e&&Ne(e,null,"error",[e,i,r]),"alert"==n)alert(r);else{if("throw"==n)throw Error(r);"function"==typeof n&&n(e,i,r)}}function Me(t,n,i,o){e.isArray(i)?e.each(i,function(r,i){e.isArray(i)?Me(t,n,i[0],i[1]):Me(t,n,i)}):(o===r&&(o=i),n[i]!==r&&(t[o]=n[i]))}function Oe(t,n,r){var i,o;for(o in n)n.hasOwnProperty(o)&&(i=n[o],e.isPlainObject(i)?(e.isPlainObject(t[o])||(t[o]={}),e.extend(!0,t[o],i)):t[o]=r&&"data"!==o&&"aaData"!==o&&e.isArray(i)?i.slice():i);return t}function Pe(t,n,r){e(t).on("click.DT",n,function(e){t.blur(),r(e)}).on("keypress.DT",n,function(e){13===e.which&&(e.preventDefault(),r(e))}).on("selectstart.DT",function(){return!1})}function je(e,t,n,r){n&&e[t].push({fn:n,sName:r})}function Ne(t,n,r,i){var o=[];return n&&(o=e.map(t[n].slice().reverse(),function(e){return e.fn.apply(t.oInstance,i)})),null!==r&&(n=e.Event(r+".dt"),e(t.nTable).trigger(n,i),o.push(n.result)),o}function Be(e){var t=e._iDisplayStart,n=e.fnDisplayEnd(),r=e._iDisplayLength;t>=n&&(t=n-r),t-=t%r,(-1===r||0>t)&&(t=0),e._iDisplayStart=t}function Re(t,n){var r=t.renderer,i=Ve.ext.renderer[n];return e.isPlainObject(r)&&r[n]?i[r[n]]||i._:"string"==typeof r&&i[r]||i._}function Le(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}function Fe(e,t){var n=[],r=(n=Tt.numbers_length,Math.floor(n/2));return t<=n?n=st(0,t):e<=r?((n=st(0,n-2)).push("ellipsis"),n.push(t-1)):(e>=t-1-r?n=st(t-(n-2),t):((n=st(e-r+2,e+r-1)).push("ellipsis"),n.push(t-1)),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}function He(t){e.each({num:function(e){return It(e,t)},"num-fmt":function(e){return It(e,t,Ze)},"html-num":function(e){return It(e,t,Ye)},"html-num-fmt":function(e){return It(e,t,Ye,Ze)}},function(e,n){qe.type.order[e+t+"-pre"]=n,e.match(/^html\-/)&&(qe.type.search[e+t]=qe.type.search.html)})}function ze(e){return function(){var t=[Ie(this[Ve.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Ve.ext.internal[e].apply(this,t)}}var qe,Ue,$e,We,Ve=function(t){this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return new Ue(e?Ie(this[qe.iApiIndex]):this)},this.fnAddData=function(t,n){var i=this.api(!0),o=e.isArray(t)&&(e.isArray(t[0])||e.isPlainObject(t[0]))?i.rows.add(t):i.row.add(t);return(n===r||n)&&i.draw(),o.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),n=t.settings()[0],i=n.oScroll;e===r||e?t.draw(!1):(""!==i.sX||""!==i.sY)&&de(n)},this.fnClearTable=function(e){var t=this.api(!0).clear();(e===r||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,n){var i=this.api(!0),o=(e=i.rows(e)).settings()[0],s=o.aoData[e[0][0]];return e.remove(),t&&t.call(this,o,s),(n===r||n)&&i.draw(),s},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(e)},this.fnFilter=function(e,t,n,i,o,s){o=this.api(!0),null===t||t===r?o.search(e,n,i,s):o.column(t).search(e,n,i,s),o.draw()},this.fnGetData=function(e,t){var n=this.api(!0);if(e!==r){var i=e.nodeName?e.nodeName.toLowerCase():"";return t!==r||"td"==i||"th"==i?n.cell(e,t).data():n.row(e).data()||null}return n.data().toArray()},this.fnGetNodes=function(e){var t=this.api(!0);return e!==r?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),n=e.nodeName.toUpperCase();return"TR"==n?t.row(e).index():"TD"==n||"TH"==n?[(e=t.cell(e).index()).row,e.columnVisible,e.column]:null},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,n){return this.api(!0).row(e).child(t,n).show().child()[0]},this.fnPageChange=function(e,t){var n=this.api(!0).page(e);(t===r||t)&&n.draw(!1)},this.fnSetColumnVis=function(e,t,n){e=this.api(!0).column(e).visible(t),(n===r||n)&&e.columns.adjust().draw()},this.fnSettings=function(){return Ie(this[qe.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,n){this.api(!0).order.listener(e,t,n)},this.fnUpdate=function(e,t,n,i,o){var s=this.api(!0);return n===r||null===n?s.row(t).data(e):s.cell(t,n).data(e),(o===r||o)&&s.columns.adjust(),(i===r||i)&&s.draw(),0},this.fnVersionCheck=qe.fnVersionCheck;var n=this,i=t===r,u=this.length;for(var d in i&&(t={}),this.oApi=this.internal=qe.internal,Ve.ext.internal)d&&(this[d]=ze(d));return this.each(function(){var d,p={},m=1<u?Oe(p,t,!0):t,g=0,v=(p=this.getAttribute("id"),!1),b=Ve.defaults,k=e(this);if("table"!=this.nodeName.toLowerCase())De(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{a(b),c(b.column),o(b,b,!0),o(b.column,b.column,!0),o(b,e.extend(m,k.data()));var x=Ve.settings;g=0;for(d=x.length;g<d;g++){var S=x[g];if(S.nTable==this||S.nTHead.parentNode==this||S.nTFoot&&S.nTFoot.parentNode==this){var A=m.bRetrieve!==r?m.bRetrieve:b.bRetrieve;if(i||A)return S.oInstance;if(m.bDestroy!==r?m.bDestroy:b.bDestroy){S.oInstance.fnDestroy();break}return void De(S,0,"Cannot reinitialise DataTable",3)}if(S.sTableId==this.id){x.splice(g,1);break}}null!==p&&""!==p||(this.id=p="DataTables_Table_"+Ve.ext._unique++);var E=e.extend(!0,{},Ve.models.oSettings,{sDestroyWidth:k[0].style.width,sInstance:p,sTableId:p});E.nTable=this,E.oApi=n.internal,E.oInit=m,x.push(E),E.oInstance=1===n.length?n:k.dataTable(),a(m),m.oLanguage&&s(m.oLanguage),m.aLengthMenu&&!m.iDisplayLength&&(m.iDisplayLength=e.isArray(m.aLengthMenu[0])?m.aLengthMenu[0][0]:m.aLengthMenu[0]),m=Oe(e.extend(!0,{},b),m),Me(E.oFeatures,m,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),Me(E,m,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),Me(E.oScroll,m,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Me(E.oLanguage,m,"fnInfoCallback"),je(E,"aoDrawCallback",m.fnDrawCallback,"user"),je(E,"aoServerParams",m.fnServerParams,"user"),je(E,"aoStateSaveParams",m.fnStateSaveParams,"user"),je(E,"aoStateLoadParams",m.fnStateLoadParams,"user"),je(E,"aoStateLoaded",m.fnStateLoaded,"user"),je(E,"aoRowCallback",m.fnRowCallback,"user"),je(E,"aoRowCreatedCallback",m.fnCreatedRow,"user"),je(E,"aoHeaderCallback",m.fnHeaderCallback,"user"),je(E,"aoFooterCallback",m.fnFooterCallback,"user"),je(E,"aoInitComplete",m.fnInitComplete,"user"),je(E,"aoPreDrawCallback",m.fnPreDrawCallback,"user"),E.rowIdFn=C(m.rowId),l(E);var T=E.oClasses;e.extend(T,Ve.ext.classes,m.oClasses),k.addClass(T.sTable),E.iInitDisplayStart===r&&(E.iInitDisplayStart=m.iDisplayStart,E._iDisplayStart=m.iDisplayStart),null!==m.iDeferLoading&&(E.bDeferLoading=!0,p=e.isArray(m.iDeferLoading),E._iRecordsDisplay=p?m.iDeferLoading[0]:m.iDeferLoading,E._iRecordsTotal=p?m.iDeferLoading[1]:m.iDeferLoading);var I=E.oLanguage;e.extend(!0,I,m.oLanguage),I.sUrl&&(e.ajax({dataType:"json",url:I.sUrl,success:function(t){s(t),o(b.oLanguage,t),e.extend(!0,I,t),ie(E)},error:function(){ie(E)}}),v=!0),null===m.asStripeClasses&&(E.asStripeClasses=[T.sStripeOdd,T.sStripeEven]);p=E.asStripeClasses;var D=k.children("tbody").find("tr").eq(0);if(-1!==e.inArray(!0,e.map(p,function(e){return D.hasClass(e)}))&&(e("tbody tr",this).removeClass(p.join(" ")),E.asDestroyStripes=p.slice()),p=[],0!==(x=this.getElementsByTagName("thead")).length&&(F(E.aoHeader,x[0]),p=H(E)),null===m.aoColumns)for(x=[],g=0,d=p.length;g<d;g++)x.push(null);else x=m.aoColumns;for(g=0,d=x.length;g<d;g++)f(E,p?p[g]:null);if(y(E,m.aoColumnDefs,x,function(e,t){h(E,e,t)}),D.length){var M=function(e,t){return null!==e.getAttribute("data-"+t)?t:null};e(D[0]).children("th, td").each(function(e,t){var n=E.aoColumns[e];if(n.mData===e){var i=M(t,"sort")||M(t,"order"),o=M(t,"filter")||M(t,"search");null===i&&null===o||(n.mData={_:e+".display",sort:null!==i?e+".@data-"+i:r,type:null!==i?e+".@data-"+i:r,filter:null!==o?e+".@data-"+o:r},h(E,e))}})}var O=E.oFeatures;p=function(){if(m.aaSorting===r){var t=E.aaSorting;for(g=0,d=t.length;g<d;g++)t[g][1]=E.aoColumns[g].asSorting[0]}Ce(E),O.bSort&&je(E,"aoDrawCallback",function(){if(E.bSorted){var t=_e(E),n={};e.each(t,function(e,t){n[t.src]=t.dir}),Ne(E,null,"order",[E,t,n]),ke(E)}}),je(E,"aoDrawCallback",function(){(E.bSorted||"ssp"===Le(E)||O.bDeferRender)&&Ce(E)},"sc");t=k.children("caption").each(function(){this._captionSide=e(this).css("caption-side")});var n=k.children("thead");if(0===n.length&&(n=e("<thead/>").appendTo(k)),E.nTHead=n[0],0===(n=k.children("tbody")).length&&(n=e("<tbody/>").appendTo(k)),E.nTBody=n[0],0===(n=k.children("tfoot")).length&&t.length>0&&(""!==E.oScroll.sX||""!==E.oScroll.sY)&&(n=e("<tfoot/>").appendTo(k)),0===n.length||0===n.children().length?k.addClass(T.sNoFooter):n.length>0&&(E.nTFoot=n[0],F(E.aoFooter,E.nTFoot)),m.aaData)for(g=0;g<m.aaData.length;g++)_(E,m.aaData[g]);else(E.bDeferLoading||"dom"==Le(E))&&w(E,e(E.nTBody).children("tr"));E.aiDisplay=E.aiDisplayMaster.slice(),E.bInitialised=!0,!1===v&&ie(E)};m.bStateSave?(O.bStateSave=!0,je(E,"aoDrawCallback",Ee,"state_save"),Te(E,m,p)):p()}}),n=null,this},Ke={},Ge=/[\r\n]/g,Ye=/<.*?>/g,Xe=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,Je=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),Ze=/[',$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,Qe=function(e){return!e||!0===e||"-"===e},et=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},tt=function(e,t){return Ke[t]||(Ke[t]=RegExp(ht(t),"g")),"string"==typeof e&&"."!==t?e.replace(/\./g,"").replace(Ke[t],"."):e},nt=function(e,t,n){var r="string"==typeof e;return!!Qe(e)||(t&&r&&(e=tt(e,t)),n&&r&&(e=e.replace(Ze,"")),!isNaN(parseFloat(e))&&isFinite(e))},rt=function(e,t,n){return!!Qe(e)||((Qe(e)||"string"==typeof e)&&!!nt(e.replace(Ye,""),t,n)||null)},it=function(e,t,n){var i=[],o=0,s=e.length;if(n!==r)for(;o<s;o++)e[o]&&e[o][t]&&i.push(e[o][t][n]);else for(;o<s;o++)e[o]&&i.push(e[o][t]);return i},ot=function(e,t,n,i){var o=[],s=0,a=t.length;if(i!==r)for(;s<a;s++)e[t[s]][n]&&o.push(e[t[s]][n][i]);else for(;s<a;s++)o.push(e[t[s]][n]);return o},st=function(e,t){var n,i=[];t===r?(t=0,n=e):(n=t,t=e);for(var o=t;o<n;o++)i.push(o);return i},at=function(e){for(var t=[],n=0,r=e.length;n<r;n++)e[n]&&t.push(e[n]);return t},ct=function(e){var t;e:{if(!(2>e.length))for(var n=(t=e.slice().sort())[0],r=1,i=t.length;r<i;r++){if(t[r]===n){t=!1;break e}n=t[r]}t=!0}if(t)return e.slice();t=[];i=e.length;var o,s=0;r=0;e:for(;r<i;r++){for(n=e[r],o=0;o<s;o++)if(t[o]===n)continue e;t.push(n),s++}return t};Ve.util={throttle:function(e,t){var n,i,o=t!==r?t:200;return function(){var t=this,s=+new Date,a=arguments;n&&s<n+o?(clearTimeout(i),i=setTimeout(function(){n=r,e.apply(t,a)},o)):(n=s,e.apply(t,a))}},escapeRegex:function(e){return e.replace(Je,"\\$1")}};var lt=function(e,t,n){e[t]!==r&&(e[n]=e[t])},ut=/\[.*?\]$/,ft=/\(\)$/,ht=Ve.util.escapeRegex,dt=e("<div>")[0],pt=dt.textContent!==r,mt=/<.*?>/g,gt=Ve.util.throttle,vt=[],bt=Array.prototype;Ue=function(t,n){if(!(this instanceof Ue))return new Ue(t,n);var r=[],i=function(t){(t=function(t){var n,r,i=Ve.settings,o=e.map(i,function(e){return e.nTable});return t?t.nTable&&t.oApi?[t]:t.nodeName&&"table"===t.nodeName.toLowerCase()?-1!==(n=e.inArray(t,o))?[i[n]]:null:t&&"function"==typeof t.settings?t.settings().toArray():("string"==typeof t?r=e(t):t instanceof e&&(r=t),r?r.map(function(){return-1!==(n=e.inArray(this,o))?i[n]:null}).toArray():void 0):[]}(t))&&(r=r.concat(t))};if(e.isArray(t))for(var o=0,s=t.length;o<s;o++)i(t[o]);else i(t);this.context=ct(r),n&&e.merge(this,n),this.selector={rows:null,cols:null,opts:null},Ue.extend(this,this,vt)},Ve.Api=Ue,e.extend(Ue.prototype,{any:function(){return 0!==this.count()},concat:bt.concat,context:[],count:function(){return this.flatten().length},each:function(e){for(var t=0,n=this.length;t<n;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new Ue(t[e],this[e]):null},filter:function(e){var t=[];if(bt.filter)t=bt.filter.call(this,e,this);else for(var n=0,r=this.length;n<r;n++)e.call(this,this[n],n,this)&&t.push(this[n]);return new Ue(this.context,t)},flatten:function(){var e=[];return new Ue(this.context,e.concat.apply(e,this.toArray()))},join:bt.join,indexOf:bt.indexOf||function(e,t){for(var n=t||0,r=this.length;n<r;n++)if(this[n]===e)return n;return-1},iterator:function(e,t,n,i){var o,s,a,c,l,u,f,h=[],d=this.context,p=this.selector;for("string"==typeof e&&(i=n,n=t,t=e,e=!1),s=0,a=d.length;s<a;s++){var m=new Ue(d[s]);if("table"===t)(o=n.call(m,d[s],s))!==r&&h.push(o);else if("columns"===t||"rows"===t)(o=n.call(m,d[s],this[s],s))!==r&&h.push(o);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(f=this[s],"column-rows"===t&&(u=xt(d[s],p.opts)),c=0,l=f.length;c<l;c++)o=f[c],(o="cell"===t?n.call(m,d[s],o.row,o.column,s,c):n.call(m,d[s],o,s,c,u))!==r&&h.push(o)}return h.length||i?((t=(e=new Ue(d,e?h.concat.apply([],h):h)).selector).rows=p.rows,t.cols=p.cols,t.opts=p.opts,e):this},lastIndexOf:bt.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(bt.map)t=bt.map.call(this,e,this);else for(var n=0,r=this.length;n<r;n++)t.push(e.call(this,this[n],n));return new Ue(this.context,t)},pluck:function(e){return this.map(function(t){return t[e]})},pop:bt.pop,push:bt.push,reduce:bt.reduce||function(e,t){return u(this,e,t,0,this.length,1)},reduceRight:bt.reduceRight||function(e,t){return u(this,e,t,this.length-1,-1,-1)},reverse:bt.reverse,selector:null,shift:bt.shift,slice:function(){return new Ue(this.context,this)},sort:bt.sort,splice:bt.splice,toArray:function(){return bt.slice.call(this)},to$:function(){return e(this)},toJQuery:function(){return e(this)},unique:function(){return new Ue(this.context,ct(this))},unshift:bt.unshift}),Ue.extend=function(t,n,r){if(r.length&&n&&(n instanceof Ue||n.__dt_wrapper)){var i,o,s,a=function(e,t,n){return function(){var r=t.apply(e,arguments);return Ue.extend(r,r,n.methodExt),r}};for(i=0,o=r.length;i<o;i++)n[(s=r[i]).name]="function"==typeof s.val?a(t,s.val,s):e.isPlainObject(s.val)?{}:s.val,n[s.name].__dt_wrapper=!0,Ue.extend(t,n[s.name],s.propExt)}},Ue.register=$e=function(t,n){if(e.isArray(t))for(var r=0,i=t.length;r<i;r++)Ue.register(t[r],n);else{var o,s,a=t.split("."),c=vt;for(r=0,i=a.length;r<i;r++){var l;o=(s=-1!==a[r].indexOf("()"))?a[r].replace("()",""):a[r];e:{l=0;for(var u=c.length;l<u;l++)if(c[l].name===o){l=c[l];break e}l=null}l||(l={name:o,val:{},methodExt:[],propExt:[]},c.push(l)),r===i-1?l.val=n:c=s?l.methodExt:l.propExt}}},Ue.registerPlural=We=function(t,n,i){Ue.register(t,i),Ue.register(n,function(){var t=i.apply(this,arguments);return t===this?this:t instanceof Ue?t.length?e.isArray(t[0])?new Ue(t.context,t[0]):t[0]:r:t})},$e("tables()",function(t){var n;if(t){n=Ue;var r=this.context;if("number"==typeof t)t=[r[t]];else{var i=e.map(r,function(e){return e.nTable});t=e(i).filter(t).map(function(){var t=e.inArray(this,i);return r[t]}).toArray()}n=new n(t)}else n=this;return n}),$e("table()",function(e){var t=(e=this.tables(e)).context;return t.length?new Ue(t[0]):e}),We("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable},1)}),We("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody},1)}),We("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead},1)}),We("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot},1)}),We("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper},1)}),$e("draw()",function(e){return this.iterator("table",function(t){"page"===e?B(t):("string"==typeof e&&(e="full-hold"!==e),R(t,!1===e))})}),$e("page()",function(e){return e===r?this.page.info().page:this.iterator("table",function(t){le(t,e)})}),$e("page.info()",function(){if(0===this.context.length)return r;var e=this.context[0],t=e._iDisplayStart,n=e.oFeatures.bPaginate?e._iDisplayLength:-1,i=e.fnRecordsDisplay(),o=-1===n;return{page:o?0:Math.floor(t/n),pages:o?1:Math.ceil(i/n),start:t,end:e.fnDisplayEnd(),length:n,recordsTotal:e.fnRecordsTotal(),recordsDisplay:i,serverSide:"ssp"===Le(e)}}),$e("page.len()",function(e){return e===r?0!==this.context.length?this.context[0]._iDisplayLength:r:this.iterator("table",function(t){se(t,e)})});var yt=function(e,t,n){if(n){var r=new Ue(e);r.one("draw",function(){n(r.ajax.json())})}if("ssp"==Le(e))R(e,t);else{fe(e,!0);var i=e.jqXHR;i&&4!==i.readyState&&i.abort(),z(e,[],function(n){T(e);for(var r=0,i=(n=W(e,n)).length;r<i;r++)_(e,n[r]);R(e,t),fe(e,!1)})}};$e("ajax.json()",function(){var e=this.context;if(0<e.length)return e[0].json}),$e("ajax.params()",function(){var e=this.context;if(0<e.length)return e[0].oAjaxData}),$e("ajax.reload()",function(e,t){return this.iterator("table",function(n){yt(n,!1===t,e)})}),$e("ajax.url()",function(t){var n=this.context;return t===r?0===n.length?r:(n=n[0]).ajax?e.isPlainObject(n.ajax)?n.ajax.url:n.ajax:n.sAjaxSource:this.iterator("table",function(n){e.isPlainObject(n.ajax)?n.ajax.url=t:n.ajax=t})}),$e("ajax.url().load()",function(e,t){return this.iterator("table",function(n){yt(n,!1===t,e)})});var _t=function(t,n,i,o,s){var a,c,l,u,f,h,d=[];for(l=typeof n,n&&"string"!==l&&"function"!==l&&n.length!==r||(n=[n]),l=0,u=n.length;l<u;l++)for(f=0,h=(c=n[l]&&n[l].split&&!n[l].match(/[\[\(:]/)?n[l].split(","):[n[l]]).length;f<h;f++)(a=i("string"==typeof c[f]?e.trim(c[f]):c[f]))&&a.length&&(d=d.concat(a));if((t=qe.selector[t]).length)for(l=0,u=t.length;l<u;l++)d=t[l](o,s,d);return ct(d)},wt=function(t){return t||(t={}),t.filter&&t.search===r&&(t.search=t.filter),e.extend({search:"none",order:"current",page:"all"},t)},kt=function(e){for(var t=0,n=e.length;t<n;t++)if(0<e[t].length)return e[0]=e[t],e[0].length=1,e.length=1,e.context=[e.context[t]],e;return e.length=0,e},xt=function(t,n){var r,i,o,s=[],a=t.aiDisplay;r=t.aiDisplayMaster;var c=n.search;if(i=n.order,o=n.page,"ssp"==Le(t))return"removed"===c?[]:st(0,r.length);if("current"==o)for(r=t._iDisplayStart,i=t.fnDisplayEnd();r<i;r++)s.push(a[r]);else if("current"==i||"applied"==i)s="none"==c?r.slice():"applied"==c?a.slice():e.map(r,function(t){return-1===e.inArray(t,a)?t:null});else if("index"==i||"original"==i)for(r=0,i=t.aoData.length;r<i;r++)"none"==c?s.push(r):(-1===(o=e.inArray(r,a))&&"removed"==c||0<=o&&"applied"==c)&&s.push(r);return s};$e("rows()",function(t,n){t===r?t="":e.isPlainObject(t)&&(n=t,t="");n=wt(n);var i=this.iterator("table",function(i){var o,s=n;return _t("row",t,function(t){var n=et(t);if(null!==n&&!s)return[n];if(o||(o=xt(i,s)),null!==n&&-1!==e.inArray(n,o))return[n];if(null===t||t===r||""===t)return o;if("function"==typeof t)return e.map(o,function(e){var n=i.aoData[e];return t(e,n._aData,n.nTr)?e:null});if(n=at(ot(i.aoData,o,"nTr")),t.nodeName)return t._DT_RowIndex!==r?[t._DT_RowIndex]:t._DT_CellIndex?[t._DT_CellIndex.row]:(n=e(t).closest("*[data-dt-row]")).length?[n.data("dt-row")]:[];if("string"==typeof t&&"#"===t.charAt(0)){var a=i.aIds[t.replace(/^#/,"")];if(a!==r)return[a.idx]}return e(n).filter(t).map(function(){return this._DT_RowIndex}).toArray()},i,s)},1);return i.selector.rows=t,i.selector.opts=n,i}),$e("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||r},1)}),$e("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return ot(e.aoData,t,"_aData")},1)}),We("rows().cache()","row().cache()",function(e){return this.iterator("row",function(t,n){var r=t.aoData[n];return"search"===e?r._aFilterData:r._aSortData},1)}),We("rows().invalidate()","row().invalidate()",function(e){return this.iterator("row",function(t,n){D(t,n,e)})}),We("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t},1)}),We("rows().ids()","row().id()",function(e){for(var t=[],n=this.context,r=0,i=n.length;r<i;r++)for(var o=0,s=this[r].length;o<s;o++){var a=n[r].rowIdFn(n[r].aoData[this[r][o]]._aData);t.push((!0===e?"#":"")+a)}return new Ue(n,t)}),We("rows().remove()","row().remove()",function(){var e=this;return this.iterator("row",function(t,n,i){var o,s,a,c,l,u=t.aoData,f=u[n];for(u.splice(n,1),o=0,s=u.length;o<s;o++)if(l=(a=u[o]).anCells,null!==a.nTr&&(a.nTr._DT_RowIndex=o),null!==l)for(a=0,c=l.length;a<c;a++)l[a]._DT_CellIndex.row=o;I(t.aiDisplayMaster,n),I(t.aiDisplay,n),I(e[i],n,!1),0<t._iRecordsDisplay&&t._iRecordsDisplay--,Be(t),(n=t.rowIdFn(f._aData))!==r&&delete t.aIds[n]}),this.iterator("table",function(e){for(var t=0,n=e.aoData.length;t<n;t++)e.aoData[t].idx=t}),this}),$e("rows.add()",function(t){var n=this.iterator("table",function(e){var n,r,i,o=[];for(r=0,i=t.length;r<i;r++)(n=t[r]).nodeName&&"TR"===n.nodeName.toUpperCase()?o.push(w(e,n)[0]):o.push(_(e,n));return o},1),r=this.rows(-1);return r.pop(),e.merge(r,n),r}),$e("row()",function(e,t){return kt(this.rows(e,t))}),$e("row().data()",function(e){var t=this.context;return e===r?t.length&&this.length?t[0].aoData[this[0]]._aData:r:(t[0].aoData[this[0]]._aData=e,D(t[0],this[0],"data"),this)}),$e("row().node()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]].nTr||null}),$e("row.add()",function(t){t instanceof e&&t.length&&(t=t[0]);var n=this.iterator("table",function(e){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?w(e,t)[0]:_(e,t)});return this.row(n[0])});var St=function(e,t){var n=e.context;n.length&&(n=n[0].aoData[t!==r?t:e[0]])&&n._details&&(n._details.remove(),n._detailsShow=r,n._details=r)},Ct=function(e,t){var n=e.context;if(n.length&&e.length){var r=n[0].aoData[e[0]];if(r._details){(r._detailsShow=t)?r._details.insertAfter(r.nTr):r._details.detach();var i=n[0],o=new Ue(i),s=i.aoData;o.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),0<it(s,"_details").length&&(o.on("draw.dt.DT_details",function(e,t){i===t&&o.rows({page:"current"}).eq(0).each(function(e){(e=s[e])._detailsShow&&e._details.insertAfter(e.nTr)})}),o.on("column-visibility.dt.DT_details",function(e,t){if(i===t)for(var n,r=g(t),o=0,a=s.length;o<a;o++)(n=s[o])._details&&n._details.children("td[colspan]").attr("colspan",r)}),o.on("destroy.dt.DT_details",function(e,t){if(i===t)for(var n=0,r=s.length;n<r;n++)s[n]._details&&St(o,n)}))}}};$e("row().child()",function(t,n){var i=this.context;if(t===r)return i.length&&this.length?i[0].aoData[this[0]]._details:r;if(!0===t)this.child.show();else if(!1===t)St(this);else if(i.length&&this.length){var o=i[0],s=(i=i[0].aoData[this[0]],[]),a=function(t,n){if(e.isArray(t)||t instanceof e)for(var r=0,i=t.length;r<i;r++)a(t[r],n);else t.nodeName&&"tr"===t.nodeName.toLowerCase()?s.push(t):(r=e("<tr><td/></tr>").addClass(n),e("td",r).addClass(n).html(t)[0].colSpan=g(o),s.push(r[0]))};a(t,n),i._details&&i._details.detach(),i._details=e(s),i._detailsShow&&i._details.insertAfter(i.nTr)}return this}),$e(["row().child.show()","row().child().show()"],function(){return Ct(this,!0),this}),$e(["row().child.hide()","row().child().hide()"],function(){return Ct(this,!1),this}),$e(["row().child.remove()","row().child().remove()"],function(){return St(this),this}),$e("row().child.isShown()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]]._detailsShow||!1});var At=/^([^:]+):(name|visIdx|visible)$/,Et=function(e,t,n,r,i){n=[],r=0;for(var o=i.length;r<o;r++)n.push(k(e,i[r],t));return n};$e("columns()",function(t,n){t===r?t="":e.isPlainObject(t)&&(n=t,t="");n=wt(n);var i=this.iterator("table",function(r){var i=t,o=n,s=r.aoColumns,a=it(s,"sName"),c=it(s,"nTh");return _t("column",i,function(t){var n=et(t);if(""===t)return st(s.length);if(null!==n)return[n>=0?n:s.length+n];if("function"==typeof t){var i=xt(r,o);return e.map(s,function(e,n){return t(n,Et(r,n,0,0,i),c[n])?n:null})}var l="string"==typeof t?t.match(At):"";if(l)switch(l[2]){case"visIdx":case"visible":if((n=parseInt(l[1],10))<0){var u=e.map(s,function(e,t){return e.bVisible?t:null});return[u[u.length+n]]}return[p(r,n)];case"name":return e.map(a,function(e,t){return e===l[1]?t:null});default:return[]}return t.nodeName&&t._DT_CellIndex?[t._DT_CellIndex.column]:(n=e(c).filter(t).map(function(){return e.inArray(this,c)}).toArray()).length||!t.nodeName?n:(n=e(t).closest("*[data-dt-column]")).length?[n.data("dt-column")]:[]},r,o)},1);return i.selector.cols=t,i.selector.opts=n,i}),We("columns().header()","column().header()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].nTh},1)}),We("columns().footer()","column().footer()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].nTf},1)}),We("columns().data()","column().data()",function(){return this.iterator("column-rows",Et,1)}),We("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].mData},1)}),We("columns().cache()","column().cache()",function(e){return this.iterator("column-rows",function(t,n,r,i,o){return ot(t.aoData,o,"search"===e?"_aFilterData":"_aSortData",n)},1)}),We("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,n,r,i){return ot(e.aoData,i,"anCells",t)},1)}),We("columns().visible()","column().visible()",function(t,n){var i=this.iterator("column",function(n,i){if(t===r)return n.aoColumns[i].bVisible;var o,s,a,c=n.aoColumns,l=c[i],u=n.aoData;if(t!==r&&l.bVisible!==t){if(t){var f=e.inArray(!0,it(c,"bVisible"),i+1);for(o=0,s=u.length;o<s;o++)a=u[o].nTr,c=u[o].anCells,a&&a.insertBefore(c[i],c[f]||null)}else e(it(n.aoData,"anCells",i)).detach();l.bVisible=t,N(n,n.aoHeader),N(n,n.aoFooter),Ee(n)}});return t!==r&&(this.iterator("column",function(e,r){Ne(e,null,"column-visibility",[e,r,t,n])}),(n===r||n)&&this.columns.adjust()),i}),We("columns().indexes()","column().index()",function(e){return this.iterator("column",function(t,n){return"visible"===e?m(t,n):n},1)}),$e("columns.adjust()",function(){return this.iterator("table",function(e){d(e)},1)}),$e("column.index()",function(e,t){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===e||"toData"===e)return p(n,t);if("fromData"===e||"toVisible"===e)return m(n,t)}}),$e("column()",function(e,t){return kt(this.columns(e,t))}),$e("cells()",function(t,n,i){if(e.isPlainObject(t)&&(t.row===r?(i=t,t=null):(i=n,n=null)),e.isPlainObject(n)&&(i=n,n=null),null===n||n===r)return this.iterator("table",function(n){var o,s,a,c,l,u,f,h=t,d=wt(i),p=n.aoData,m=xt(n,d),g=at(ot(p,m,"anCells")),v=e([].concat.apply([],g)),b=n.aoColumns.length;return _t("cell",h,function(t){var i="function"==typeof t;if(null===t||t===r||i){for(s=[],a=0,c=m.length;a<c;a++)for(o=m[a],l=0;l<b;l++)u={row:o,column:l},i?(f=p[o],t(u,k(n,o,l),f.anCells?f.anCells[l]:null)&&s.push(u)):s.push(u);return s}return e.isPlainObject(t)?[t]:(i=v.filter(t).map(function(e,t){return{row:t._DT_CellIndex.row,column:t._DT_CellIndex.column}}).toArray()).length||!t.nodeName?i:(f=e(t).closest("*[data-dt-row]")).length?[{row:f.data("dt-row"),column:f.data("dt-column")}]:[]},n,d)});var o,s,a,c,l,u=this.columns(n,i),f=this.rows(t,i),h=this.iterator("table",function(e,t){for(o=[],s=0,a=f[t].length;s<a;s++)for(c=0,l=u[t].length;c<l;c++)o.push({row:f[t][s],column:u[t][c]});return o},1);return e.extend(h.selector,{cols:n,rows:t,opts:i}),h}),We("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,n){return(e=e.aoData[t])&&e.anCells?e.anCells[n]:r},1)}),$e("cells().data()",function(){return this.iterator("cell",function(e,t,n){return k(e,t,n)},1)}),We("cells().cache()","cell().cache()",function(e){return e="search"===e?"_aFilterData":"_aSortData",this.iterator("cell",function(t,n,r){return t.aoData[n][e][r]},1)}),We("cells().render()","cell().render()",function(e){return this.iterator("cell",function(t,n,r){return k(t,n,r,e)},1)}),We("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,n){return{row:t,column:n,columnVisible:m(e,n)}},1)}),We("cells().invalidate()","cell().invalidate()",function(e){return this.iterator("cell",function(t,n,r){D(t,n,e,r)})}),$e("cell()",function(e,t,n){return kt(this.cells(e,t,n))}),$e("cell().data()",function(e){var t=this.context,n=this[0];return e===r?t.length&&n.length?k(t[0],n[0].row,n[0].column):r:(x(t[0],n[0].row,n[0].column,e),D(t[0],n[0].row,"data",n[0].column),this)}),$e("order()",function(t,n){var i=this.context;return t===r?0!==i.length?i[0].aaSorting:r:("number"==typeof t?t=[[t,n]]:t.length&&!e.isArray(t[0])&&(t=Array.prototype.slice.call(arguments)),this.iterator("table",function(e){e.aaSorting=t.slice()}))}),$e("order.listener()",function(e,t,n){return this.iterator("table",function(r){Se(r,e,t,n)})}),$e("order.fixed()",function(t){if(!t){var n=(n=this.context).length?n[0].aaSortingFixed:r;return e.isArray(n)?{pre:n}:n}return this.iterator("table",function(n){n.aaSortingFixed=e.extend(!0,{},t)})}),$e(["columns().order()","column().order()"],function(t){var n=this;return this.iterator("table",function(r,i){var o=[];e.each(n[i],function(e,n){o.push([n,t])}),r.aaSorting=o})}),$e("search()",function(t,n,i,o){var s=this.context;return t===r?0!==s.length?s[0].oPreviousSearch.sSearch:r:this.iterator("table",function(r){r.oFeatures.bFilter&&K(r,e.extend({},r.oPreviousSearch,{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===i||i,bCaseInsensitive:null===o||o}),1)})}),We("columns().search()","column().search()",function(t,n,i,o){return this.iterator("column",function(s,a){var c=s.aoPreSearchCols;if(t===r)return c[a].sSearch;s.oFeatures.bFilter&&(e.extend(c[a],{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===i||i,bCaseInsensitive:null===o||o}),K(s,s.oPreviousSearch,1))})}),$e("state()",function(){return this.context.length?this.context[0].oSavedState:null}),$e("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})}),$e("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),$e("state.save()",function(){return this.iterator("table",function(e){Ee(e)})}),Ve.versionCheck=Ve.fnVersionCheck=function(e){for(var t,n,r=Ve.version.split("."),i=0,o=(e=e.split(".")).length;i<o;i++)if((t=parseInt(r[i],10)||0)!==(n=parseInt(e[i],10)||0))return t>n;return!0},Ve.isDataTable=Ve.fnIsDataTable=function(t){var n=e(t).get(0),r=!1;return t instanceof Ve.Api||(e.each(Ve.settings,function(t,i){var o=i.nScrollHead?e("table",i.nScrollHead)[0]:null,s=i.nScrollFoot?e("table",i.nScrollFoot)[0]:null;i.nTable!==n&&o!==n&&s!==n||(r=!0)}),r)},Ve.tables=Ve.fnTables=function(t){var n=!1;e.isPlainObject(t)&&(n=t.api,t=t.visible);var r=e.map(Ve.settings,function(n){if(!t||t&&e(n.nTable).is(":visible"))return n.nTable});return n?new Ue(r):r},Ve.camelToHungarian=o,$e("$()",function(t,n){var r=this.rows(n).nodes();r=e(r);return e([].concat(r.filter(t).toArray(),r.find(t).toArray()))}),e.each(["on","one","off"],function(t,n){$e(n+"()",function(){var t=Array.prototype.slice.call(arguments);t[0]=e.map(t[0].split(/\s/),function(e){return e.match(/\.dt\b/)?e:e+".dt"}).join(" ");var r=e(this.tables().nodes());return r[n].apply(r,t),this})}),$e("clear()",function(){return this.iterator("table",function(e){T(e)})}),$e("settings()",function(){return new Ue(this.context,this.context)}),$e("init()",function(){var e=this.context;return e.length?e[0].oInit:null}),$e("data()",function(){return this.iterator("table",function(e){return it(e.aoData,"_aData")}).flatten()}),$e("destroy()",function(n){return n=n||!1,this.iterator("table",function(r){var i,o=r.nTableWrapper.parentNode,s=r.oClasses,a=r.nTable,c=r.nTBody,l=r.nTHead,u=r.nTFoot,f=e(a),h=(c=e(c),e(r.nTableWrapper)),d=e.map(r.aoData,function(e){return e.nTr});r.bDestroying=!0,Ne(r,"aoDestroyCallback","destroy",[r]),n||new Ue(r).columns().visible(!0),h.off(".DT").find(":not(tbody *)").off(".DT"),e(t).off(".DT-"+r.sInstance),a!=l.parentNode&&(f.children("thead").detach(),f.append(l)),u&&a!=u.parentNode&&(f.children("tfoot").detach(),f.append(u)),r.aaSorting=[],r.aaSortingFixed=[],Ce(r),e(d).removeClass(r.asStripeClasses.join(" ")),e("th, td",l).removeClass(s.sSortable+" "+s.sSortableAsc+" "+s.sSortableDesc+" "+s.sSortableNone),c.children().detach(),c.append(d),f[l=n?"remove":"detach"](),h[l](),!n&&o&&(o.insertBefore(a,r.nTableReinsertBefore),f.css("width",r.sDestroyWidth).removeClass(s.sTable),(i=r.asDestroyStripes.length)&&c.children().each(function(t){e(this).addClass(r.asDestroyStripes[t%i])})),-1!==(o=e.inArray(r,Ve.settings))&&Ve.settings.splice(o,1)})}),e.each(["column","row","cell"],function(e,t){$e(t+"s().every()",function(e){var n=this.selector.opts,i=this;return this.iterator(t,function(o,s,a,c,l){e.call(i[t](s,"cell"===t?a:n,"cell"===t?n:r),s,a,c,l)})})}),$e("i18n()",function(t,n,i){var o=this.context[0];return(t=C(t)(o.oLanguage))===r&&(t=n),i!==r&&e.isPlainObject(t)&&(t=t[i]!==r?t[i]:t._),t.replace("%d",i)}),Ve.version="1.10.16",Ve.settings=[],Ve.models={},Ve.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Ve.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},Ve.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Ve.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((-1===e.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(e){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(-1===e.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(e){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:e.extend({},Ve.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},i(Ve.defaults),Ve.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},i(Ve.defaults.column),Ve.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:r,oAjaxData:r,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Le(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Le(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,n=t+e,r=this.aiDisplay.length,i=this.oFeatures,o=i.bPaginate;return i.bServerSide?!1===o||-1===e?t+r:Math.min(t+e,this._iRecordsDisplay):!o||n>r||-1===e?r:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},Ve.ext=qe={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Ve.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Ve.version},e.extend(qe,{afnFiltering:qe.search,aTypes:qe.type.detect,ofnSearch:qe.type.search,oSort:qe.type.order,afnSortData:qe.order,aoFeatures:qe.feature,oApi:qe.internal,oStdClasses:qe.classes,oPagination:qe.pager}),e.extend(Ve.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Tt=Ve.ext.pager;e.extend(Tt,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(e,t){return[Fe(e,t)]},simple_numbers:function(e,t){return["previous",Fe(e,t),"next"]},full_numbers:function(e,t){return["first","previous",Fe(e,t),"next","last"]},first_last_numbers:function(e,t){return["first",Fe(e,t),"last"]},_numbers:Fe,numbers_length:7}),e.extend(!0,Ve.ext.renderer,{pageButton:{_:function(t,i,o,s,a,c){var l,u,f,h=t.oClasses,d=t.oLanguage.oPaginate,p=t.oLanguage.oAria.paginate||{},m=0,g=function(n,r){var i,s,f,v,b=function(e){le(t,e.data.action,!0)};for(i=0,s=r.length;i<s;i++)if(v=r[i],e.isArray(v))f=e("<"+(v.DT_el||"div")+"/>").appendTo(n),g(f,v);else{switch(l=null,u="",v){case"ellipsis":n.append('<span class="ellipsis">&#x2026;</span>');break;case"first":l=d.sFirst,u=v+(a>0?"":" "+h.sPageButtonDisabled);break;case"previous":l=d.sPrevious,u=v+(a>0?"":" "+h.sPageButtonDisabled);break;case"next":l=d.sNext,u=v+(a<c-1?"":" "+h.sPageButtonDisabled);break;case"last":l=d.sLast,u=v+(a<c-1?"":" "+h.sPageButtonDisabled);break;default:l=v+1,u=a===v?h.sPageButtonActive:""}null!==l&&(Pe(f=e("<a>",{class:h.sPageButton+" "+u,"aria-controls":t.sTableId,"aria-label":p[v],"data-dt-idx":m,tabindex:t.iTabIndex,id:0===o&&"string"==typeof v?t.sTableId+"_"+v:null}).html(l).appendTo(n),{action:v},b),m++)}};try{f=e(i).find(n.activeElement).data("dt-idx")}catch(e){}g(e(i).empty(),s),f!==r&&e(i).find("[data-dt-idx="+f+"]").focus()}}}),e.extend(Ve.ext.type.detect,[function(e,t){var n=t.oLanguage.sDecimal;return nt(e,n)?"num"+n:null},function(e){if(e&&!(e instanceof Date)&&!Xe.test(e))return null;var t=Date.parse(e);return null!==t&&!isNaN(t)||Qe(e)?"date":null},function(e,t){var n=t.oLanguage.sDecimal;return nt(e,n,!0)?"num-fmt"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return rt(e,n)?"html-num"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return rt(e,n,!0)?"html-num-fmt"+n:null},function(e){return Qe(e)||"string"==typeof e&&-1!==e.indexOf("<")?"html":null}]),e.extend(Ve.ext.type.search,{html:function(e){return Qe(e)?e:"string"==typeof e?e.replace(Ge," ").replace(Ye,""):""},string:function(e){return Qe(e)?e:"string"==typeof e?e.replace(Ge," "):e}});var It=function(e,t,n,r){return 0===e||e&&"-"!==e?(t&&(e=tt(e,t)),e.replace&&(n&&(e=e.replace(n,"")),r&&(e=e.replace(r,""))),1*e):-1/0};e.extend(qe.type.order,{"date-pre":function(e){return Date.parse(e)||-1/0},"html-pre":function(e){return Qe(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return Qe(e)?"":"string"==typeof e?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0}}),He(""),e.extend(!0,Ve.ext.renderer,{header:{_:function(t,n,r,i){e(t.nTable).on("order.dt.DT",function(e,o,s,a){t===o&&(e=r.idx,n.removeClass(r.sSortingClass+" "+i.sSortAsc+" "+i.sSortDesc).addClass("asc"==a[e]?i.sSortAsc:"desc"==a[e]?i.sSortDesc:r.sSortingClass))})},jqueryui:function(t,n,r,i){e("<div/>").addClass(i.sSortJUIWrapper).append(n.contents()).append(e("<span/>").addClass(i.sSortIcon+" "+r.sSortingClassJUI)).appendTo(n),e(t.nTable).on("order.dt.DT",function(e,o,s,a){t===o&&(e=r.idx,n.removeClass(i.sSortAsc+" "+i.sSortDesc).addClass("asc"==a[e]?i.sSortAsc:"desc"==a[e]?i.sSortDesc:r.sSortingClass),n.find("span."+i.sSortIcon).removeClass(i.sSortJUIAsc+" "+i.sSortJUIDesc+" "+i.sSortJUI+" "+i.sSortJUIAscAllowed+" "+i.sSortJUIDescAllowed).addClass("asc"==a[e]?i.sSortJUIAsc:"desc"==a[e]?i.sSortJUIDesc:r.sSortingClassJUI))})}}});var Dt=function(e){return"string"==typeof e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e};return Ve.render={number:function(e,t,n,r,i){return{display:function(o){if("number"!=typeof o&&"string"!=typeof o)return o;var s=0>o?"-":"",a=parseFloat(o);return isNaN(a)?Dt(o):(a=a.toFixed(n),o=Math.abs(a),a=parseInt(o,10),o=n?t+(o-a).toFixed(n).substring(2):"",s+(r||"")+a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+o+(i||""))}}},text:function(){return{display:Dt}}},e.extend(Ve.ext.internal,{_fnExternApiFunc:ze,_fnBuildAjax:z,_fnAjaxUpdate:q,_fnAjaxParameters:U,_fnAjaxUpdateDraw:$,_fnAjaxDataSrc:W,_fnAddColumn:f,_fnColumnOptions:h,_fnAdjustColumnSizing:d,_fnVisibleToColumnIndex:p,_fnColumnIndexToVisible:m,_fnVisbleColumns:g,_fnGetColumns:v,_fnColumnTypes:b,_fnApplyColumnDefs:y,_fnHungarianMap:i,_fnCamelToHungarian:o,_fnLanguageCompat:s,_fnBrowserDetect:l,_fnAddData:_,_fnAddTr:w,_fnNodeToDataIndex:function(e,t){return t._DT_RowIndex!==r?t._DT_RowIndex:null},_fnNodeToColumnIndex:function(t,n,r){return e.inArray(r,t.aoData[n].anCells)},_fnGetCellData:k,_fnSetCellData:x,_fnSplitObjNotation:S,_fnGetObjectDataFn:C,_fnSetObjectDataFn:A,_fnGetDataMaster:E,_fnClearTable:T,_fnDeleteIndex:I,_fnInvalidate:D,_fnGetRowElements:M,_fnCreateTr:O,_fnBuildHead:j,_fnDrawHead:N,_fnDraw:B,_fnReDraw:R,_fnAddOptionsHtml:L,_fnDetectHeader:F,_fnGetUniqueThs:H,_fnFeatureHtmlFilter:V,_fnFilterComplete:K,_fnFilterCustom:G,_fnFilterColumn:Y,_fnFilter:X,_fnFilterCreateSearch:J,_fnEscapeRegex:ht,_fnFilterData:Z,_fnFeatureHtmlInfo:te,_fnUpdateInfo:ne,_fnInfoMacros:re,_fnInitialise:ie,_fnInitComplete:oe,_fnLengthChange:se,_fnFeatureHtmlLength:ae,_fnFeatureHtmlPaginate:ce,_fnPageChange:le,_fnFeatureHtmlProcessing:ue,_fnProcessingDisplay:fe,_fnFeatureHtmlTable:he,_fnScrollDraw:de,_fnApplyToChildren:pe,_fnCalculateColumnWidths:me,_fnThrottle:gt,_fnConvertToWidth:ge,_fnGetWidestNode:ve,_fnGetMaxLenString:be,_fnStringToCss:ye,_fnSortFlatten:_e,_fnSort:we,_fnSortAria:ke,_fnSortListener:xe,_fnSortAttachListener:Se,_fnSortingClasses:Ce,_fnSortData:Ae,_fnSaveState:Ee,_fnLoadState:Te,_fnSettingsFromNode:Ie,_fnLog:De,_fnMap:Me,_fnBindAction:Pe,_fnCallbackReg:je,_fnCallbackFire:Ne,_fnLengthOverflow:Be,_fnRenderer:Re,_fnDataSource:Le,_fnRowAttributes:P,_fnCalculateEnd:function(){}}),e.fn.dataTable=Ve,Ve.$=e,e.fn.dataTableSettings=Ve.settings,e.fn.dataTableExt=Ve.ext,e.fn.DataTable=function(t){return e(this).dataTable(t).api()},e.each(Ve,function(t,n){e.fn.DataTable[t]=n}),e.fn.dataTable}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Clipboard=e()}}(function(){return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return i(n||e)},u,u.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){var r=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}t.exports=function(e,t){for(;e&&e.nodeType!==r;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},{}],2:[function(e,t,n){var r=e("./closest");t.exports=function(e,t,n,i,o){var s=function(e,t,n,i){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&i.call(e,n)}}.apply(this,arguments);return e.addEventListener(n,s,o),{destroy:function(){e.removeEventListener(n,s,o)}}}},{"./closest":1}],3:[function(e,t,n){n.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||n.node(e[0]))},n.string=function(e){return"string"==typeof e||e instanceof String},n.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},{}],4:[function(e,t,n){var r=e("./is"),i=e("delegate");t.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(r.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}(e,t,n);if(r.string(e))return function(e,t,n){return i(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},{"./is":3,delegate:2}],5:[function(e,t,n){t.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(e),r.removeAllRanges(),r.addRange(i),t=r.toString()}return t}},{}],6:[function(e,t,n){function r(){}r.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,s=r.length;o<s;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},t.exports=r},{}],7:[function(e,t,n){!function(r,i){if(void 0!==n)i(t,e("select"));else{var o={exports:{}};i(o,r.select),r.clipboardAction=o.exports}}(this,function(e,t){"use strict";var n,r=(n=t)&&n.__esModule?n:{default:n};var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return o(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,r.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,r.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=s})},{select:5}],8:[function(e,t,n){!function(r,i){if(void 0!==n)i(t,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var o={exports:{}};i(o,r.clipboardAction,r.tinyEmitter,r.goodListener),r.clipboard=o.exports}}(this,function(e,t,n,r){"use strict";var i=a(t),o=a(n),s=a(r);function a(e){return e&&e.__esModule?e:{default:e}}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.resolveOptions(n),r.listenClick(e),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),l(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===c(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,s.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new i.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return f("action",e)}},{key:"defaultTarget",value:function(e){var t=f("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return f("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),t}();function f(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}e.exports=u})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)}),("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)})(["jquery"],function(e){return function(){function t(t,n){return t||(t=s()),(c=e("#"+t.containerId)).length?c:(n&&(c=function(t){return(c=e("<div/>").attr("id",t.containerId).addClass(t.positionClass)).appendTo(e(t.target)),c}(t)),c)}function n(t){for(var n=c.children(),i=n.length-1;i>=0;i--)r(e(n[i]),t)}function r(t,n,r){var i=!(!r||!r.force)&&r.force;return!(!t||!i&&0!==e(":focus",t).length||(t[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){a(t)}}),0))}function i(e){l&&l(e)}function o(n){function r(e){return null==e&&(e=""),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function o(t){var n=t&&!1!==p.closeMethod?p.closeMethod:p.hideMethod,r=t&&!1!==p.closeDuration?p.closeDuration:p.hideDuration,o=t&&!1!==p.closeEasing?p.closeEasing:p.hideEasing;if(!e(":focus",v).length||t)return clearTimeout(k.intervalId),v[n]({duration:r,easing:o,complete:function(){a(v),clearTimeout(g),p.onHidden&&"hidden"!==x.state&&p.onHidden(),x.state="hidden",x.endTime=new Date,i(x)}})}function l(){(p.timeOut>0||p.extendedTimeOut>0)&&(g=setTimeout(o,p.extendedTimeOut),k.maxHideTime=parseFloat(p.extendedTimeOut),k.hideEta=(new Date).getTime()+k.maxHideTime)}function h(){clearTimeout(g),k.hideEta=0,v.stop(!0,!0)[p.showMethod]({duration:p.showDuration,easing:p.showEasing})}function d(){var e=(k.hideEta-(new Date).getTime())/k.maxHideTime*100;_.width(e+"%")}var p=s(),m=n.iconClass||p.iconClass;if(void 0!==n.optionsOverride&&(p=e.extend(p,n.optionsOverride),m=n.optionsOverride.iconClass||m),!function(e,t){if(e.preventDuplicates){if(t.message===u)return!0;u=t.message}return!1}(p,n)){f++,c=t(p,!0);var g=null,v=e("<div/>"),b=e("<div/>"),y=e("<div/>"),_=e("<div/>"),w=e(p.closeHtml),k={intervalId:null,hideEta:null,maxHideTime:null},x={toastId:f,state:"visible",startTime:new Date,options:p,map:n};return n.iconClass&&v.addClass(p.toastClass).addClass(m),function(){if(n.title){var e=n.title;p.escapeHtml&&(e=r(n.title)),b.append(e).addClass(p.titleClass),v.append(b)}}(),function(){if(n.message){var e=n.message;p.escapeHtml&&(e=r(n.message)),y.append(e).addClass(p.messageClass),v.append(y)}}(),p.closeButton&&(w.addClass(p.closeClass).attr("role","button"),v.prepend(w)),p.progressBar&&(_.addClass(p.progressClass),v.prepend(_)),p.rtl&&v.addClass("rtl"),p.newestOnTop?c.prepend(v):c.append(v),function(){var e="";switch(n.iconClass){case"toast-success":case"toast-info":e="polite";break;default:e="assertive"}v.attr("aria-live",e)}(),v.hide(),v[p.showMethod]({duration:p.showDuration,easing:p.showEasing,complete:p.onShown}),p.timeOut>0&&(g=setTimeout(o,p.timeOut),k.maxHideTime=parseFloat(p.timeOut),k.hideEta=(new Date).getTime()+k.maxHideTime,p.progressBar&&(k.intervalId=setInterval(d,10))),p.closeOnHover&&v.hover(h,l),!p.onclick&&p.tapToDismiss&&v.click(o),p.closeButton&&w&&w.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&!0!==e.cancelBubble&&(e.cancelBubble=!0),p.onCloseClick&&p.onCloseClick(e),o(!0)}),p.onclick&&v.click(function(e){p.onclick(e),o()}),i(x),p.debug&&console&&console.log(x),v}}function s(){return e.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1},d.options)}function a(e){c||(c=t()),e.is(":visible")||(e.remove(),e=null,0===c.children().length&&(c.remove(),u=void 0))}var c,l,u,f=0,h={error:"error",info:"info",success:"success",warning:"warning"},d={clear:function(e,i){var o=s();c||t(o),r(e,o,i)||n(o)},remove:function(n){var r=s();return c||t(r),n&&0===e(":focus",n).length?void a(n):void(c.children().length&&c.remove())},error:function(e,t,n){return o({type:h.error,iconClass:s().iconClasses.error,message:e,optionsOverride:n,title:t})},getContainer:t,info:function(e,t,n){return o({type:h.info,iconClass:s().iconClasses.info,message:e,optionsOverride:n,title:t})},options:{},subscribe:function(e){l=e},success:function(e,t,n){return o({type:h.success,iconClass:s().iconClasses.success,message:e,optionsOverride:n,title:t})},version:"2.1.4",warning:function(e,t,n){return o({type:h.warning,iconClass:s().iconClasses.warning,message:e,optionsOverride:n,title:t})}};return d}()}),function(e){var t={width:400,height:"65%",minimizedWidth:200,gutter:10,poppedOutDistance:"6%",title:function(){return""},dialogClass:"",buttons:[],animationSpeed:400,opacity:1,initialState:"modal",showClose:!0,showPopout:!0,showMinimize:!0,create:void 0,open:void 0,beforeClose:void 0,close:void 0,beforeMinimize:void 0,minimize:void 0,beforeRestore:void 0,restore:void 0,beforePopout:void 0,popout:void 0},n="dockmodal";e(window).width();function r(e,t){var n=e.options.animationSpeed/1e3;return t.css({transition:n+"s right, "+n+"s left, "+n+"s top, "+n+"s bottom, "+n+"s height, "+n+"s width"}),!0}var i={init:function(o){return this.each(function(){var s=e(this),a=s.data("dockmodal");if(s.options=e.extend({},t,o),"function"==typeof s.options.title&&(s.options.title=s.options.title.call(s)),a)return e("body").append(s.closest("."+n).show()),i.refreshLayout(),void setTimeout(function(){i.restore.apply(s)},s.options.animationSpeed);s.data("dockmodal",s);var c=e("body"),l=e(window),u=e("<div/>").addClass(n).addClass(s.options.dialogClass);"modal"==s.options.initialState?u.addClass("popped-out"):"minimized"==s.options.initialState&&u.addClass("minimized"),u.height(0),r(s,u);var f=e("<div></div>").addClass(n+"-header");s.options.showClose&&e('<a href="#" class="header-action action-close" title="Close"><i class="icon-dockmodal-close"></i></a>').appendTo(f).click(function(e){return i.destroy.apply(s),!1}),s.options.showPopout&&e('<a href="#" class="header-action action-popout" title="Pop out"><i class="icon-dockmodal-popout"></i></a>').appendTo(f).click(function(e){return u.hasClass("popped-out")?i.restore.apply(s):i.popout.apply(s),!1}),s.options.showMinimize&&e('<a href="#" class="header-action action-minimize" title="Minimize"><i class="icon-dockmodal-minimize"></i></a>').appendTo(f).click(function(e){return u.hasClass("minimized")?u.hasClass("popped-out")?i.popout.apply(s):i.restore.apply(s):i.minimize.apply(s),!1}),s.options.showMinimize&&s.options.showPopout&&f.click(function(){return u.hasClass("minimized")?u.hasClass("popped-out")?i.popout.apply(s):i.restore.apply(s):i.minimize.apply(s),!1}),f.append('<div class="title-text">'+(s.options.title||s.attr("title"))+"</div>"),u.append(f);var h=e('<div class="modal-placeholder"></div>').insertAfter(s);s.placeholder=h;var d=e("<div></div>").addClass(n+"-body").append(s);if(u.append(d),s.options.buttons.length){var p=e("<div></div>").addClass(n+"-footer"),m=e("<div></div>").addClass(n+"-footer-buttonset");p.append(m),e.each(s.options.buttons,function(t,n){var r=e('<a href="#" class="btn"></a>');r.attr({id:n.id,class:n.buttonClass}),r.html(n.html),r.click(function(e){return n.click(e,s),!1}),m.append(r)}),u.append(p)}else u.addClass("no-footer");var g=e(".dockmodal-overlay");g.length||(g=e("<div/>").addClass(n+"-overlay")),e.isFunction(s.options.create)&&s.options.create(s),c.append(u),u.after(g),d.focus(),e.isFunction(s.options.open)&&setTimeout(function(){s.options.open(s)},s.options.animationSpeed),u.hasClass("minimized")?(u.find(".dockmodal-body, .dockmodal-footer").hide(),i.minimize.apply(s)):u.hasClass("popped-out")?i.popout.apply(s):i.restore.apply(s),c.data("windowWidth",l.width()),l.unbind("resize.dockmodal").bind("resize.dockmodal",function(){l.width()!=c.data("windowWidth")&&(c.data("windowWidth",l.width()),i.refreshLayout())})})},destroy:function(){return this.each(function(){var t=e(this).data("dockmodal");if(t&&(!e.isFunction(t.options.beforeClose)||!1!==t.options.beforeClose(t)))try{var r=t.closest("."+n);r.hasClass("popped-out")&&!r.hasClass("minimized")?r.css({left:"50%",right:"50%",top:"50%",bottom:"50%"}):r.css({width:"0",height:"0"}),setTimeout(function(){t.removeData("dockmodal"),t.placeholder.replaceWith(t),r.remove(),e(".dockmodal-overlay").hide(),i.refreshLayout(),e.isFunction(t.options.close)&&t.options.close(t)},t.options.animationSpeed)}catch(e){alert(e.message)}})},close:function(){i.destroy.apply(this)},minimize:function(){return this.each(function(){var t=e(this).data("dockmodal");if(t&&(!e.isFunction(t.options.beforeMinimize)||!1!==t.options.beforeMinimize(t))){var r=t.closest("."+n),o=r.find(".dockmodal-header").outerHeight();r.addClass("minimized").css({width:t.options.minimizedWidth+"px",height:o+"px",left:"auto",right:"auto",top:"auto",bottom:"0"}),setTimeout(function(){r.find(".dockmodal-body, .dockmodal-footer").hide(),e.isFunction(t.options.minimize)&&t.options.minimize(t)},t.options.animationSpeed),e(".dockmodal-overlay").hide(),r.find(".action-minimize").attr("title","Restore"),i.refreshLayout()}})},restore:function(){return this.each(function(){var t=e(this).data("dockmodal");if(t&&(!e.isFunction(t.options.beforeRestore)||!1!==t.options.beforeRestore(t))){var r=t.closest("."+n);r.removeClass("minimized popped-out"),r.find(".dockmodal-body, .dockmodal-footer").show(),r.css({width:t.options.width+"px",height:t.options.height,left:"auto",right:"auto",top:"auto",bottom:"0"}),e(".dockmodal-overlay").hide(),r.find(".action-minimize").attr("title","Minimize"),r.find(".action-popout").attr("title","Pop-out"),setTimeout(function(){e.isFunction(t.options.restore)&&t.options.restore(t)},t.options.animationSpeed),i.refreshLayout()}})},popout:function(){return this.each(function(){var t=e(this).data("dockmodal");if(t&&(!e.isFunction(t.options.beforePopout)||!1!==t.options.beforePopout(t))){var o=t.closest("."+n);o.find(".dockmodal-body, .dockmodal-footer").show(),o.css({transition:"none"});var s=o.position(),a=e(window).width();o.css({width:"auto",height:"auto",left:s.left+"px",right:a-s.left-o.outerWidth(!0)+"px",top:s.top+"px",bottom:0}),r(t,o),setTimeout(function(){o.removeClass("minimized").addClass("popped-out").css({width:"auto",height:"auto",left:t.options.poppedOutDistance,right:t.options.poppedOutDistance,top:t.options.poppedOutDistance,bottom:t.options.poppedOutDistance}),e(".dockmodal-overlay").show(),o.find(".action-popout").attr("title","Pop-in"),i.refreshLayout()},10),setTimeout(function(){e.isFunction(t.options.popout)&&t.options.popout(t)},t.options.animationSpeed)}})},refreshLayout:function(){var t=0,r=e(window).width();e.each(e("."+n).toArray().reverse(),function(n,i){var o=e(this),s=o.find(".dockmodal-body > div").data("dockmodal");o.hasClass("popped-out")&&!o.hasClass("minimized")||(t+=s.options.gutter,o.css({right:t+"px"}),o.hasClass("minimized")?t+=s.options.minimizedWidth:t+=s.options.width,t>r?o.hide():setTimeout(function(){o.show()},s.options.animationSpeed))})}};e.fn.dockmodal=function(t){return i[t]?i[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.dockmodal"):i.init.apply(this,arguments)}}(jQuery),function(e,t,n,r){e.fn.adminpanel=function(n){var r={grid:".admin-grid",draggable:!1,mobile:!1,preserveGrid:!1,onPanel:function(){console.log("callback:","onPanel")},onStart:function(){console.log("callback:","onStart")},onSave:function(){console.log("callback:","onSave")},onDrop:function(){console.log("callback:","onDrop")},onFinish:function(){console.log("callback:","onFinish")}},i=(n=e.extend({},r,n),e(this)),o=(i.attr("id"),n.grid),s=n.draggable,a=n.mobile,c=n.preserveGrid,l=i.find(".panel"),u="panel-settings_"+location.pathname,f="panel-positions_"+location.pathname,h=localStorage.getItem(u),d=localStorage.getItem(f);e(".panel").on("click",".panel-controls > a",function(t){t.preventDefault(),e("body.ui-drag-active").length||p.controlHandlers.call(this,n)});var p={init:function(t){e(this);if("function"==typeof t.onStart&&t.onStart(),d?p.setPositions():localStorage.setItem(f,p.findPositions()),h||localStorage.setItem(u,p.modifySettings()),e(o).each(function(t,n){e(n).attr("id","grid-"+t)}),c){e(o).each(function(t,n){e(n).append("<div class='panel preserve-grid'></div>")})}p.createControls(t),p.applySettings(),p.createMobileControls(t),!0===s&&i.sortable({items:i.find('.panel:not(".sort-disable")'),connectWith:o,cursor:"default",revert:250,handle:".panel-heading",opacity:1,delay:100,tolerance:"pointer",scroll:!0,placeholder:"panel-placeholder",forcePlaceholderSize:!0,forceHelperSize:!0,start:function(t,n){e("body").addClass("ui-drag-active"),n.placeholder.height(n.helper.outerHeight()-4)},beforeStop:function(){"function"==typeof t.onDrop&&t.onDrop()},stop:function(){e("body").removeClass("ui-drag-active")},update:function(e,n){p.toggleLoader(),p.updatePositions(t)}}),"function"==typeof t.onFinish&&t.onFinish()},createMobileControls:function(t){var n=l.find(".panel-controls"),r={};e.each(n,function(t,n){var i=e(n),o=e(n).parents(".panel").attr("id"),s=i.width(),a=i.siblings(".panel-title").width(),c=(i.parent(".panel-heading").width(),s+a);r[o]=c}),console.log(r),e.each(r,function(t,n){var r=e("#"+t),i=r.width()-75,o=r.find(".panel-controls");if(!0===a||i<n){r.addClass("mobile-controls");var s={html:!0,placement:"left",content:function(t){return e(this).clone()},template:'<div data-popover-id="'+t+'" class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'};o.popover(s)}else o.removeClass("mobile-controls")}),e(".mobile-controls .panel-heading > .panel-controls").on("click",function(){e(this).toggleClass("panel-controls-open")})},applySettings:function(t){var n=localStorage.getItem(u),r=JSON.parse(n);e.each(r,function(t,n){e.each(n,function(t,n){var r=n.id,i=n.title,o=n.collapsed,s=n.hidden,a=n.color,c=e("#"+r);i&&c.children(".panel-heading").find(".panel-title").text(i),1===o&&c.addClass("panel-collapsed").children(".panel-body, .panel-menu, .panel-footer").hide(),a&&c.removeClass("panel-primary panel-success panel-info panel-warning panel-danger panel-alert panel-system panel-dark panel-default").addClass(a).attr("data-panel-color",a),1===s&&c.addClass("panel-hidden").hide().remove()})})},createControls:function(t){l.each(function(t,n){var r=e(n),i=r.children(".panel-heading");e('<span class="panel-controls"></span>').appendTo(i);var o=r.attr("data-panel-title"),s=r.attr("data-panel-color"),a=r.attr("data-panel-collapse"),c=r.attr("data-panel-fullscreen"),l=r.attr("data-panel-remove"),u=r.attr("data-panel-callback"),f=r.attr("data-panel-dockable"),h=r.attr("data-panel-expose");if(!r.attr("data-panel-loader")){var d=i.find(".panel-controls");e('<a href="#" class="panel-control-loader"></a>').appendTo(d)}if(h){d=i.find(".panel-controls");e('<a href="#" class="panel-control-expose"></a>').appendTo(d)}if(f){d=i.find(".panel-controls");e('<a href="#" class="panel-control-dockable" data-toggle="popover" data-content="panelDockContent();"></a>').appendTo(d)}if(u){d=i.find(".panel-controls");e('<a href="#" class="panel-control-callback"></a>').appendTo(d)}if(!l){d=i.find(".panel-controls");e('<a href="#" class="panel-control-remove"></a>').appendTo(d)}if(!o){d=i.find(".panel-controls");e('<a href="#" class="panel-control-title"></a>').appendTo(d)}if(!s){d=i.find(".panel-controls");e('<a href="#" class="panel-control-color"></a>').appendTo(d)}if(!a){d=i.find(".panel-controls");e('<a href="#" class="panel-control-collapse"></a>').appendTo(d)}if(!c){d=i.find(".panel-controls");e('<a href="#" class="panel-control-fullscreen"></a>').appendTo(d)}})},controlHandlers:function(r){var o=e(this),a=(o.attr("class"),o.parents(".panel")),c=a.children(".panel-heading"),l=a.find(".panel-title");e(this).hasClass("panel-control-collapse")&&(a.toggleClass("panel-collapsed"),a.children(".panel-body, .panel-menu, .panel-footer").slideToggle("fast",function(){p.updateSettings(n)})),e(this).hasClass("panel-control-title")&&function(){var e=function(){var e=a.find(".panel-editbox");e.slideToggle("fast",function(){a.toggleClass("panel-editbox-open"),a.hasClass("panel-editbox-open")||(l.text(e.children("input").val()),p.updateSettings(n))})};if(a.find(".panel-editbox").length)e();else{var t='<div class="panel-editbox"><input type="text" class="form-control" value="'+l.text()+'"></div>';c.after(t);var r=a.find(".panel-editbox");r.children("input").on("keyup",function(){l.text(r.children("input").val())}),r.children("input").on("keypress",function(t){13==t.which&&e()}),e()}}(),e(this).hasClass("panel-control-color")&&function(){a.find(".panel-colorbox").length||c.after('<div class="panel-colorbox"> <span class="bg-white" data-panel-color="panel-default"></span> <span class="bg-primary" data-panel-color="panel-primary"></span> <span class="bg-info" data-panel-color="panel-info"></span> <span class="bg-success" data-panel-color="panel-success"></span> <span class="bg-warning" data-panel-color="panel-warning"></span> <span class="bg-danger" data-panel-color="panel-danger"></span> <span class="bg-alert" data-panel-color="panel-alert"></span> <span class="bg-system" data-panel-color="panel-system"></span> <span class="bg-dark" data-panel-color="panel-dark"></span> </div>');var t=a.find(".panel-colorbox");t.on("click","> span",function(t){var r=e(this).data("panel-color");a.removeClass("panel-primary panel-info panel-success panel-warning panel-danger panel-alert panel-system panel-dark panel-default panel-white").addClass(r).data("panel-color",r),p.updateSettings(n)}),t.slideToggle("fast",function(){a.toggleClass("panel-colorbox-open")})}(),e(this).hasClass("panel-control-fullscreen")&&(e("body.panel-fullscreen-active").length?(e("body").removeClass("panel-fullscreen-active"),a.removeClass("panel-fullscreen"),!0===s&&i.sortable("enable")):(e("body").addClass("panel-fullscreen-active"),a.addClass("panel-fullscreen"),!0===s&&i.sortable("disable")),e(".panel-controls").removeClass("panel-controls-open"),e(".popover").popover("hide"),setTimeout(function(){e(t).trigger("resize")},100)),e(this).hasClass("panel-control-remove")&&(bootbox.confirm?bootbox.confirm("Are You Sure?!",function(e){e&&setTimeout(function(){a.addClass("panel-removed").hide(),p.updateSettings(n)},200)}):(a.addClass("panel-removed").hide(),p.updateSettings(n))),e(this).hasClass("panel-control-callback")&&"function"==typeof n.onPanel&&n.onPanel(),e(this).hasClass("panel-control-expose"),e(this).hasClass("panel-control-dockable")||e(this).hasClass("panel-control-loader")||p.toggleLoader.call(this)},toggleLoader:function(t){var n=e(this).parents(".panel");n.addClass("panel-loader-active"),setTimeout(function(){n.removeClass("panel-loader-active")},650)},modifySettings:function(t){var n=[];return l.each(function(t,r){var i=e(r),o={},s=(i.attr("id"),i.children(".panel-heading").find(".panel-title").text(),i.hasClass("panel-collapsed"),i.is(":hidden"),i.data("panel-color"));o.id=i.attr("id"),o.title=i.children(".panel-heading").find(".panel-title").text(),o.collapsed=i.hasClass("panel-collapsed")?1:0,o.hidden=i.is(":hidden")?1:0,o.color=s||null,n.push({panel:o})}),JSON.stringify(n)},findPositions:function(t){var n=[];return i.find(o).each(function(t,r){var i=e(r).find(".panel"),o=[];e(r).attr("id","grid-"+t),i.each(function(t,n){var r=e(n).attr("id");o.push(r)}),n[t]=o}),JSON.stringify(n)},setPositions:function(t){var n=localStorage.getItem(f),r=JSON.parse(n);e(o).each(function(t,n){var i=e(n);e.each(r[t],function(t,n){e("#"+n).appendTo(i)})})},updatePositions:function(e){localStorage.setItem(f,p.findPositions()),"function"==typeof e.onSave&&e.onSave()},updateSettings:function(e){localStorage.setItem(u,p.modifySettings()),"function"==typeof e.onSave&&e.onSave()}};return this.each(function(){p.init.call(i,n)})}}(jQuery,window,document),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.bootbox=t(e.jQuery)}(this,function e(t,n){"use strict";var r={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},i={locale:"en",backdrop:!0,animate:!0,className:null,keyboard:!1,closeButton:!0,show:!0,container:"body"},o={};function s(e){var t=d[i.locale];return t?t[e]:d.en[e]}function a(e,n,r){e.stopPropagation(),e.preventDefault(),t.isFunction(r)&&!1===r(e)||n.modal("hide")}function c(e,n){var r=0;t.each(e,function(e,t){n(e,t,r++)})}function l(e,n,r){return t.extend(!0,{},e,function(e,t){var n=e.length,r={};if(n<1||n>2)throw new Error("Invalid argument length");return 2===n||"string"==typeof e[0]?(r[t[0]]=e[0],r[t[1]]=e[1]):r=e[0],r}(n,r))}function u(e,t,n,r){return h(l({className:"bootbox-"+e,buttons:f.apply(null,t)},r,n),t)}function f(){for(var e={},t=0,n=arguments.length;t<n;t++){var r=arguments[t],i=r.toLowerCase(),o=r.toUpperCase();e[i]={label:s(o)}}return e}function h(e,t){var r={};return c(t,function(e,t){r[t]=!0}),c(e.buttons,function(e){if(r[e]===n)throw new Error("button key "+e+" is not allowed (options are "+t.join("\n")+")")}),e}o.defineLocale=function(e,t){return t?(d[e]={OK:t.OK,CANCEL:t.CANCEL,CONFIRM:t.CONFIRM},d[e]):(delete d[e],null)},o.alert=function(){var e;if((e=u("alert",["ok"],["message","callback"],arguments)).callback&&!t.isFunction(e.callback))throw new Error("alert requires callback property to be a function when provided");return e.buttons.ok.callback=e.onEscape=function(){return!t.isFunction(e.callback)||e.callback()},o.dialog(e)},o.confirm=function(){var e;if((e=u("confirm",["cancel","confirm"],["message","callback"],arguments)).buttons.cancel.callback=e.onEscape=function(){return e.callback(!1)},e.buttons.confirm.callback=function(){return e.callback(!0)},!t.isFunction(e.callback))throw new Error("confirm requires a callback");return o.dialog(e)},o.prompt=function(){var e,i,s,a,u,d,p;if(a=t(r.form),i={className:"bootbox-prompt",buttons:f("cancel","confirm"),value:"",inputType:"text"},d=(e=h(l(i,arguments,["title","callback"]),["cancel","confirm"])).show===n||e.show,e.message=a,e.buttons.cancel.callback=e.onEscape=function(){return e.callback(null)},e.buttons.confirm.callback=function(){var n;switch(e.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":n=u.val();break;case"checkbox":var r=u.find("input:checked");n=[],c(r,function(e,r){n.push(t(r).val())})}return e.callback(n)},e.show=!1,!e.title)throw new Error("prompt requires a title");if(!t.isFunction(e.callback))throw new Error("prompt requires a callback");if(!r.inputs[e.inputType])throw new Error("invalid prompt type");switch(u=t(r.inputs[e.inputType]),e.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":u.val(e.value);break;case"select":var m={};if(!(p=e.inputOptions||[]).length)throw new Error("prompt with select requires options");c(p,function(e,r){var i=u;if(r.value===n||r.text===n)throw new Error("given options in wrong format");r.group&&(m[r.group]||(m[r.group]=t("<optgroup/>").attr("label",r.group)),i=m[r.group]),i.append("<option value='"+r.value+"'>"+r.text+"</option>")}),c(m,function(e,t){u.append(t)}),u.val(e.value);break;case"checkbox":var g=t.isArray(e.value)?e.value:[e.value];if(!(p=e.inputOptions||[]).length)throw new Error("prompt with checkbox requires options");if(!p[0].value||!p[0].text)throw new Error("given options in wrong format");u=t("<div/>"),c(p,function(n,i){var o=t(r.inputs[e.inputType]);o.find("input").attr("value",i.value),o.find("label").append(i.text),c(g,function(e,t){t===i.value&&o.find("input").prop("checked",!0)}),u.append(o)})}return e.placeholder&&u.attr("placeholder",e.placeholder),e.pattern&&u.attr("pattern",e.pattern),a.append(u),a.on("submit",function(e){e.preventDefault(),e.stopPropagation(),s.find(".btn-primary").click()}),(s=o.dialog(e)).off("shown.bs.modal"),s.on("shown.bs.modal",function(){u.focus()}),!0===d&&s.modal("show"),s},o.dialog=function(e){e=function(e){var n,r;if("object"!=typeof e)throw new Error("Please supply an object of options");if(!e.message)throw new Error("Please specify a message");return(e=t.extend({},i,e)).buttons||(e.buttons={}),e.backdrop=!!e.backdrop&&"static",n=e.buttons,r=function(e){var t,n=0;for(t in e)n++;return n}(n),c(n,function(e,i,o){if(t.isFunction(i)&&(i=n[e]={callback:i}),"object"!==t.type(i))throw new Error("button with key "+e+" must be an object");i.label||(i.label=e),i.className||(i.className=r<=2&&o===r-1?"btn-primary":"btn-default")}),e}(e);var o=t(r.dialog),s=o.find(".modal-dialog"),l=o.find(".modal-body"),u=e.buttons,f="",h={onEscape:e.onEscape};if(t.fn.modal===n)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(c(u,function(e,t){f+="<button data-bb-handler='"+e+"' type='button' class='btn "+t.className+"'>"+t.label+"</button>",h[e]=t.callback}),l.find(".bootbox-body").html(e.message),!0===e.animate&&o.addClass("fade"),e.className&&o.addClass(e.className),"large"===e.size&&s.addClass("modal-lg"),"small"===e.size&&s.addClass("modal-sm"),e.title&&l.before(r.header),e.closeButton){var d=t(r.closeButton);e.title?o.find(".modal-header").prepend(d):d.css("margin-top","-10px").prependTo(l)}return e.title&&o.find(".modal-title").html(e.title),f.length&&(l.after(r.footer),o.find(".modal-footer").html(f)),o.on("hidden.bs.modal",function(e){e.target===this&&o.remove()}),o.on("shown.bs.modal",function(){o.find(".btn-primary:first").focus()}),o.on("escape.close.bb",function(e){h.onEscape&&a(e,o,h.onEscape)}),o.on("click",".modal-footer button",function(e){var n=t(this).data("bb-handler");a(e,o,h[n])}),o.on("click",".bootbox-close-button",function(e){a(e,o,h.onEscape)}),o.on("keyup",function(e){27===e.which&&o.trigger("escape.close.bb")}),t(e.container).append(o),o.modal({backdrop:e.backdrop,keyboard:e.keyboard||!1,show:!1}),e.show&&o.modal("show"),o},o.setDefaults=function(){var e={};2===arguments.length?e[arguments[0]]=arguments[1]:e=arguments[0],t.extend(i,e)},o.hideAll=function(){return t(".bootbox").modal("hide"),o};var d={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},hu:{OK:"OK",CANCEL:"Mégsem",CONFIRM:"Megerősít"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"確認"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return o.init=function(n){return e(n||t)},o}),function(e){function t(e){return void 0!==e}function n(t,n,r){var i=function(){};i.prototype=n.prototype,t.prototype=new i,t.prototype.constructor=t,n.prototype.constructor=n,t._super=n.prototype,r&&e.extend(t.prototype,r)}var r=[["",""],["exit","cancel"],["screen","Screen"]],i=["","o","ms","moz","webkit","webkitCurrent"];function o(e,n){var o;"string"==typeof e&&(n=e,e=document);for(var s=0;s<r.length;++s){n=n.replace(r[s][0],r[s][1]);for(var a=0;a<i.length;++a)if(o=i[a],t(e[o+=0===a?n:n.charAt(0).toUpperCase()+n.substr(1)]))return e[o]}}var s=navigator.userAgent,a=o("fullscreenEnabled"),c=!(-1!==s.indexOf("Android")&&-1!==s.indexOf("Chrome"))&&t(o("fullscreenElement"))&&(!t(a)||!0===a),l=e.fn.jquery.split("."),u=parseInt(l[0])<2&&parseInt(l[1])<7,f=function(){this.__options=null,this._fullScreenElement=null,this.__savedStyles={}};f.prototype={_DEFAULT_OPTIONS:{styles:{boxSizing:"border-box",MozBoxSizing:"border-box",WebkitBoxSizing:"border-box"},toggleClass:null},__documentOverflow:"visible",__htmlOverflow:"visible",_preventDocumentScroll:function(){this.__documentOverflow=e("body")[0].style.overflow,this.__htmlOverflow=e("html")[0].style.overflow},_allowDocumentScroll:function(){e("body")[0].style.overflow=this.__documentOverflow,e("html")[0].style.overflow=this.__htmlOverflow},_fullScreenChange:function(){this.__options&&(this.isFullScreen()?(this._preventDocumentScroll(),this._triggerEvents()):(this._allowDocumentScroll(),this._revertStyles(),this._triggerEvents(),this._fullScreenElement=null))},_fullScreenError:function(t){this.__options&&(this._revertStyles(),this._fullScreenElement=null,t&&e(document).trigger("fscreenerror",[t]))},_triggerEvents:function(){e(this._fullScreenElement).trigger(this.isFullScreen()?"fscreenopen":"fscreenclose"),e(document).trigger("fscreenchange",[this.isFullScreen(),this._fullScreenElement])},_saveAndApplyStyles:function(){var t=e(this._fullScreenElement);for(var n in this.__savedStyles={},this.__options.styles)this.__savedStyles[n]=this._fullScreenElement.style[n],this._fullScreenElement.style[n]=this.__options.styles[n];this.__options.toggleClass&&t.addClass(this.__options.toggleClass)},_revertStyles:function(){var t=e(this._fullScreenElement);for(var n in this.__options.styles)this._fullScreenElement.style[n]=this.__savedStyles[n];this.__options.toggleClass&&t.removeClass(this.__options.toggleClass)},open:function(t,n){t!==this._fullScreenElement&&(this.isFullScreen()&&this.exit(),this._fullScreenElement=t,this.__options=e.extend(!0,{},this._DEFAULT_OPTIONS,n),this._saveAndApplyStyles())},exit:null,isFullScreen:null,isNativelySupported:function(){return c}};var h=function(){h._super.constructor.apply(this,arguments),this.exit=e.proxy(o("exitFullscreen"),document),this._DEFAULT_OPTIONS=e.extend(!0,{},this._DEFAULT_OPTIONS,{styles:{width:"100%",height:"100%"}}),e(document).bind(this._prefixedString("fullscreenchange")+" MSFullscreenChange",e.proxy(this._fullScreenChange,this)).bind(this._prefixedString("fullscreenerror")+" MSFullscreenError",e.proxy(this._fullScreenError,this))};n(h,f,{VENDOR_PREFIXES:["","o","moz","webkit"],_prefixedString:function(t){return e.map(this.VENDOR_PREFIXES,function(e){return e+t}).join(" ")},open:function(e,t){h._super.open.apply(this,arguments),o(e,"requestFullscreen").call(e)},exit:e.noop,isFullScreen:function(){return null!==o("fullscreenElement")},element:function(){return o("fullscreenElement")}});var d=function(){d._super.constructor.apply(this,arguments),this._DEFAULT_OPTIONS=e.extend({},this._DEFAULT_OPTIONS,{styles:{position:"fixed",zIndex:"2147483647",left:0,top:0,bottom:0,right:0}}),this.__delegateKeydownHandler()};n(d,f,{__isFullScreen:!1,__delegateKeydownHandler:function(){var t=e(document);t.delegate("*","keydown.fullscreen",e.proxy(this.__keydownHandler,this));var n=u?t.data("events"):e._data(document).events,r=n.keydown;u?n.live.unshift(n.live.pop()):r.splice(0,0,r.splice(r.delegateCount-1,1)[0])},__keydownHandler:function(e){return!this.isFullScreen()||27!==e.which||(this.exit(),!1)},_revertStyles:function(){d._super._revertStyles.apply(this,arguments),this._fullScreenElement.offsetHeight},open:function(e){d._super.open.apply(this,arguments),this.__isFullScreen=!0,this._fullScreenChange()},exit:function(){this.__isFullScreen=!1,this._fullScreenChange()},isFullScreen:function(){return this.__isFullScreen},element:function(){return this.__isFullScreen?this._fullScreenElement:null}}),e.fullscreen=c?new h:new d,e.fn.fullscreen=function(t){var n=this[0];return(t=e.extend({toggleClass:null,overflow:"hidden"},t)).styles={overflow:t.overflow},delete t.overflow,n&&e.fullscreen.open(n,t),this}}(jQuery),function(e){e.fn.hoverIntent=function(t,n,r){var i,o,s,a,c={interval:100,sensitivity:6,timeout:0};c="object"==typeof t?e.extend(c,t):e.isFunction(n)?e.extend(c,{over:t,out:n,selector:r}):e.extend(c,{over:t,out:t,selector:n});var l=function(e){i=e.pageX,o=e.pageY},u=function(t,n){if(n.hoverIntent_t=clearTimeout(n.hoverIntent_t),Math.sqrt((s-i)*(s-i)+(a-o)*(a-o))<c.sensitivity)return e(n).off("mousemove.hoverIntent",l),n.hoverIntent_s=!0,c.over.apply(n,[t]);s=i,a=o,n.hoverIntent_t=setTimeout(function(){u(t,n)},c.interval)},f=function(t){var n=e.extend({},t),r=this;r.hoverIntent_t&&(r.hoverIntent_t=clearTimeout(r.hoverIntent_t)),"mouseenter"===t.type?(s=n.pageX,a=n.pageY,e(r).on("mousemove.hoverIntent",l),r.hoverIntent_s||(r.hoverIntent_t=setTimeout(function(){u(n,r)},c.interval))):(e(r).off("mousemove.hoverIntent",l),r.hoverIntent_s&&(r.hoverIntent_t=setTimeout(function(){!function(e,t){t.hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=!1,c.out.apply(t,[e])}(n,r)},c.timeout)))};return this.on({"mouseenter.hoverIntent":f,"mouseleave.hoverIntent":f},c.selector)}}(jQuery),function(e){function t(t){var n=t||window.event,r=[].slice.call(arguments,1),i=0,o=0,s=0;return(t=e.event.fix(n)).type="mousewheel",n.wheelDelta&&(i=n.wheelDelta/120),n.detail&&(i=-n.detail/3),s=i,void 0!==n.axis&&n.axis===n.HORIZONTAL_AXIS&&(s=0,o=-1*i),void 0!==n.wheelDeltaY&&(s=n.wheelDeltaY/120),void 0!==n.wheelDeltaX&&(o=-1*n.wheelDeltaX/120),r.unshift(t,i,o,s),(e.event.dispatch||e.event.handle).apply(this,r)}var n=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks)for(var r=n.length;r;)e.event.fixHooks[n[--r]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=n.length;e;)this.addEventListener(n[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=n.length;e;)this.removeEventListener(n[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){return e.replace(/(:|\.|\/)/g,"\\$1")}var n={},r=function(t){var n=[],r=t.dir&&"left"===t.dir?"scrollLeft":"scrollTop";return this.each(function(){if(this!==document&&this!==window){var t=e(this);t[r]()>0?n.push(this):(t[r](1),t[r]()>0&&n.push(this),t[r](0))}}),n.length||this.each(function(){"BODY"===this.nodeName&&(n=[this])}),"first"===t.el&&n.length>1&&(n=[n[0]]),n};e.fn.extend({scrollable:function(e){var t=r.call(this,{dir:e});return this.pushStack(t)},firstScrollable:function(e){var t=r.call(this,{el:"first",dir:e});return this.pushStack(t)},smoothScroll:function(n,r){if("options"===(n=n||{}))return r?this.each(function(){var t=e(this),n=e.extend(t.data("ssOpts")||{},r);e(this).data("ssOpts",n)}):this.first().data("ssOpts");var i=e.extend({},e.fn.smoothScroll.defaults,n),o=e.smoothScroll.filterPath(location.pathname);return this.unbind("click.smoothscroll").bind("click.smoothscroll",function(n){var r=this,s=e(this),a=e.extend({},i,s.data("ssOpts")||{}),c=i.exclude,l=a.excludeWithin,u=0,f=0,h=!0,d={},p=location.hostname===r.hostname||!r.hostname,m=a.scrollTarget||e.smoothScroll.filterPath(r.pathname)===o,g=t(r.hash);if(a.scrollTarget||p&&m&&g){for(;h&&c.length>u;)s.is(t(c[u++]))&&(h=!1);for(;h&&l.length>f;)s.closest(l[f++]).length&&(h=!1)}else h=!1;h&&(a.preventDefault&&n.preventDefault(),e.extend(d,a,{scrollTarget:a.scrollTarget||g,link:r}),e.smoothScroll(d))}),this}}),e.smoothScroll=function(t,r){if("options"===t&&"object"==typeof r)return e.extend(n,r);var i,o,s,a,c,l=0,u="offset",f="scrollTop",h={},d={};"number"==typeof t?(i=e.extend({link:null},e.fn.smoothScroll.defaults,n),s=t):(i=e.extend({link:null},e.fn.smoothScroll.defaults,t||{},n)).scrollElement&&(u="position","static"===i.scrollElement.css("position")&&i.scrollElement.css("position","relative")),f="left"===i.direction?"scrollLeft":f,i.scrollElement?(o=i.scrollElement,/^(?:HTML|BODY)$/.test(o[0].nodeName)||(l=o[f]())):o=e("html, body").firstScrollable(i.direction),i.beforeScroll.call(o,i),s="number"==typeof t?t:r||e(i.scrollTarget)[u]()&&e(i.scrollTarget)[u]()[i.direction]||0,h[f]=s+l+i.offset,"auto"===(a=i.speed)&&(0>(c=h[f]-o.scrollTop())&&(c*=-1),a=c/i.autoCoefficient),d={duration:a,easing:i.easing,complete:function(){i.afterScroll.call(i.link,i)}},i.step&&(d.step=i.step),o.length?o.stop().animate(h,d):i.afterScroll.call(i.link,i)},e.smoothScroll.version="1.5.4",e.smoothScroll.filterPath=function(e){return(e=e||"").replace(/^\//,"").replace(/(?:index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},e.fn.smoothScroll.defaults={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficient:2,preventDefault:!0}}),function(e){function t(e,t){if(!(e.originalEvent.touches.length>1)){e.preventDefault();var n=e.originalEvent.changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent(t,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(r)}}if(e.support.touch="ontouchend"in document,e.support.touch){var n,r=e.ui.mouse.prototype,i=r._mouseInit,o=r._mouseDestroy;r._touchStart=function(e){!n&&this._mouseCapture(e.originalEvent.changedTouches[0])&&(n=!0,this._touchMoved=!1,t(e,"mouseover"),t(e,"mousemove"),t(e,"mousedown"))},r._touchMove=function(e){n&&(this._touchMoved=!0,t(e,"mousemove"))},r._touchEnd=function(e){n&&(t(e,"mouseup"),t(e,"mouseout"),this._touchMoved||t(e,"click"),n=!1)},r._mouseInit=function(){var t=this;t.element.bind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),i.call(t)},r._mouseDestroy=function(){var t=this;t.element.unbind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),o.call(t)}}}(jQuery),JSON||(JSON={}),function(){function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,o,s,a=gap,c=t[e];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),"function"==typeof rep&&(c=rep.call(t,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(c)){for(o=c.length,n=0;n<o;n+=1)s[n]=str(n,c)||"null";return i=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,i}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;n<o;n+=1)"string"==typeof rep[n]&&(i=str(r=rep[n],c))&&s.push(quote(r)+(gap?": ":":")+i);else for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(i=str(r,c))&&s.push(quote(r)+(gap?": ":":")+i);return i=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b"," ":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(void 0!==(r=walk(i,n))?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var t="onmousewheel"in window?"ActiveXObject"in window?"wheel":"mousewheel":"DOMMouseScroll",n=".scrollLock",r=e.fn.scrollLock;e.fn.scrollLock=function(r,i,o){return"string"!=typeof i&&(i=null),void 0!==r&&!r||"off"===r?this.each(function(){e(this).off(n)}):this.each(function(){e(this).on(t+n,i,function(t){if(!t.ctrlKey){var n=e(this);if(!0===o||function(e){var t=e.prop("clientWidth"),n=e.prop("offsetWidth"),r=parseInt(e.css("border-right-width"),10);return n>t+parseInt(e.css("border-left-width"),10)+r}(n)){t.stopPropagation();var r=n.scrollTop(),i=n.prop("scrollHeight"),s=n.prop("clientHeight"),a=t.originalEvent.wheelDelta||-1*t.originalEvent.detail||-1*t.originalEvent.deltaY,c=0;if("wheel"===t.type){var l=n.height()/e(window).height();c=t.originalEvent.deltaY*l}(a>0&&0>=r+c||0>a&&r+c>=i-s)&&(t.preventDefault(),c&&n.scrollTop(r+c))}}})})},e.fn.scrollLock.noConflict=function(){return e.fn.scrollLock=r,this}}),function(e){"use strict";function t(e){return ko.isObservable(e)&&!(void 0===e.destroyAll)}function n(e,t){for(var n=0;n<e.length;++n)t(e[n])}function r(t,n){this.$select=e(t),this.options=this.mergeOptions(e.extend({},n,this.$select.data())),this.originalOptions=this.$select.clone()[0].options,this.query="",this.searchTimeout=null,this.options.multiple="multiple"===this.$select.attr("multiple"),this.options.onChange=e.proxy(this.options.onChange,this),this.options.onDropdownShow=e.proxy(this.options.onDropdownShow,this),this.options.onDropdownHide=e.proxy(this.options.onDropdownHide,this),this.options.onDropdownShown=e.proxy(this.options.onDropdownShown,this),this.options.onDropdownHidden=e.proxy(this.options.onDropdownHidden,this),this.buildContainer(),this.buildButton(),this.buildDropdown(),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(),this.options.disableIfEmpty&&e("option",this.$select).length<=0&&this.disable(),this.$select.hide().after(this.$container)}"undefined"!=typeof ko&&ko.bindingHandlers&&!ko.bindingHandlers.multiselect&&(ko.bindingHandlers.multiselect={init:function(r,i,o,s,a){var c=o().selectedOptions,l=ko.utils.unwrapObservable(i());e(r).multiselect(l),t(c)&&(e(r).multiselect("select",ko.utils.unwrapObservable(c)),c.subscribe(function(t){var i=[],o=[];n(t,function(e){switch(e.status){case"added":i.push(e.value);break;case"deleted":o.push(e.value)}}),i.length>0&&e(r).multiselect("select",i),o.length>0&&e(r).multiselect("deselect",o)},null,"arrayChange"))},update:function(n,r,i,o,s){var a=i().options,c=e(n).data("multiselect"),l=ko.utils.unwrapObservable(r());t(a)&&a.subscribe(function(t){e(n).multiselect("rebuild")}),c?c.updateOriginalOptions():e(n).multiselect(l)}}),r.prototype={defaults:{buttonText:function(t,n){if(0===t.length)return this.nonSelectedText+' <b class="caret"></b>';if(t.length==e("option",e(n)).length)return this.allSelectedText+' <b class="caret"></b>';if(t.length>this.numberDisplayed)return t.length+" "+this.nSelectedText+' <b class="caret"></b>';var r="";return t.each(function(){var t=void 0!==e(this).attr("label")?e(this).attr("label"):e(this).html();r+=t+", "}),r.substr(0,r.length-2)+' <b class="caret"></b>'},buttonTitle:function(t,n){if(0===t.length)return this.nonSelectedText;var r="";return t.each(function(){r+=e(this).text()+", "}),r.substr(0,r.length-2)},label:function(t){return e(t).attr("label")||e(t).html()},onChange:function(e,t){},onDropdownShow:function(e){},onDropdownHide:function(e){},onDropdownShown:function(e){},onDropdownHidden:function(e){},buttonClass:"btn btn-default",buttonWidth:"auto",buttonContainer:'<div class="btn-group" />',dropRight:!1,selectedClass:"active",maxHeight:!1,checkboxName:!1,includeSelectAllOption:!1,includeSelectAllIfMoreThan:0,selectAllText:" Select all",selectAllValue:"multiselect-all",selectAllName:!1,enableFiltering:!1,enableCaseInsensitiveFiltering:!1,enableClickableOptGroups:!1,filterPlaceholder:"Search",filterBehavior:"text",includeFilterClearBtn:!0,preventInputChangeEvent:!1,nonSelectedText:"None selected",nSelectedText:"selected",allSelectedText:"All selected",numberDisplayed:3,disableIfEmpty:!1,templates:{button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown"></button>',ul:'<ul class="multiselect-container dropdown-menu"></ul>',filter:'<li class="multiselect-item filter"><div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span><input class="form-control multiselect-search" type="text"></div></li>',filterClearBtn:'<span class="input-group-btn"><button class="btn btn-default multiselect-clear-filter" type="button"><i class="glyphicon glyphicon-remove"></i></button></span>',li:'<li><a href="javascript:void(0);"><label></label></a></li>',divider:'<li class="multiselect-item divider"></li>',liGroup:'<li class="multiselect-item multiselect-group"><label></label></li>'}},constructor:r,buildContainer:function(){this.$container=e(this.options.buttonContainer),this.$container.on("show.bs.dropdown",this.options.onDropdownShow),this.$container.on("hide.bs.dropdown",this.options.onDropdownHide),this.$container.on("shown.bs.dropdown",this.options.onDropdownShown),this.$container.on("hidden.bs.dropdown",this.options.onDropdownHidden)},buildButton:function(){this.$button=e(this.options.templates.button).addClass(this.options.buttonClass),this.$select.prop("disabled")?this.disable():this.enable(),this.options.buttonWidth&&"auto"!==this.options.buttonWidth&&(this.$button.css({width:this.options.buttonWidth}),this.$container.css({width:this.options.buttonWidth}));var t=this.$select.attr("tabindex");t&&this.$button.attr("tabindex",t),this.$container.prepend(this.$button)},buildDropdown:function(){this.$ul=e(this.options.templates.ul),this.options.dropRight&&this.$ul.addClass("pull-right"),this.options.maxHeight&&this.$ul.css({"max-height":this.options.maxHeight+"px","overflow-y":"auto","overflow-x":"hidden"}),this.$container.append(this.$ul)},buildDropdownOptions:function(){this.$select.children().each(e.proxy(function(t,n){var r=e(n),i=r.prop("tagName").toLowerCase();r.prop("value")!==this.options.selectAllValue&&("optgroup"===i?this.createOptgroup(n):"option"===i&&("divider"===r.data("role")?this.createDivider():this.createOptionValue(n)))},this)),e("li input",this.$ul).on("change",e.proxy(function(t){var n=e(t.target),r=n.prop("checked")||!1,i=n.val()===this.options.selectAllValue;this.options.selectedClass&&(r?n.closest("li").addClass(this.options.selectedClass):n.closest("li").removeClass(this.options.selectedClass));var o=n.val(),s=this.getOptionByValue(o),a=e("option",this.$select).not(s),c=e("input",this.$container).not(n);if(i&&(r?this.selectAll():this.deselectAll()),i||(r?(s.prop("selected",!0),this.options.multiple?s.prop("selected",!0):(this.options.selectedClass&&e(c).closest("li").removeClass(this.options.selectedClass),e(c).prop("checked",!1),a.prop("selected",!1),this.$button.click()),"active"===this.options.selectedClass&&a.closest("a").css("outline","")):s.prop("selected",!1)),this.$select.change(),this.updateButtonText(),this.updateSelectAll(),this.options.onChange(s,r),this.options.preventInputChangeEvent)return!1},this)),e("li a",this.$ul).on("touchstart click",function(t){t.stopPropagation();var n=e(t.target);if("Range"===document.getSelection().type){var r=e(this).find("input:first");r.prop("checked",!r.prop("checked")).trigger("change")}if(t.shiftKey&&(n.prop("checked")||!1)){var i=n.closest("li").siblings('li[class="active"]:first');n.closest("li").index()>i.index()?n.closest("li").prevUntil(i).each(function(){e(this).find("input:first").prop("checked",!0).trigger("change")}):n.closest("li").nextUntil(i).each(function(){e(this).find("input:first").prop("checked",!0).trigger("change")})}n.blur()}),this.$container.off("keydown.multiselect").on("keydown.multiselect",e.proxy(function(t){if(!e('input[type="text"]',this.$container).is(":focus"))if(9===t.keyCode&&this.$container.hasClass("open"))this.$button.click();else{var n=e(this.$container).find("li:not(.divider):not(.disabled) a").filter(":visible");if(!n.length)return;var r=n.index(n.filter(":focus"));38===t.keyCode&&r>0?r--:40===t.keyCode&&r<n.length-1?r++:~r||(r=0);var i=n.eq(r);if(i.focus(),32===t.keyCode||13===t.keyCode){var o=i.find("input");o.prop("checked",!o.prop("checked")),o.change()}t.stopPropagation(),t.preventDefault()}},this)),this.options.enableClickableOptGroups&&this.options.multiple&&e("li.multiselect-group",this.$ul).on("click",e.proxy(function(t){t.stopPropagation();var n=!0,r=e(t.target).parent().nextUntil("li.multiselect-group").find("input");r.each(function(){n=n&&e(this).prop("checked")}),r.prop("checked",!n).trigger("change")},this))},createOptionValue:function(t){var n=e(t);n.is(":selected")&&n.prop("selected",!0);var r=this.options.label(t),i=n.val(),o=this.options.multiple?"checkbox":"radio",s=e(this.options.templates.li),a=e("label",s);a.addClass(o);var c=e("<input/>").attr("type",o);this.options.checkboxName&&c.attr("name",this.options.checkboxName),a.append(c);var l=n.prop("selected")||!1;c.val(i),i===this.options.selectAllValue&&(s.addClass("multiselect-item multiselect-all"),c.parent().parent().addClass("multiselect-all")),a.append(" "+r),a.attr("title",n.attr("title")),this.$ul.append(s),n.is(":disabled")&&c.attr("disabled","disabled").prop("disabled",!0).closest("a").attr("tabindex","-1").closest("li").addClass("disabled"),c.prop("checked",l),l&&this.options.selectedClass&&c.closest("li").addClass(this.options.selectedClass)},createDivider:function(t){var n=e(this.options.templates.divider);this.$ul.append(n)},createOptgroup:function(t){var n=e(t).prop("label"),r=e(this.options.templates.liGroup);e("label",r).text(n),this.options.enableClickableOptGroups&&r.addClass("multiselect-group-clickable"),this.$ul.append(r),e(t).is(":disabled")&&r.addClass("disabled"),e("option",t).each(e.proxy(function(e,t){this.createOptionValue(t)},this))},buildSelectAll:function(){if("number"==typeof this.options.selectAllValue&&(this.options.selectAllValue=this.options.selectAllValue.toString()),!this.hasSelectAll()&&this.options.includeSelectAllOption&&this.options.multiple&&e("option",this.$select).length>this.options.includeSelectAllIfMoreThan){this.options.includeSelectAllDivider&&this.$ul.prepend(e(this.options.templates.divider));var t=e(this.options.templates.li);e("label",t).addClass("checkbox"),this.options.selectAllName?e("label",t).append('<input type="checkbox" name="'+this.options.selectAllName+'" />'):e("label",t).append('<input type="checkbox" />');var n=e("input",t);n.val(this.options.selectAllValue),t.addClass("multiselect-item multiselect-all"),n.parent().parent().addClass("multiselect-all"),e("label",t).append(" "+this.options.selectAllText),this.$ul.prepend(t),n.prop("checked",!1)}},buildFilter:function(){if(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering){var t=Math.max(this.options.enableFiltering,this.options.enableCaseInsensitiveFiltering);if(this.$select.find("option").length>=t){if(this.$filter=e(this.options.templates.filter),e("input",this.$filter).attr("placeholder",this.options.filterPlaceholder),this.options.includeFilterClearBtn){var n=e(this.options.templates.filterClearBtn);n.on("click",e.proxy(function(t){clearTimeout(this.searchTimeout),this.$filter.find(".multiselect-search").val(""),e("li",this.$ul).show().removeClass("filter-hidden"),this.updateSelectAll()},this)),this.$filter.find(".input-group").append(n)}this.$ul.prepend(this.$filter),this.$filter.val(this.query).on("click",function(e){e.stopPropagation()}).on("input keydown",e.proxy(function(t){13===t.which&&t.preventDefault(),clearTimeout(this.searchTimeout),this.searchTimeout=this.asyncFunction(e.proxy(function(){var n,r;this.query!==t.target.value&&(this.query=t.target.value,e.each(e("li",this.$ul),e.proxy(function(t,i){var o=e("input",i).val(),s=e("label",i).text(),a="";if("text"===this.options.filterBehavior?a=s:"value"===this.options.filterBehavior?a=o:"both"===this.options.filterBehavior&&(a=s+"\n"+o),o!==this.options.selectAllValue&&s){var c=!1;this.options.enableCaseInsensitiveFiltering&&a.toLowerCase().indexOf(this.query.toLowerCase())>-1?c=!0:a.indexOf(this.query)>-1&&(c=!0),e(i).toggle(c).toggleClass("filter-hidden",!c),e(i).hasClass("multiselect-group")?(n=i,r=c):(c&&e(n).show().removeClass("filter-hidden"),!c&&r&&e(i).show().removeClass("filter-hidden"))}},this)));this.updateSelectAll()},this),300,this)},this))}}},destroy:function(){this.$container.remove(),this.$select.show(),this.$select.data("multiselect",null)},refresh:function(){e("option",this.$select).each(e.proxy(function(t,n){var r=e("li input",this.$ul).filter(function(){return e(this).val()===e(n).val()});e(n).is(":selected")?(r.prop("checked",!0),this.options.selectedClass&&r.closest("li").addClass(this.options.selectedClass)):(r.prop("checked",!1),this.options.selectedClass&&r.closest("li").removeClass(this.options.selectedClass)),e(n).is(":disabled")?r.attr("disabled","disabled").prop("disabled",!0).closest("li").addClass("disabled"):r.prop("disabled",!1).closest("li").removeClass("disabled")},this)),this.updateButtonText(),this.updateSelectAll()},select:function(t,n){e.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++){var i=t[r];if(null!==i&&void 0!==i){var o=this.getOptionByValue(i),s=this.getInputByValue(i);void 0!==o&&void 0!==s&&(this.options.multiple||this.deselectAll(!1),this.options.selectedClass&&s.closest("li").addClass(this.options.selectedClass),s.prop("checked",!0),o.prop("selected",!0))}}this.updateButtonText(),this.updateSelectAll(),n&&1===t.length&&this.options.onChange(o,!0)},clearSelection:function(){this.deselectAll(!1),this.updateButtonText(),this.updateSelectAll()},deselect:function(t,n){e.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++){var i=t[r];if(null!==i&&void 0!==i){var o=this.getOptionByValue(i),s=this.getInputByValue(i);void 0!==o&&void 0!==s&&(this.options.selectedClass&&s.closest("li").removeClass(this.options.selectedClass),s.prop("checked",!1),o.prop("selected",!1))}}this.updateButtonText(),this.updateSelectAll(),n&&1===t.length&&this.options.onChange(o,!1)},selectAll:function(t){t=void 0===t||t;var n=e("li input[type='checkbox']:enabled",this.$ul),r=n.filter(":visible"),i=n.length,o=r.length;if(t?(r.prop("checked",!0),e("li:not(.divider):not(.disabled)",this.$ul).filter(":visible").addClass(this.options.selectedClass)):(n.prop("checked",!0),e("li:not(.divider):not(.disabled)",this.$ul).addClass(this.options.selectedClass)),i===o||!1===t)e("option:enabled",this.$select).prop("selected",!0);else{var s=r.map(function(){return e(this).val()}).get();e("option:enabled",this.$select).filter(function(t){return-1!==e.inArray(e(this).val(),s)}).prop("selected",!0)}},deselectAll:function(t){if(t=void 0===t||t){var n=e("li input[type='checkbox']:enabled",this.$ul).filter(":visible");n.prop("checked",!1);var r=n.map(function(){return e(this).val()}).get();e("option:enabled",this.$select).filter(function(t){return-1!==e.inArray(e(this).val(),r)}).prop("selected",!1),this.options.selectedClass&&e("li:not(.divider):not(.disabled)",this.$ul).filter(":visible").removeClass(this.options.selectedClass)}else e("li input[type='checkbox']:enabled",this.$ul).prop("checked",!1),e("option:enabled",this.$select).prop("selected",!1),this.options.selectedClass&&e("li:not(.divider):not(.disabled)",this.$ul).removeClass(this.options.selectedClass)},rebuild:function(){this.$ul.html(""),this.options.multiple="multiple"===this.$select.attr("multiple"),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(),this.options.disableIfEmpty&&e("option",this.$select).length<=0&&this.disable(),this.options.dropRight&&this.$ul.addClass("pull-right")},dataprovider:function(t){var r=0,i=e("");e.each(t,function(t,o){var s;e.isArray(o.children)?(r++,s=e("<optgroup/>").attr({label:o.label||"Group "+r}),n(o.children,function(t){s.append(e("<option/>").attr({value:t.value,label:t.label||t.value,title:t.title,selected:!!t.selected}))}),"</optgroup>"):s=e("<option/>").attr({value:o.value,label:o.label||o.value,title:o.title,selected:!!o.selected}),i=i.add(s)}),this.$select.empty().append(i),this.rebuild()},enable:function(){this.$select.prop("disabled",!1),this.$button.prop("disabled",!1).removeClass("disabled")},disable:function(){this.$select.prop("disabled",!0),this.$button.prop("disabled",!0).addClass("disabled")},setOptions:function(e){this.options=this.mergeOptions(e)},mergeOptions:function(t){return e.extend(!0,{},this.defaults,t)},hasSelectAll:function(){return e("li."+this.options.selectAllValue,this.$ul).length>0},updateSelectAll:function(){if(this.hasSelectAll()){var t=e("li:not(.multiselect-item):not(.filter-hidden) input:enabled",this.$ul),n=t.length,r=t.filter(":checked").length,i=e("li."+this.options.selectAllValue,this.$ul),o=i.find("input");r>0&&r===n?(o.prop("checked",!0),i.addClass(this.options.selectedClass)):(o.prop("checked",!1),i.removeClass(this.options.selectedClass))}},updateButtonText:function(){var t=this.getSelected();e(".multiselect",this.$container).html(this.options.buttonText(t,this.$select)),e(".multiselect",this.$container).attr("title",this.options.buttonTitle(t,this.$select))},getSelected:function(){return e("option",this.$select).filter(":selected")},getOptionByValue:function(t){for(var n=e("option",this.$select),r=t.toString(),i=0;i<n.length;i+=1){var o=n[i];if(o.value===r)return e(o)}},getInputByValue:function(t){for(var n=e("li input",this.$ul),r=t.toString(),i=0;i<n.length;i+=1){var o=n[i];if(o.value===r)return e(o)}},updateOriginalOptions:function(){this.originalOptions=this.$select.clone()[0].options},asyncFunction:function(e,t,n){var r=Array.prototype.slice.call(arguments,3);return setTimeout(function(){e.apply(n||window,r)},t)}},e.fn.multiselect=function(t,n,i){return this.each(function(){var o=e(this).data("multiselect");o||(o=new r(this,"object"==typeof t&&t),e(this).data("multiselect",o)),"string"==typeof t&&(o[t](n,i),"destroy"===t&&e(this).data("multiselect",!1))})},e.fn.multiselect.Constructor=r,e(function(){e("select[data-role=multiselect]").multiselect()})}(window.jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t,window,document)}):e(jQuery,window,document)}(function(e,t,n){"use strict";var r,i,o,s,a,c,l,u,f,h,d,p,m,g,v,b,y,_,w,k,x,S,C,A,E,T,I;k={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null},v="scroll",l="mousedown",u="mouseenter",f="mousemove",d="mousewheel",h="mouseup",g="resize",a="drag",c="enter",y="up",m="panedown",o="DOMMouseScroll",s="down",_="wheel",b="touchmove",r="Microsoft Internet Explorer"===t.navigator.appName&&/msie 7./i.test(t.navigator.appVersion)&&t.ActiveXObject,i=null,A=t.requestAnimationFrame,w=t.cancelAnimationFrame,T=n.createElement("div").style,I=function(){var e,t,n,r;for(e=n=0,r=(t=["t","webkitT","MozT","msT","OT"]).length;r>n;e=++n)if(t[e],t[e]+"ransform"in T)return t[e].substr(0,t[e].length-1);return!1}(),E=function(e){return!1!==I&&(""===I?e:I+e.charAt(0).toUpperCase()+e.substr(1))}("transform"),S=!1!==E,x=function(){var e,t,r;return(t=(e=n.createElement("div")).style).position="absolute",t.width="100px",t.height="100px",t.overflow=v,t.top="-9999px",n.body.appendChild(e),r=e.offsetWidth-e.clientWidth,n.body.removeChild(e),r},C=function(){var e,n,r;return n=t.navigator.userAgent,!!(e=/(?=.+Mac OS X)(?=.+Firefox)/.test(n))&&((r=/Firefox\/\d{2}\./.exec(n))&&(r=r[0].replace(/\D+/g,"")),e&&+r>23)},p=function(){function p(r,o){this.el=r,this.options=o,i||(i=x()),this.$el=e(this.el),this.doc=e(this.options.documentContext||n),this.win=e(this.options.windowContext||t),this.body=this.doc.find("body"),this.$content=this.$el.children("."+o.contentClass),this.$content.attr("tabindex",this.options.tabIndex||0),this.content=this.$content[0],this.previousPosition=0,this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return p.prototype.preventScrolling=function(e,t){if(this.isActive)if(e.type===o)(t===s&&e.originalEvent.detail>0||t===y&&e.originalEvent.detail<0)&&e.preventDefault();else if(e.type===d){if(!e.originalEvent||!e.originalEvent.wheelDelta)return;(t===s&&e.originalEvent.wheelDelta<0||t===y&&e.originalEvent.wheelDelta>0)&&e.preventDefault()}},p.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},p.prototype.updateScrollValues=function(){var e,t;e=this.content,this.maxScrollTop=e.scrollHeight-e.clientHeight,this.prevScrollTop=this.contentScrollTop||0,this.contentScrollTop=e.scrollTop,t=this.contentScrollTop>this.previousPosition?"down":this.contentScrollTop<this.previousPosition?"up":"same",this.previousPosition=this.contentScrollTop,"same"!==t&&this.$el.trigger("update",{position:this.contentScrollTop,maximum:this.maxScrollTop,direction:t}),this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},p.prototype.setOnScrollStyles=function(){var e,t;S?(e={})[E]="translate(0, "+this.sliderTop+"px)":e={top:this.sliderTop},A?(w&&this.scrollRAF&&w(this.scrollRAF),this.scrollRAF=A((t=this,function(){return t.scrollRAF=null,t.slider.css(e)}))):this.slider.css(e)},p.prototype.createEvents=function(){var e;this.events={down:(e=this,function(t){return e.isBeingDragged=!0,e.offsetY=t.pageY-e.slider.offset().top,e.slider.is(t.target)||(e.offsetY=0),e.pane.addClass("active"),e.doc.bind(f,e.events[a]).bind(h,e.events.up),e.body.bind(u,e.events[c]),!1}),drag:function(e){return function(t){return e.sliderY=t.pageY-e.$el.offset().top-e.paneTop-(e.offsetY||.5*e.sliderHeight),e.scroll(),e.contentScrollTop>=e.maxScrollTop&&e.prevScrollTop!==e.maxScrollTop?e.$el.trigger("scrollend"):0===e.contentScrollTop&&0!==e.prevScrollTop&&e.$el.trigger("scrolltop"),!1}}(this),up:function(e){return function(){return e.isBeingDragged=!1,e.pane.removeClass("active"),e.doc.unbind(f,e.events[a]).unbind(h,e.events.up),e.body.unbind(u,e.events[c]),!1}}(this),resize:function(e){return function(){e.reset()}}(this),panedown:function(e){return function(t){return e.sliderY=(t.offsetY||t.originalEvent.layerY)-.5*e.sliderHeight,e.scroll(),e.events.down(t),!1}}(this),scroll:function(e){return function(t){e.updateScrollValues(),e.isBeingDragged||(e.iOSNativeScrolling||(e.sliderY=e.sliderTop,e.setOnScrollStyles()),null!=t&&(e.contentScrollTop>=e.maxScrollTop?(e.options.preventPageScrolling&&e.preventScrolling(t,s),e.prevScrollTop!==e.maxScrollTop&&e.$el.trigger("scrollend")):0===e.contentScrollTop&&(e.options.preventPageScrolling&&e.preventScrolling(t,y),0!==e.prevScrollTop&&e.$el.trigger("scrolltop"))))}}(this),wheel:function(e){return function(t){var n;if(null!=t)return(n=t.delta||t.wheelDelta||t.originalEvent&&t.originalEvent.wheelDelta||-t.detail||t.originalEvent&&-t.originalEvent.detail)&&(e.sliderY+=-n/3),e.scroll(),!1}}(this),enter:function(e){return function(t){var n;if(e.isBeingDragged)return 1!==(t.buttons||t.which)?(n=e.events).up.apply(n,arguments):void 0}}(this)}},p.prototype.addEvents=function(){var e;this.removeEvents(),e=this.events,this.options.disableResize||this.win.bind(g,e[g]),this.iOSNativeScrolling||(this.slider.bind(l,e[s]),this.pane.bind(l,e[m]).bind(d+" "+o,e[_])),this.$content.bind(v+" "+d+" "+o+" "+b,e[v])},p.prototype.removeEvents=function(){var e;e=this.events,this.win.unbind(g,e[g]),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind(v+" "+d+" "+o+" "+b,e[v])},p.prototype.generate=function(){var e,n,r,o,s;return o=(n=this.options).paneClass,s=n.sliderClass,n.contentClass,(r=this.$el.children("."+o)).length||r.children("."+s).length||this.$el.append('<div class="'+o+'"><div class="'+s+'" /></div>'),this.pane=this.$el.children("."+o),this.slider=this.pane.find("."+s),0===i&&C()?e={right:-14,paddingRight:+t.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/[^0-9.]+/g,"")+14}:i&&(e={right:-i},this.$el.addClass("has-scrollbar")),null!=e&&this.$content.css(e),this},p.prototype.restore=function(){this.stopped=!1,this.iOSNativeScrolling||this.pane.show(),this.addEvents()},p.prototype.reset=function(){var e,t,n,o,s,a,c,l,u,f,h;return this.iOSNativeScrolling?void(this.contentHeight=this.content.scrollHeight):(this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),s=(o=(e=this.content).style).overflowY,r&&this.$content.css({height:this.$content.height()}),t=e.scrollHeight+i,(u=parseInt(this.$el.css("max-height"),10))>0&&(this.$el.height(""),this.$el.height(e.scrollHeight>u?u:e.scrollHeight)),c=(a=this.pane.outerHeight(!1))+(l=parseInt(this.pane.css("top"),10))+parseInt(this.pane.css("bottom"),10),(h=Math.round(c/t*c))<this.options.sliderMinHeight?h=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&h>this.options.sliderMaxHeight&&(h=this.options.sliderMaxHeight),s===v&&o.overflowX!==v&&(h+=i),this.maxSliderTop=c-h,this.contentHeight=t,this.paneHeight=a,this.paneOuterHeight=c,this.sliderHeight=h,this.paneTop=l,this.slider.height(h),this.events.scroll(),this.pane.show(),this.isActive=!0,e.scrollHeight===e.clientHeight||this.pane.outerHeight(!0)>=e.scrollHeight&&s!==v?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===e.scrollHeight&&s===v?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),("static"===(n=this.$content.css("position"))||"relative"===n)&&((f=parseInt(this.$content.css("right"),10))&&this.$content.css({right:"",marginRight:f})),this)},p.prototype.scroll=function(){return this.isActive?(this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop(this.maxScrollTop*this.sliderY/this.maxSliderTop),this.iOSNativeScrolling||(this.updateScrollValues(),this.setOnScrollStyles()),this):void 0},p.prototype.scrollBottom=function(e){return this.isActive?(this.$content.scrollTop(this.contentHeight-this.$content.height()-e).trigger(d),this.stop().restore(),this):void 0},p.prototype.scrollTop=function(e){return this.isActive?(this.$content.scrollTop(+e).trigger(d),this.stop().restore(),this):void 0},p.prototype.scrollTo=function(e){return this.isActive?(this.scrollTop(this.$el.find(e).get(0).offsetTop),this):void 0},p.prototype.stop=function(){return w&&this.scrollRAF&&(w(this.scrollRAF),this.scrollRAF=null),this.stopped=!0,this.removeEvents(),this.iOSNativeScrolling||this.pane.hide(),this},p.prototype.destroy=function(){return this.stopped||this.stop(),!this.iOSNativeScrolling&&this.pane.length&&this.pane.remove(),r&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass("has-scrollbar")&&(this.$el.removeClass("has-scrollbar"),this.$content.css({right:""})),this},p.prototype.flash=function(){return!this.iOSNativeScrolling&&this.isActive?(this.reset(),this.pane.addClass("flashed"),setTimeout((e=this,function(){e.pane.removeClass("flashed")}),this.options.flashDelay),this):void 0;var e},p}(),e.fn.nanoScroller=function(t){return this.each(function(){var n,r;if((r=this.nanoscroller)||(n=e.extend({},k,t),this.nanoscroller=r=new p(this,n)),t&&"object"==typeof t){if(e.extend(r.options,t),null!=t.scrollBottom)return r.scrollBottom(t.scrollBottom);if(null!=t.scrollTop)return r.scrollTop(t.scrollTop);if(t.scrollTo)return r.scrollTo(t.scrollTo);if("bottom"===t.scroll)return r.scrollBottom(0);if("top"===t.scroll)return r.scrollTop(0);if(t.scroll&&t.scroll instanceof e)return r.scrollTo(t.scroll);if(t.stop)return r.stop();if(t.destroy)return r.destroy();if(t.flash)return r.flash()}return r.reset()})},e.fn.nanoScroller.Constructor=p}),function(e,t){"use strict";var n="scroller",r=null,i={base:"scroller",content:"scroller-content",bar:"scroller-bar",track:"scroller-track",handle:"scroller-handle",isHorizontal:"scroller-horizontal",isSetup:"scroller-setup",isActive:"scroller-active"},o={start:"touchstart."+n+" mousedown."+n,move:"touchmove."+n+" mousemove."+n,end:"touchend."+n+" mouseup."+n},s={customClass:"",duration:0,handleSize:0,horizontal:!1,trackMargin:0},a={defaults:function(t){return s=e.extend(s,t||{}),"object"!=typeof this||e(this)},destroy:function(){return e(this).each(function(t,r){var o=e(r).data(n);o&&(o.$scroller.removeClass([o.customClass,i.base,i.isActive].join(" ")),o.$bar.remove(),o.$content.contents().unwrap(),o.$content.off(g(n)),o.$scroller.off(g(n)).removeData(n))})},scroll:function(t,r){return e(this).each(function(i){var o=e(this).data(n),a=r||s.duration;if("number"!=typeof t){var c=e(t);if(c.length>0){var l=c.position();t=o.horizontal?l.left+o.$content.scrollLeft():l.top+o.$content.scrollTop()}else t=o.$content.scrollTop()}var u=o.horizontal?{scrollLeft:t}:{scrollTop:t};o.$content.stop().animate(u,a)})},reset:function(){return e(this).each(function(t){var r=e(this).data(n);if(r){r.$scroller.addClass(i.isSetup);var o={},s={},a={},c=0,l=!0;if(r.horizontal)r.barHeight=r.$content[0].offsetHeight-r.$content[0].clientHeight,r.frameWidth=r.$content.outerWidth(),r.trackWidth=r.frameWidth-2*r.trackMargin,r.scrollWidth=r.$content[0].scrollWidth,r.ratio=r.trackWidth/r.scrollWidth,r.trackRatio=r.trackWidth/r.scrollWidth,r.handleWidth=r.handleSize>0?r.handleSize:r.trackWidth*r.trackRatio,r.scrollRatio=(r.scrollWidth-r.frameWidth)/(r.trackWidth-r.handleWidth),r.handleBounds={left:0,right:r.trackWidth-r.handleWidth},r.$content.css({paddingBottom:r.barHeight+r.paddingBottom}),c=r.$content.scrollLeft()*r.ratio,l=r.scrollWidth<=r.frameWidth,o={width:r.frameWidth},s={width:r.trackWidth,marginLeft:r.trackMargin,marginRight:r.trackMargin},a={width:r.handleWidth};else r.barWidth=r.$content[0].offsetWidth-r.$content[0].clientWidth,r.frameHeight=r.$content.outerHeight(),r.trackHeight=r.frameHeight-2*r.trackMargin,r.scrollHeight=r.$content[0].scrollHeight,r.ratio=r.trackHeight/r.scrollHeight,r.trackRatio=r.trackHeight/r.scrollHeight,r.handleHeight=r.handleSize>0?r.handleSize:r.trackHeight*r.trackRatio,r.scrollRatio=(r.scrollHeight-r.frameHeight)/(r.trackHeight-r.handleHeight),r.handleBounds={top:0,bottom:r.trackHeight-r.handleHeight},c=r.$content.scrollTop()*r.ratio,l=r.scrollHeight<=r.frameHeight,o={height:r.frameHeight},s={height:r.trackHeight,marginBottom:r.trackMargin,marginTop:r.trackMargin},a={height:r.handleHeight};l?r.$scroller.removeClass(i.isActive):r.$scroller.addClass(i.isActive),r.$bar.css(o),r.$track.css(s),r.$handle.css(a),m(r,c),r.$scroller.removeClass(i.isSetup)}})}};function c(r,s){if(!r.hasClass(i.base)){s=e.extend({},s,r.data(n+"-options"));var c="";c+='<div class="'+i.bar+'">',c+='<div class="'+i.track+'">',c+='<div class="'+i.handle+'">',c+="</div></div></div>",s.paddingRight=parseInt(r.css("padding-right"),10),s.paddingBottom=parseInt(r.css("padding-bottom"),10),r.addClass([i.base,s.customClass].join(" ")).wrapInner('<div class="'+i.content+'" />').prepend(c),s.horizontal&&r.addClass(i.isHorizontal);var h=e.extend({$scroller:r,$content:r.find(g(i.content)),$bar:r.find(g(i.bar)),$track:r.find(g(i.track)),$handle:r.find(g(i.handle))},s);h.trackMargin=parseInt(h.trackMargin,10),h.$content.on("scroll."+n,h,l),h.$scroller.on(o.start,g(i.track),h,u).on(o.start,g(i.handle),h,f).data(n,h),a.reset.apply(r),e(t).one("load",function(){a.reset.apply(r)})}}function l(e){e.preventDefault(),e.stopPropagation();var t=e.data,n={};if(t.horizontal){var r=t.$content.scrollLeft();r<0&&(r=0);var i=r/t.scrollRatio;i>t.handleBounds.right&&(i=t.handleBounds.right),n={left:i}}else{var o=t.$content.scrollTop();o<0&&(o=0);var s=o/t.scrollRatio;s>t.handleBounds.bottom&&(s=t.handleBounds.bottom),n={top:s}}t.$handle.css(n)}function u(e){e.preventDefault(),e.stopPropagation();var t=e.data,n=e.originalEvent,r=t.$track.offset(),i=void 0!==n.targetTouches?n.targetTouches[0]:null,o=i?i.pageX:e.clientX,s=i?i.pageY:e.clientY;t.horizontal?(t.mouseStart=o,t.handleLeft=o-r.left-t.handleWidth/2,m(t,t.handleLeft)):(t.mouseStart=s,t.handleTop=s-r.top-t.handleHeight/2,m(t,t.handleTop)),h(t)}function f(e){e.preventDefault(),e.stopPropagation();var t=e.data,n=e.originalEvent,r=void 0!==n.targetTouches?n.targetTouches[0]:null,i=r?r.pageX:e.clientX,o=r?r.pageY:e.clientY;t.horizontal?(t.mouseStart=i,t.handleLeft=parseInt(t.$handle.css("left"),10)):(t.mouseStart=o,t.handleTop=parseInt(t.$handle.css("top"),10)),h(t)}function h(e){e.$content.off(g(n)),r.on(o.move,e,d).on(o.end,e,p)}function d(e){e.preventDefault(),e.stopPropagation();var t=e.data,n=e.originalEvent,r=0,i=0,o=void 0!==n.targetTouches?n.targetTouches[0]:null,s=o?o.pageX:e.clientX,a=o?o.pageY:e.clientY;t.horizontal?(i=t.mouseStart-s,r=t.handleLeft-i):(i=t.mouseStart-a,r=t.handleTop-i),m(t,r)}function p(e){e.preventDefault(),e.stopPropagation();var t=e.data;t.$content.on("scroll.scroller",t,l),r.off(".scroller")}function m(e,t){var n={};if(e.horizontal){t<e.handleBounds.left&&(t=e.handleBounds.left),t>e.handleBounds.right&&(t=e.handleBounds.right);var r=Math.round(t*e.scrollRatio);n={left:t},e.$content.scrollLeft(r)}else{t<e.handleBounds.top&&(t=e.handleBounds.top),t>e.handleBounds.bottom&&(t=e.handleBounds.bottom);var i=Math.round(t*e.scrollRatio);n={top:t},e.$content.scrollTop(i)}e.$handle.css(n)}function g(e){return"."+e}e.fn[n]=function(t){return a[t]?a[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?this:function(t){t=e.extend({},s,t||{}),null===r&&(r=e("body"));for(var n=e(this),i=0,o=n.length;i<o;i++)c(n.eq(i),t);return n}.apply(this,arguments)},e[n]=function(e){"defaults"===e&&a.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery),function(){var e=this,t=e._,n=Array.prototype,r=Object.prototype,i=Function.prototype,o=n.push,s=n.slice,a=n.concat,c=r.toString,l=r.hasOwnProperty,u=Array.isArray,f=Object.keys,h=i.bind,d=function(e){return e instanceof d?e:this instanceof d?void(this._wrapped=e):new d(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=d),exports._=d):e._=d,d.VERSION="1.7.0";var p=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}};d.iteratee=function(e,t,n){return null==e?d.identity:d.isFunction(e)?p(e,t,n):d.isObject(e)?d.matches(e):d.property(e)},d.each=d.forEach=function(e,t,n){if(null==e)return e;t=p(t,n);var r,i=e.length;if(i===+i)for(r=0;i>r;r++)t(e[r],r,e);else{var o=d.keys(e);for(r=0,i=o.length;i>r;r++)t(e[o[r]],o[r],e)}return e},d.map=d.collect=function(e,t,n){if(null==e)return[];t=d.iteratee(t,n);for(var r,i=e.length!==+e.length&&d.keys(e),o=(i||e).length,s=Array(o),a=0;o>a;a++)r=i?i[a]:a,s[a]=t(e[r],r,e);return s};var m="Reduce of empty array with no initial value";d.reduce=d.foldl=d.inject=function(e,t,n,r){null==e&&(e=[]),t=p(t,r,4);var i,o=e.length!==+e.length&&d.keys(e),s=(o||e).length,a=0;if(arguments.length<3){if(!s)throw new TypeError(m);n=e[o?o[a++]:a++]}for(;s>a;a++)n=t(n,e[i=o?o[a]:a],i,e);return n},d.reduceRight=d.foldr=function(e,t,n,r){null==e&&(e=[]),t=p(t,r,4);var i,o=e.length!==+e.length&&d.keys(e),s=(o||e).length;if(arguments.length<3){if(!s)throw new TypeError(m);n=e[o?o[--s]:--s]}for(;s--;)n=t(n,e[i=o?o[s]:s],i,e);return n},d.find=d.detect=function(e,t,n){var r;return t=d.iteratee(t,n),d.some(e,function(e,n,i){return t(e,n,i)?(r=e,!0):void 0}),r},d.filter=d.select=function(e,t,n){var r=[];return null==e?r:(t=d.iteratee(t,n),d.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r)},d.reject=function(e,t,n){return d.filter(e,d.negate(d.iteratee(t)),n)},d.every=d.all=function(e,t,n){if(null==e)return!0;t=d.iteratee(t,n);var r,i,o=e.length!==+e.length&&d.keys(e),s=(o||e).length;for(r=0;s>r;r++)if(!t(e[i=o?o[r]:r],i,e))return!1;return!0},d.some=d.any=function(e,t,n){if(null==e)return!1;t=d.iteratee(t,n);var r,i,o=e.length!==+e.length&&d.keys(e),s=(o||e).length;for(r=0;s>r;r++)if(t(e[i=o?o[r]:r],i,e))return!0;return!1},d.contains=d.include=function(e,t){return null!=e&&(e.length!==+e.length&&(e=d.values(e)),d.indexOf(e,t)>=0)},d.invoke=function(e,t){var n=s.call(arguments,2),r=d.isFunction(t);return d.map(e,function(e){return(r?t:e[t]).apply(e,n)})},d.pluck=function(e,t){return d.map(e,d.property(t))},d.where=function(e,t){return d.filter(e,d.matches(t))},d.findWhere=function(e,t){return d.find(e,d.matches(t))},d.max=function(e,t,n){var r,i,o=-1/0,s=-1/0;if(null==t&&null!=e)for(var a=0,c=(e=e.length===+e.length?e:d.values(e)).length;c>a;a++)(r=e[a])>o&&(o=r);else t=d.iteratee(t,n),d.each(e,function(e,n,r){((i=t(e,n,r))>s||i===-1/0&&o===-1/0)&&(o=e,s=i)});return o},d.min=function(e,t,n){var r,i,o=1/0,s=1/0;if(null==t&&null!=e)for(var a=0,c=(e=e.length===+e.length?e:d.values(e)).length;c>a;a++)r=e[a],o>r&&(o=r);else t=d.iteratee(t,n),d.each(e,function(e,n,r){i=t(e,n,r),(s>i||1/0===i&&1/0===o)&&(o=e,s=i)});return o},d.shuffle=function(e){for(var t,n=e&&e.length===+e.length?e:d.values(e),r=n.length,i=Array(r),o=0;r>o;o++)(t=d.random(0,o))!==o&&(i[o]=i[t]),i[t]=n[o];return i},d.sample=function(e,t,n){return null==t||n?(e.length!==+e.length&&(e=d.values(e)),e[d.random(e.length-1)]):d.shuffle(e).slice(0,Math.max(0,t))},d.sortBy=function(e,t,n){return t=d.iteratee(t,n),d.pluck(d.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var g=function(e){return function(t,n,r){var i={};return n=d.iteratee(n,r),d.each(t,function(r,o){var s=n(r,o,t);e(i,r,s)}),i}};d.groupBy=g(function(e,t,n){d.has(e,n)?e[n].push(t):e[n]=[t]}),d.indexBy=g(function(e,t,n){e[n]=t}),d.countBy=g(function(e,t,n){d.has(e,n)?e[n]++:e[n]=1}),d.sortedIndex=function(e,t,n,r){for(var i=(n=d.iteratee(n,r,1))(t),o=0,s=e.length;s>o;){var a=o+s>>>1;n(e[a])<i?o=a+1:s=a}return o},d.toArray=function(e){return e?d.isArray(e)?s.call(e):e.length===+e.length?d.map(e,d.identity):d.values(e):[]},d.size=function(e){return null==e?0:e.length===+e.length?e.length:d.keys(e).length},d.partition=function(e,t,n){t=d.iteratee(t,n);var r=[],i=[];return d.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)}),[r,i]},d.first=d.head=d.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:0>t?[]:s.call(e,0,t)},d.initial=function(e,t,n){return s.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},d.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:s.call(e,Math.max(e.length-t,0))},d.rest=d.tail=d.drop=function(e,t,n){return s.call(e,null==t||n?1:t)},d.compact=function(e){return d.filter(e,d.identity)};var v=function(e,t,n,r){if(t&&d.every(e,d.isArray))return a.apply(r,e);for(var i=0,s=e.length;s>i;i++){var c=e[i];d.isArray(c)||d.isArguments(c)?t?o.apply(r,c):v(c,t,n,r):n||r.push(c)}return r};d.flatten=function(e,t){return v(e,t,!1,[])},d.without=function(e){return d.difference(e,s.call(arguments,1))},d.uniq=d.unique=function(e,t,n,r){if(null==e)return[];d.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=d.iteratee(n,r));for(var i=[],o=[],s=0,a=e.length;a>s;s++){var c=e[s];if(t)s&&o===c||i.push(c),o=c;else if(n){var l=n(c,s,e);d.indexOf(o,l)<0&&(o.push(l),i.push(c))}else d.indexOf(i,c)<0&&i.push(c)}return i},d.union=function(){return d.uniq(v(arguments,!0,!0,[]))},d.intersection=function(e){if(null==e)return[];for(var t=[],n=arguments.length,r=0,i=e.length;i>r;r++){var o=e[r];if(!d.contains(t,o)){for(var s=1;n>s&&d.contains(arguments[s],o);s++);s===n&&t.push(o)}}return t},d.difference=function(e){var t=v(s.call(arguments,1),!0,!0,[]);return d.filter(e,function(e){return!d.contains(t,e)})},d.zip=function(e){if(null==e)return[];for(var t=d.max(arguments,"length").length,n=Array(t),r=0;t>r;r++)n[r]=d.pluck(arguments,r);return n},d.object=function(e,t){if(null==e)return{};for(var n={},r=0,i=e.length;i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},d.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return e[r=d.sortedIndex(e,t)]===t?r:-1;r=0>n?Math.max(0,i+n):n}for(;i>r;r++)if(e[r]===t)return r;return-1},d.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=e.length;for("number"==typeof n&&(r=0>n?r+n+1:Math.min(r,n+1));--r>=0;)if(e[r]===t)return r;return-1},d.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;r>o;o++,e+=n)i[o]=e;return i};var b=function(){};d.bind=function(e,t){var n,r;if(h&&e.bind===h)return h.apply(e,s.call(arguments,1));if(!d.isFunction(e))throw new TypeError("Bind must be called on a function");return n=s.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(t,n.concat(s.call(arguments)));b.prototype=e.prototype;var i=new b;b.prototype=null;var o=e.apply(i,n.concat(s.call(arguments)));return d.isObject(o)?o:i}},d.partial=function(e){var t=s.call(arguments,1);return function(){for(var n=0,r=t.slice(),i=0,o=r.length;o>i;i++)r[i]===d&&(r[i]=arguments[n++]);for(;n<arguments.length;)r.push(arguments[n++]);return e.apply(this,r)}},d.bindAll=function(e){var t,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(t=1;r>t;t++)e[n=arguments[t]]=d.bind(e[n],e);return e},d.memoize=function(e,t){var n=function(r){var i=n.cache,o=t?t.apply(this,arguments):r;return d.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},d.delay=function(e,t){var n=s.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},d.defer=function(e){return d.delay.apply(d,[e,1].concat(s.call(arguments,1)))},d.throttle=function(e,t,n){var r,i,o,s=null,a=0;n||(n={});var c=function(){a=!1===n.leading?0:d.now(),s=null,o=e.apply(r,i),s||(r=i=null)};return function(){var l=d.now();a||!1!==n.leading||(a=l);var u=t-(l-a);return r=this,i=arguments,0>=u||u>t?(clearTimeout(s),s=null,a=l,o=e.apply(r,i),s||(r=i=null)):s||!1===n.trailing||(s=setTimeout(c,u)),o}},d.debounce=function(e,t,n){var r,i,o,s,a,c=function(){var l=d.now()-s;t>l&&l>0?r=setTimeout(c,t-l):(r=null,n||(a=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,s=d.now();var l=n&&!r;return r||(r=setTimeout(c,t)),l&&(a=e.apply(o,i),o=i=null),a}},d.wrap=function(e,t){return d.partial(t,e)},d.negate=function(e){return function(){return!e.apply(this,arguments)}},d.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},d.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},d.before=function(e,t){var n;return function(){return--e>0?n=t.apply(this,arguments):t=null,n}},d.once=d.partial(d.before,2),d.keys=function(e){if(!d.isObject(e))return[];if(f)return f(e);var t=[];for(var n in e)d.has(e,n)&&t.push(n);return t},d.values=function(e){for(var t=d.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=e[t[i]];return r},d.pairs=function(e){for(var t=d.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=[t[i],e[t[i]]];return r},d.invert=function(e){for(var t={},n=d.keys(e),r=0,i=n.length;i>r;r++)t[e[n[r]]]=n[r];return t},d.functions=d.methods=function(e){var t=[];for(var n in e)d.isFunction(e[n])&&t.push(n);return t.sort()},d.extend=function(e){if(!d.isObject(e))return e;for(var t,n,r=1,i=arguments.length;i>r;r++)for(n in t=arguments[r])l.call(t,n)&&(e[n]=t[n]);return e},d.pick=function(e,t,n){var r,i={};if(null==e)return i;if(d.isFunction(t))for(r in t=p(t,n),e){var o=e[r];t(o,r,e)&&(i[r]=o)}else{var c=a.apply([],s.call(arguments,1));e=new Object(e);for(var l=0,u=c.length;u>l;l++)(r=c[l])in e&&(i[r]=e[r])}return i},d.omit=function(e,t,n){if(d.isFunction(t))t=d.negate(t);else{var r=d.map(a.apply([],s.call(arguments,1)),String);t=function(e,t){return!d.contains(r,t)}}return d.pick(e,t,n)},d.defaults=function(e){if(!d.isObject(e))return e;for(var t=1,n=arguments.length;n>t;t++){var r=arguments[t];for(var i in r)void 0===e[i]&&(e[i]=r[i])}return e},d.clone=function(e){return d.isObject(e)?d.isArray(e)?e.slice():d.extend({},e):e},d.tap=function(e,t){return t(e),e};var y=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof d&&(e=e._wrapped),t instanceof d&&(t=t._wrapped);var i=c.call(e);if(i!==c.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=n.length;o--;)if(n[o]===e)return r[o]===t;var s,a,l=e.constructor,u=t.constructor;if(l!==u&&"constructor"in e&&"constructor"in t&&!(d.isFunction(l)&&l instanceof l&&d.isFunction(u)&&u instanceof u))return!1;if(n.push(e),r.push(t),"[object Array]"===i){if(a=(s=e.length)===t.length)for(;s--&&(a=y(e[s],t[s],n,r)););}else{var f,h=d.keys(e);if(s=h.length,a=d.keys(t).length===s)for(;s--&&(f=h[s],a=d.has(t,f)&&y(e[f],t[f],n,r)););}return n.pop(),r.pop(),a};d.isEqual=function(e,t){return y(e,t,[],[])},d.isEmpty=function(e){if(null==e)return!0;if(d.isArray(e)||d.isString(e)||d.isArguments(e))return 0===e.length;for(var t in e)if(d.has(e,t))return!1;return!0},d.isElement=function(e){return!(!e||1!==e.nodeType)},d.isArray=u||function(e){return"[object Array]"===c.call(e)},d.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},d.each(["Arguments","Function","String","Number","Date","RegExp"],function(e){d["is"+e]=function(t){return c.call(t)==="[object "+e+"]"}}),d.isArguments(arguments)||(d.isArguments=function(e){return d.has(e,"callee")}),"function"!=typeof/./&&(d.isFunction=function(e){return"function"==typeof e||!1}),d.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},d.isNaN=function(e){return d.isNumber(e)&&e!==+e},d.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===c.call(e)},d.isNull=function(e){return null===e},d.isUndefined=function(e){return void 0===e},d.has=function(e,t){return null!=e&&l.call(e,t)},d.noConflict=function(){return e._=t,this},d.identity=function(e){return e},d.constant=function(e){return function(){return e}},d.noop=function(){},d.property=function(e){return function(t){return t[e]}},d.matches=function(e){var t=d.pairs(e),n=t.length;return function(e){if(null==e)return!n;e=new Object(e);for(var r=0;n>r;r++){var i=t[r],o=i[0];if(i[1]!==e[o]||!(o in e))return!1}return!0}},d.times=function(e,t,n){var r=Array(Math.max(0,e));t=p(t,n,1);for(var i=0;e>i;i++)r[i]=t(i);return r},d.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},d.now=Date.now||function(){return(new Date).getTime()};var _={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},w=d.invert(_),k=function(e){var t=function(t){return e[t]},n="(?:"+d.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};d.escape=k(_),d.unescape=k(w),d.result=function(e,t){if(null!=e){var n=e[t];return d.isFunction(n)?e[t]():n}};var x=0;d.uniqueId=function(e){var t=++x+"";return e?e+t:t},d.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var S=/(.)^/,C={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},A=/\\|'|\r|\n|\u2028|\u2029/g,E=function(e){return"\\"+C[e]};d.template=function(e,t,n){!t&&n&&(t=n),t=d.defaults({},t,d.templateSettings);var r=RegExp([(t.escape||S).source,(t.interpolate||S).source,(t.evaluate||S).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,s,a){return o+=e.slice(i,a).replace(A,E),i=a+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var a=function(e){return s.call(this,e,d)},c=t.variable||"obj";return a.source="function("+c+"){\n"+o+"}",a},d.chain=function(e){var t=d(e);return t._chain=!0,t};var T=function(e){return this._chain?d(e).chain():e};d.mixin=function(e){d.each(d.functions(e),function(t){var n=d[t]=e[t];d.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),T.call(this,n.apply(d,e))}})},d.mixin(d),d.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];d.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],T.call(this,n)}}),d.each(["concat","join","slice"],function(e){var t=n[e];d.prototype[e]=function(){return T.call(this,t.apply(this._wrapped,arguments))}}),d.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return d})}.call(this),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(e){var t=jQuery.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(),function(e){"use strict";e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one("bsTransitionEnd",function(){n=!0});return setTimeout(function(){n||e(r).trigger(e.support.transition.end)},t),this},e(function(){e.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.VERSION="3.3.1",n.TRANSITION_DURATION=150,n.prototype.close=function(t){function r(){s.detach().trigger("closed.bs.alert").remove()}var i=e(this),o=i.attr("data-target");o||(o=(o=i.attr("href"))&&o.replace(/.*(?=#[^\s]*$)/,""));var s=e(o);t&&t.preventDefault(),s.length||(s=i.closest(".alert")),s.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r())};var r=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("bs.alert");i||r.data("bs.alert",i=new n(this)),"string"==typeof t&&i[t].call(r)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.bs.alert.data-api",t,n.prototype.close)}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.button"),o="object"==typeof t&&t;i||r.data("bs.button",i=new n(this,o)),"toggle"==t?i.toggle():t&&i.setState(t)})}var n=function(t,r){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.3.1",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",o=r.data();t+="Text",null==o.resetText&&r.data("resetText",r[i]()),setTimeout(e.proxy(function(){r[i](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));e&&this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=e(n.target);r.hasClass("btn")||(r=r.closest(".btn")),t.call(r,"toggle"),n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.carousel"),o=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t),s="string"==typeof t?t:o.slide;i||r.data("bs.carousel",i=new n(this,o)),"number"==typeof t?i.to(t):s?i[s]():o.interval&&i.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.1",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n="prev"==e?-1:1,r=(this.getItemIndex(t)+n)%this.$items.length;return this.$items.eq(r)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,r){var i=this.$element.find(".item.active"),o=r||this.getItemForDirection(t,i),s=this.interval,a="next"==t?"left":"right",c="next"==t?"first":"last",l=this;if(!o.length){if(!this.options.wrap)return;o=this.$element.find(".item")[c]()}if(o.hasClass("active"))return this.sliding=!1;var u=o[0],f=e.Event("slide.bs.carousel",{relatedTarget:u,direction:a});if(this.$element.trigger(f),!f.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=e(this.$indicators.children()[this.getItemIndex(o)]);h&&h.addClass("active")}var d=e.Event("slid.bs.carousel",{relatedTarget:u,direction:a});return e.support.transition&&this.$element.hasClass("slide")?(o.addClass(t),o[0].offsetWidth,i.addClass(a),o.addClass(a),i.one("bsTransitionEnd",function(){o.removeClass([t,a].join(" ")).addClass("active"),i.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(d)),s&&this.cycle(),this}};var r=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=r,this};var i=function(n){var r,i=e(this),o=e(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var s=e.extend({},o.data(),i.data()),a=i.attr("data-slide-to");a&&(s.interval=!1),t.call(o,s),a&&o.data("bs.carousel").to(a),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),function(e){"use strict";function t(t){var n,r=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(r)}function n(t){return this.each(function(){var n=e(this),i=n.data("bs.collapse"),o=e.extend({},r.DEFAULTS,n.data(),"object"==typeof t&&t);!i&&o.toggle&&"show"==t&&(o.toggle=!1),i||n.data("bs.collapse",i=new r(this,o)),"string"==typeof t&&i[t]()})}var r=function(t,n){this.$element=e(t),this.options=e.extend({},r.DEFAULTS,n),this.$trigger=e(this.options.trigger).filter('[href="#'+t.id+'"], [data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.1",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},r.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,i=this.$parent&&this.$parent.find("> .panel").children(".in, .collapsing");if(!(i&&i.length&&(t=i.data("bs.collapse"),t&&t.transitioning))){var o=e.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),t||i.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return a.call(this);var c=e.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",e.proxy(a,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[s](this.$element[0][c])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION):i.call(this)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,r){var i=e(r);this.addAriaAndCollapsedClass(t(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var i=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=r,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(r){var i=e(this);i.attr("data-target")||r.preventDefault();var o=t(i),s=o.data("bs.collapse")?"toggle":e.extend({},i.data(),{trigger:this});n.call(o,s)})}(jQuery),function(e){"use strict";function t(t){t&&3===t.which||(e(r).remove(),e(i).each(function(){var r=e(this),i=n(r),o={relatedTarget:this};i.hasClass("open")&&(i.trigger(t=e.Event("hide.bs.dropdown",o)),t.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger("hidden.bs.dropdown",o)))}))}function n(t){var n=t.attr("data-target");n||(n=(n=t.attr("href"))&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}var r=".dropdown-backdrop",i='[data-toggle="dropdown"]',o=function(t){e(t).on("click.bs.dropdown",this.toggle)};o.VERSION="3.3.1",o.prototype.toggle=function(r){var i=e(this);if(!i.is(".disabled, :disabled")){var o=n(i),s=o.hasClass("open");if(t(),!s){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var a={relatedTarget:this};if(o.trigger(r=e.Event("show.bs.dropdown",a)),r.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},o.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var r=e(this);if(t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled")){var o=n(r),s=o.hasClass("open");if(!s&&27!=t.which||s&&27==t.which)return 27==t.which&&o.find(i).trigger("focus"),r.trigger("click");var a=" li:not(.divider):visible a",c=o.find('[role="menu"]'+a+', [role="listbox"]'+a);if(c.length){var l=c.index(t.target);38==t.which&&l>0&&l--,40==t.which&&l<c.length-1&&l++,~l||(l=0),c.eq(l).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new o(this)),"string"==typeof t&&r[t].call(n)})},e.fn.dropdown.Constructor=o,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",i,o.prototype.toggle).on("keydown.bs.dropdown.data-api",i,o.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',o.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',o.prototype.keydown)}(jQuery),function(e){"use strict";function t(t,r){return this.each(function(){var i=e(this),o=i.data("bs.modal"),s=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);o||i.data("bs.modal",o=new n(this,s)),"string"==typeof t?o[t](r):s.show&&o.show(r)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.1",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var r=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var i=e.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.options.backdrop&&r.adjustBackdrop(),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in").attr("aria-hidden",!1),r.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});i?r.$element.find(".modal-dialog").one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&i;if(this.$backdrop=e('<div class="modal-backdrop '+i+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){r.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):s()}else t&&t()},n.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},n.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=e(this),i=r.attr("href"),o=e(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),s=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},o.data(),r.data());r.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),t.call(o,s,this)})}(jQuery),function(e){"use strict";var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.VERSION="3.3.1",t.TRANSITION_DURATION=150,t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},t.prototype.init=function(t,n,r){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);for(var i=this.options.trigger.split(" "),o=i.length;o--;){var s=i[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",c="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(c+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return(t=e.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n&&n.$tip&&n.$tip.is(":visible")?void(n.hoverState="in"):(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},t.prototype.show=function(){var n=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(n);var r=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(n.isDefaultPrevented()||!r)return;var i=this,o=this.tip(),s=this.getUID(this.type);this.setContent(),o.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&o.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,c=/\s?auto?\s?/i,l=c.test(a);l&&(a=a.replace(c,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element);var u=this.getPosition(),f=o[0].offsetWidth,h=o[0].offsetHeight;if(l){var d=a,p=this.options.container?e(this.options.container):this.$element.parent(),m=this.getPosition(p);a="bottom"==a&&u.bottom+h>m.bottom?"top":"top"==a&&u.top-h<m.top?"bottom":"right"==a&&u.right+f>m.width?"left":"left"==a&&u.left-f<m.left?"right":a,o.removeClass(d).addClass(a)}var g=this.getCalculatedOffset(a,u,f,h);this.applyPlacement(g,a);var v=function(){var e=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==e&&i.leave(i)};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",v).emulateTransitionEnd(t.TRANSITION_DURATION):v()}},t.prototype.applyPlacement=function(t,n){var r=this.tip(),i=r[0].offsetWidth,o=r[0].offsetHeight,s=parseInt(r.css("margin-top"),10),a=parseInt(r.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),t.top=t.top+s,t.left=t.left+a,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var c=r[0].offsetWidth,l=r[0].offsetHeight;"top"==n&&l!=o&&(t.top=t.top+o-l);var u=this.getViewportAdjustedDelta(n,t,c,l);u.left?t.left+=u.left:t.top+=u.top;var f=/top|bottom/.test(n),h=f?2*u.left-i+c:2*u.top-o+l,d=f?"offsetWidth":"offsetHeight";r.offset(t),this.replaceArrow(h,r[0][d],f)},t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(n){function r(){"in"!=i.hoverState&&o.detach(),i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),n&&n()}var i=this,o=this.tip(),s=e.Event("hide.bs."+this.type);return this.$element.trigger(s),s.isDefaultPrevented()?void 0:(o.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",r).emulateTransitionEnd(t.TRANSITION_DURATION):r(),this.hoverState=null,this)},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(t){var n=(t=t||this.$element)[0],r="BODY"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=e.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=r?{top:0,left:0}:t.offset(),s={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},a=r?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},i,s,a,o)},t.prototype.getCalculatedOffset=function(e,t,n,r){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},t.prototype.getViewportAdjustedDelta=function(e,t,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(e)){var a=t.top-o-s.scroll,c=t.top+o-s.scroll+r;a<s.top?i.top=s.top-a:c>s.top+s.height&&(i.top=s.top+s.height-c)}else{var l=t.left-o,u=t.left+o+n;l<s.left?i.left=s.left-l:u>s.width&&(i.left=s.left+s.width-u)}return i},t.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},t.prototype.getUID=function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var n=this;t&&((n=e(t.currentTarget).data("bs."+this.type))||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},t.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type)})};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),o="object"==typeof n&&n,s=o&&o.selector;(i||"destroy"!=n)&&(s?(i||r.data("bs.tooltip",i={}),i[s]||(i[s]=new t(this,o))):i||r.data("bs.tooltip",i=new t(this,o)),"string"==typeof n&&i[n]())})},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(jQuery),function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.1",t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},t.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("bs.popover"),o="object"==typeof n&&n,s=o&&o.selector;(i||"destroy"!=n)&&(s?(i||r.data("bs.popover",i={}),i[s]||(i[s]=new t(this,o))):i||r.data("bs.popover",i=new t(this,o)),"string"==typeof n&&i[n]())})},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery),function(e){"use strict";function t(n,r){var i=e.proxy(this.process,this);this.$body=e("body"),this.$scrollElement=e(e(n).is("body")?window:n),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",i),this.refresh(),this.process()}function n(n){return this.each(function(){var r=e(this),i=r.data("bs.scrollspy"),o="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new t(this,o)),"string"==typeof n&&i[n]()})}t.VERSION="3.3.1",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t="offset",n=0;e.isWindow(this.$scrollElement[0])||(t="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var r=this;this.$body.find(this.selector).map(function(){var r=e(this),i=r.data("target")||r.attr("href"),o=/^#./.test(i)&&e(i);return o&&o.length&&o.is(":visible")&&[[o[t]().top+n,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){r.offsets.push(this[0]),r.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=r)return s!=(e=o[o.length-1])&&this.activate(e);if(s&&t<i[0])return this.activeTarget=null,this.clear();for(e=i.length;e--;)s!=o[e]&&t>=i[e]&&(!i[e+1]||t<=i[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=r,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof t&&i[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.1",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");if(r||(r=(r=t.attr("href"))&&r.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),s=e.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),t.trigger(s),!s.isDefaultPrevented()&&!o.isDefaultPrevented()){var a=e(r);this.activate(t.closest("li"),n),this.activate(a,a.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},n.prototype.activate=function(t,r,i){function o(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var s=r.find("> .active"),a=i&&e.support.transition&&(s.length&&s.hasClass("fade")||!!r.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),s.removeClass("in")};var r=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=r,this};var i=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.affix"),o="object"==typeof t&&t;i||r.data("bs.affix",i=new n(this,o)),"string"==typeof t&&i[t]()})}var n=function(t,r){this.options=e.extend({},n.DEFAULTS,r),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.1",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,r){var i=this.$target.scrollTop(),o=this.$element.offset(),s=this.$target.height();if(null!=n&&"top"==this.affixed)return n>i&&"top";if("bottom"==this.affixed)return null!=n?!(i+this.unpin<=o.top)&&"bottom":!(e-r>=i+s)&&"bottom";var a=null==this.affixed,c=a?i:o.top;return null!=n&&n>=c?"top":null!=r&&c+(a?s:t)>=e-r&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),r=this.options.offset,i=r.top,o=r.bottom,s=e("body").height();"object"!=typeof r&&(o=i=r),"function"==typeof i&&(i=r.top(this.$element)),"function"==typeof o&&(o=r.bottom(this.$element));var a=this.getState(s,t,i,o);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var c="affix"+(a?"-"+a:""),l=e.Event(c+".bs.affix");if(this.$element.trigger(l),l.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(c).trigger(c.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-t-o})}};var r=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=r,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),r=n.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),t.call(n,r)})})}(jQuery),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.TradingView=e.TradingView||{})}(this,function(e){"use strict";function t(e,n){var i=r({},e);for(var o in n)"object"!=typeof e[o]||null===e[o]||Array.isArray(e[o])?void 0!==n[o]&&(i[o]=n[o]):i[o]=t(e[o],n[o]);return i}function n(){return"1.12 (internal id e816a7a6 @ 2018-03-26 08:21:11.837530)"}var r=Object.assign||function(e){for(var t,n=arguments,r=1,i=arguments.length;r<i;r++)for(var o in t=n[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i={mobile:{disabled_features:["left_toolbar","header_widget","timeframes_toolbar","edit_buttons_in_legend","context_menus","control_bar","border_around_the_chart"],enabled_features:[]}},o={width:800,height:500,symbol:"AA",interval:"D",timezone:"UTC",container_id:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"W"},{text:"1y",resolution:"W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[]}},s=function(){function e(e){if(this._id="tradingview_"+(1048576*(1+Math.random())|0).toString(16).substring(1),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!e.datafeed)throw new Error("Datafeed is not defined");if(this._options=t(o,e),e.preset){var n=i[e.preset];n?(void 0!==this._options.disabled_features?this._options.disabled_features=this._options.disabled_features.concat(n.disabled_features):this._options.disabled_features=n.disabled_features,void 0!==this._options.enabled_features?this._options.enabled_features=this._options.enabled_features.concat(n.enabled_features):this._options.enabled_features=n.enabled_features):console.warn("Unknown preset: `"+e.preset+"`")}this._create()}return e.prototype.onChartReady=function(e){this._ready?e.call(this):this._readyHandlers.push(e)},e.prototype.onGrayedObjectClicked=function(e){this._innerAPI().onGrayedObjectClicked(e)},e.prototype.onShortcut=function(e,t){this._innerWindow().createShortcutAction(e,t)},e.prototype.subscribe=function(e,t){this._innerAPI().subscribe(e,t)},e.prototype.unsubscribe=function(e,t){this._innerAPI().unsubscribe(e,t)},e.prototype.chart=function(e){return this._innerAPI().chart(e)},e.prototype.setLanguage=function(e){this.remove(),this._options.locale=e,this._create()},e.prototype.setSymbol=function(e,t,n){this._innerAPI().changeSymbol(e,t+"",n)},e.prototype.remove=function(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id];var e=this._getIFrameElement();e.contentWindow.destroyChart(),e.parentNode&&e.parentNode.removeChild(e)},e.prototype.closePopupsAndDialogs=function(){this._innerAPI().closePopupsAndDialogs()},e.prototype.selectLineTool=function(e){this._innerAPI().selectLineTool(e)},e.prototype.selectedLineTool=function(){return this._innerAPI().selectedLineTool()},e.prototype.save=function(e){this._innerAPI().saveChart(e)},e.prototype.load=function(e,t){this._innerAPI().loadChart({json:e,extendedData:t})},e.prototype.getSavedCharts=function(e){this._innerAPI().getSavedCharts(e)},e.prototype.loadChartFromServer=function(e){this._innerAPI().loadChartFromServer(e)},e.prototype.saveChartToServer=function(e,t,n,r){this._innerAPI().saveChartToServer(e,t,n,r)},e.prototype.removeChartFromServer=function(e,t){this._innerAPI().removeChartFromServer(e,t)},e.prototype.onContextMenu=function(e){this._innerAPI().onContextMenu(e)},e.prototype.createButton=function(e){return this._innerWindow().createButton(e)},e.prototype.showNoticeDialog=function(e){this._innerAPI().showNoticeDialog(e)},e.prototype.showConfirmDialog=function(e){this._innerAPI().showConfirmDialog(e)},e.prototype.showLoadChartDialog=function(){this._innerAPI().showLoadChartDialog()},e.prototype.showSaveAsChartDialog=function(){this._innerAPI().showSaveAsChartDialog()},e.prototype.symbolInterval=function(){return this._innerAPI().getSymbolInterval()},e.prototype.mainSeriesPriceFormatter=function(){return this._innerAPI().mainSeriesPriceFormatter()},e.prototype.getIntervals=function(){return this._innerAPI().getIntervals()},e.prototype.getStudiesList=function(){return this._innerAPI().getStudiesList()},e.prototype.addCustomCSSFile=function(e){this._innerWindow().addCustomCSSFile(e)},e.prototype.applyOverrides=function(e){this._options=t(this._options,{overrides:e}),this._innerWindow().applyOverrides(e)},e.prototype.applyStudiesOverrides=function(e){this._innerWindow().applyStudiesOverrides(e)},e.prototype.watchList=function(){return this._innerAPI().watchlist()},e.prototype.activeChart=function(){return this._innerAPI().activeChart()},e.prototype.chartsCount=function(){return this._innerAPI().chartsCount()},e.prototype.layout=function(){return this._innerAPI().layout()},e.prototype.setLayout=function(e){this._innerAPI().setLayout(e)},e.prototype._getIFrameElement=function(){var e=document.getElementById(this._id);if(null===e)throw new Error("There is no such iframe");return e},e.prototype._innerAPI=function(){return this._getIFrameElement().contentWindow.tradingViewApi},e.prototype._innerWindow=function(){return this._getIFrameElement().contentWindow},e.prototype._autoResizeChart=function(){this._options.fullscreen&&(this._getIFrameElement().style.height=window.innerHeight+"px")},e.prototype._create=function(){var e=this,t=this._render(),n=document.getElementById(this._options.container_id);if(null===n)throw new Error("There is no such element - #"+this._options.container_id);n.innerHTML=t;var r=this._getIFrameElement();(this._options.autosize||this._options.fullscreen)&&(r.style.width="100%",this._options.fullscreen||(r.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize();var i=function(){r.removeEventListener("load",i,!1),r.contentWindow.widgetReady(function(){e._ready=!0;for(var t=0,n=e._readyHandlers;t<n.length;t++)n[t].call(e);r.contentWindow.initializationFinished()})};r.addEventListener("load",i,!1)},e.prototype._render=function(){var e=window;e[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.customFormatters,brokerFactory:this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter},this._options.saved_data&&(e[this._id].chartContent={json:this._options.saved_data});var t=(this._options.library_path||"")+"static/tv-chart.e816a7a6edc9de3ed709.html#localserver=1&symbol="+encodeURIComponent(this._options.symbol)+"&interval="+encodeURIComponent(this._options.interval)+(this._options.timeframe?"&timeframe="+encodeURIComponent(this._options.timeframe):"")+(this._options.toolbar_bg?"&toolbarbg="+this._options.toolbar_bg.replace("#",""):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.indicators_file_name?"&indicatorsFile="+encodeURIComponent(this._options.indicators_file_name):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+this._options.debug+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"");return'<iframe id="'+this._id+'" name="'+this._id+'"  src="'+t+'"'+(this._options.autosize||this._options.fullscreen?"":' width="'+this._options.width+'" height="'+this._options.height+'"')+' frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;"></iframe>'},e}();window.TradingView=window.TradingView||{},window.TradingView.version=n,e.version=n,e.onready=function(e){window.addEventListener("DOMContentLoaded",e,!1)},e.widget=s,Object.defineProperty(e,"__esModule",{value:!0})}),jQuery(document).ready(function(){"use strict";Common.init()});var Common={init:function(){Common.runFullScreen(),Common.setToastrOptions(),Common.runClipboard(),Common.runTooltips(),Common.runPriceQuickSetting()},runFullScreen:function(){var e=$("html"),t=window.navigator.userAgent,n=t.indexOf("MSIE "),r=t.indexOf("Trident/");(n>-1||r>-1)&&(e=$("body"));var i=$.fullscreen.isNativelySupported();$(".request-fullscreen").on("click",function(){i?$.fullscreen.isFullScreen()?($(this).removeClass("active"),$.fullscreen.exit()):($(this).addClass("active"),e.fullscreen({overflow:"auto"})):alert("Your browser does not support fullscreen mode.")})},setToastrOptions:function(){toastr.options={closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!0,positionClass:"toast-bottom-right",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"3500",extendedTimeOut:"2000",showEasing:"swing",hideEasing:"linear",showMethod:"slideDown",hideMethod:"slideUp"}},runClipboard:function(){var e=new Clipboard(".clipboard-copy");e.on("success",function(e){console.log("Clipboard copy:",e.text);var t=e.trigger.getAttribute("data-clipboard-name")?e.trigger.getAttribute("data-clipboard-name")+" ":"";toastr.info("",t+"Copied"),e.clearSelection()}),e.on("error",function(e){console.error("Clipboard copy error:",e.action)})},runTooltips:function(){$("body").tooltip({selector:"[data-toggle=tooltip]",container:"body"})},runPriceQuickSetting:function(){$("#content").on("click","td.price-quick-set",function(e){e.stopPropagation();var t=$(this).html();$("#tabTradeBuy").attr("class").indexOf("active")>-1?$("#tabTradeBuy").find("input").eq(0).val(t):$("#tabTradeSell").find("input").eq(0).val(t)})},alertWarningModal:function(e){$("#alertWarningModal").find(".modal-body").html('<p class="fw600">'+e+"</p>"),$("#alertWarningModal").modal("show")},alertErrorModal:function(e){$("#alertErrorModal").find(".modal-body").html('<p class="fw600">'+e+"</p>"),$("#alertErrorModal").modal("show")},alertInteractiveError:function(e){try{var t=[];t.push('<p class="fw600">Error occurs when sending the Ethereum transaction, please try again or contact the administrator.</p>'),t.push('<p class="mt10 mbn fw600">ERROR MESSAGE:</p>'),t.push(e.toString().split("\n").splice(0,1)),Common.alertErrorModal(t.join(""))}catch(t){Common.alertErrorModal(e)}},showTransactionModal:function(e,t){var n="transaction";switch(e){case"deposit":n="transaction of deposit";break;case"withdraw":n="transaction of withdrawal";break;case"cancelOrder":n="transaction to cancel an order";break;case"trade":n="transaction of trade"}var r=[];r.push('<p class="fw600">You just sent an Ethereum '+n+", please be patient. Do not initiate more transactions while the process is ongoing.</p>"),r.push('<p class="fw600">You can watch the status of the transaction on "TRANSACTIONS" tab or track its progress on Etherscan:</p>'),t.forEach(function(e){var t=config.etherScanBaseUrl+"/tx/"+e;r.push('<p class="fw600"><a href="'+t+'" target="_blank">'+e+"</a></p>")}),$("#transactionModal").find(".modal-body").html(r.join("")),$("#transactionModal").modal("show")},autoScrollOrderBook:function(){setTimeout(function(){if($(".height-order-book").length>0&&$("#orderBookDivider").length>0){var e=$("#orderBookDivider").position().top+$("#orderBookDivider")[0].clientHeight/2-$(".height-order-book")[0].clientHeight/2;$(".height-order-book")[0].scrollTop=$(".height-order-book")[0].scrollTop+e}},300)},getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e))+e},notifySound:function(){var e=new Audio;e.src="assets/sounds/notify.mp3",e.autoplay=!0}};(function(){return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){return i(t[s][1][e]||e)},u,u.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}})()({1:[function(e,t,n){(function(t){var n,r,i=e("avalon2"),o=e("bluebird"),s=e("store"),a=e("visibilityjs/lib/visibility.core.js"),c=e("socket.io-client"),l=e("web3"),u=e("web3-provider-engine/zero.js"),f=e("ethereumjs-util"),h=e("ethereumjs-abi"),d=e("ethereumjs-tx"),p=e("keythereum"),m=e("bignumber.js"),g=e("jstimezonedetect"),v=e("dateformat"),b=e("sprintf-js").vsprintf,y=e("../../config/contract/exchange.sol.json"),_=e("../../config/contract/token.sol.json");jQuery(document).ready(function(){"use strict";i.ready(function(){I.init()})}),m.config({ROUNDING_MODE:m.ROUND_DOWN,EXPONENTIAL_AT:[-1e3,1e3]}),i.config({debug:!0}),i.filters.balanceFormat=function(e,t,n){return t=void 0===t?18:t,n=void 0===n?3:n,new m(e).div("1e"+t).decimalPlaces(n).toString()};var w=i.define({$id:"pageVm",theme:void 0===s.get("theme")?config.defaultTheme:s.get("theme"),language:void 0===s.get("language")?config.defaultLanguage:s.get("language"),notifySound:void 0===s.get("notify_sound")||s.get("notify_sound"),socketConnectionState:!1,socketLoadingState:{getTickers:!0,getMarket:!0,getMine:!0},displayInContent:1,contractAddress:config.contractAddress,ethNetwork:config.ethNetwork,ethBlockNumber:0,ethConnection:{provider:"",client:""},customGasPrice:void 0===s.get("custom_gas_price")?21:s.get("custom_gas_price"),etherScanBaseUrl:config.etherScanBaseUrl,feeTake:config.feeTake,feeMake:config.feeMake,pair:{token:{address:"",name:"",symbol:"",decimals:18,totalSupply:"",website:"",logo:"",intro:""},base:{address:"",name:"",symbol:"",decimals:18}},ethAccounts:void 0===s.get("eth_accounts")?[]:s.get("eth_accounts"),ethSelectedAddress:void 0===s.get("eth_selected_address")?"":s.get("eth_selected_address"),ethSelectedAccountBalances:{exchange:{base:"",token:""},wallet:{base:"",token:""}},$computed:{ethAddresses:function(){for(var e=[],t=0;t<this.ethAccounts.length;t++)e[t]=this.ethAccounts[t].address;return e},ethSelectedAccount:function(){for(var e={},t=0;t<this.ethAccounts.length;t++)if(this.ethSelectedAddress==this.ethAccounts[t].address){e=this.ethAccounts[t];break}return e}}});w.$watch("ethSelectedAddress",function(e,t){I.dataTableOrderBook.highlightMyOrder()}),w.$watch("ethBlockNumber",function(e,t){console.time("blockNumberChange"),I.dataTableMyOrders.checkExpireIn(),I.dataTableOrderBook.checkOrderBook(),console.timeEnd("blockNumberChange")});var k=i.define({$id:"navigationVm",displayInNavigation:void 0===s.get("display_in_navigation")?1:s.get("display_in_navigation"),ethPrice:"loading",clickChangeTheme:function(){var e="dark"==w.theme?"light":"dark";w.theme=e,s.set("theme",e)},clickChangeNotifySound:function(){var e=!w.notifySound;w.notifySound=e,s.set("notify_sound",e)},clickChangeLanguage:function(e){w.language=e,s.set("language",e)},clickDisplayEthPrice:function(){this.displayInNavigation=1,s.set("display_in_navigation",1)},clickDisplayBlockNumber:function(){this.displayInNavigation=2,s.set("display_in_navigation",2)},clickShowNewAccountModal:function(){$("#newAccountModal").modal()},clickShowImportAccountModal:function(){$("#importAccountModal").modal()},clickShowAccountsManagement:function(){w.displayInContent=2},clickSwitchAccount:function(e){if("MetaMask"==w.ethConnection.client&&"MetaMask"==w.ethAccounts[e].client&&"MetaMask"==w.ethSelectedAccount.client&&w.ethAccounts[e].address!=w.ethSelectedAddress)return Common.alertWarningModal("You are using MetaMask, please change the account in the MetaMask plugin firstly."),!1;I.switchSelectedAccount(w.ethAccounts[e].address)}}),x=i.define({$id:"balanceVm",formBalance:{deposit:{token:{inputAmount:{value:"",error:""},btnSend:{disabled:!0,loading:!1}},base:{inputAmount:{value:"",error:""},btnSend:{disabled:!0,loading:!1}}},withdraw:{token:{inputAmount:{value:"",error:""},btnSend:{disabled:!0,loading:!1}},base:{inputAmount:{value:"",error:""},btnSend:{disabled:!0,loading:!1}}}},clickEnterMaxBalance:function(e,t){e="deposit"==e?"deposit":"withdraw",t="token"==t?"token":"base";var n="deposit"==e?"wallet":"exchange";try{var r=new m(w.ethSelectedAccountBalances[n][t]).div("1e"+w.pair[t].decimals).decimalPlaces(w.pair[t].decimals);if(r.isNaN()||!r.isFinite()||r<=0)return!1;x.formBalance[e][t].inputAmount.value=r.toString()}catch(e){}},clickDepositToken:function(){I.doDeposit("token")},clickDepositBase:function(){I.doDeposit("base")},clickWithdrawToken:function(){I.doWithdraw("token")},clickWithdrawBase:function(){I.doWithdraw("base")},validateFormBalance:function(e,t){var n="deposit"==e?"wallet":"exchange";try{if(""==x.formBalance[e][t].inputAmount.value)return x.formBalance[e][t].inputAmount.error="",x.formBalance[e][t].btnSend.disabled=!0,!1;var r=new m(x.formBalance[e][t].inputAmount.value).times("1e"+w.pair[t].decimals).integerValue();if(r.isNaN()||!r.isFinite()||r<=0)return x.formBalance[e][t].inputAmount.error="Invalid amount",x.formBalance[e][t].btnSend.disabled=!0,!1;if(r.gt(w.ethSelectedAccountBalances[n][t]))return x.formBalance[e][t].inputAmount.error="Insufficient balance",x.formBalance[e][t].btnSend.disabled=!0,!1;x.formBalance[e][t].inputAmount.error="",x.formBalance[e][t].btnSend.disabled=!1}catch(n){x.formBalance[e][t].inputAmount.error="",x.formBalance[e][t].btnSend.disabled=!0}}});x.$watch("formBalance.deposit.token.inputAmount.value",function(e,t){x.validateFormBalance("deposit","token")}),x.$watch("formBalance.deposit.base.inputAmount.value",function(e,t){x.validateFormBalance("deposit","base")}),x.$watch("formBalance.withdraw.token.inputAmount.value",function(e,t){x.validateFormBalance("withdraw","token")}),x.$watch("formBalance.withdraw.base.inputAmount.value",function(e,t){x.validateFormBalance("withdraw","base")});i.define({$id:"chartVm"});var S=i.define({$id:"tradeVm",formPlaceOrder:{buy:{inputPrice:{value:"",error:""},inputAmount:{value:"",error:""},inputTotal:{value:"",error:""},inputExpires:{value:"10000",error:""},btnPlaceOrder:{disabled:!0,loading:!1}},sell:{inputPrice:{value:"",error:""},inputAmount:{value:"",error:""},inputTotal:{value:"",error:""},inputExpires:{value:"10000",error:""},btnPlaceOrder:{disabled:!0,loading:!1}}},validateFormPlaceOrder:function(e,t){function n(t){if(""==S.formPlaceOrder[e][t].value)return S.formPlaceOrder[e][t].error="",!1;try{var n=new m(S.formPlaceOrder[e][t].value);return(n="inputExpires"==t?n.integerValue():n).isNaN()||!n.isFinite()?(S.formPlaceOrder[e][t].error="inputExpires"==t?"Invalid number":"Invalid integer",!1):"inputExpires"==t&&n.lt(100)?(S.formPlaceOrder[e][t].error="Must be at least 100",!1):"buy"==e&&"inputTotal"==t&&n.times("1e"+w.pair.base.decimals).integerValue().gt(w.ethSelectedAccountBalances.exchange.base)?(S.formPlaceOrder[e][t].error="Insufficient balance",!1):"sell"==e&&"inputAmount"==t&&n.times("1e"+w.pair.token.decimals).integerValue().gt(w.ethSelectedAccountBalances.exchange.token)?(S.formPlaceOrder[e][t].error="Insufficient balance",!1):"inputTotal"==t&&n.lt(.001)?(S.formPlaceOrder[e][t].error="Must be at least 0.001",!1):!n.lte(0)||(S.formPlaceOrder[e][t].error="Must > 0",!1)}catch(n){return S.formPlaceOrder[e][t].error="inputExpires"==t?"Invalid number":"Invalid integer",!1}}function r(t,n){S.formPlaceOrder[e].btnPlaceOrder={disabled:t,loading:n},S.formPlaceOrder[e].inputPrice.error="",S.formPlaceOrder[e].inputAmount.error="",S.formPlaceOrder[e].inputTotal.error="",S.formPlaceOrder[e].inputExpires.error=""}"inputPrice"!=t&&"inputAmount"!=t||function(){try{var t=new m(S.formPlaceOrder[e].inputPrice.value).decimalPlaces(9);if(console.log(e,"price",t.toString()),t.isNaN()||!t.isFinite()||t<=0)return!1;var n=w.pair.token.decimals>8?8:w.pair.token.decimals,r=new m(S.formPlaceOrder[e].inputAmount.value).decimalPlaces(n).times("1e"+w.pair.token.decimals).integerValue();if(console.log(e,"amount",r.toString()),r.isNaN()||!r.isFinite()||r<=0)return!1;var i=r.times(t).div("1e"+w.pair.token.decimals).decimalPlaces(w.pair.base.decimals);console.log(e,"total",i.toString()),S.formPlaceOrder[e].inputTotal.value=i.toString()}catch(e){}}(),r(!0,!1),n(t)&&n("inputPrice")&&n("inputAmount")&&n("inputTotal")&&n("inputExpires")&&(console.log("formPlaceOrder validate success",e),r(!1,!1))},clickEnterBuyAmountByPercentage:function(e){try{var t=new m(S.formPlaceOrder.buy.inputPrice.value).decimalPlaces(9).times("1e"+w.pair.base.decimals).integerValue();if(t.isNaN()||!t.isFinite()||t<=0)return!1;var n=new m(w.ethSelectedAccountBalances.exchange.base);if(n.isNaN()||!n.isFinite()||n<=0)return!1;var r=n.times(e).div(100).div(t).toFixed(3);S.formPlaceOrder.buy.inputAmount.value=r.toString()}catch(e){}},clickEnterSellAmountByPercentage:function(e){try{var t=new m(w.ethSelectedAccountBalances.exchange.token);if(t.isNaN()||!t.isFinite()||t<=0)return!1;var n=t.times(e).div(100).div("1e"+w.pair.token.decimals).toFixed(3);S.formPlaceOrder.sell.inputAmount.value=n.toString()}catch(e){}},clickPlaceBuyOrder:function(){I.doPlaceOrder("buy")},clickPlaceSellOrder:function(){I.doPlaceOrder("sell")}});S.$watch("formPlaceOrder.buy.inputPrice.value",function(e,t){S.validateFormPlaceOrder("buy","inputPrice")}),S.$watch("formPlaceOrder.buy.inputAmount.value",function(e,t){S.validateFormPlaceOrder("buy","inputAmount")}),S.$watch("formPlaceOrder.buy.inputExpires.value",function(e,t){S.validateFormPlaceOrder("buy","inputExpires")}),S.$watch("formPlaceOrder.sell.inputPrice.value",function(e,t){S.validateFormPlaceOrder("sell","inputPrice")}),S.$watch("formPlaceOrder.sell.inputAmount.value",function(e,t){S.validateFormPlaceOrder("sell","inputAmount")}),S.$watch("formPlaceOrder.sell.inputExpires.value",function(e,t){S.validateFormPlaceOrder("sell","inputExpires")});i.define({$id:"accountVm",clickHideAccountsManagement:function(){w.displayInContent=1},clickShowPrivateKey:function(e){$(event.target).attr("class").indexOf("fa-eye-slash")>-1?($(event.target).removeClass("fa-eye-slash"),$(event.target).addClass("fa-eye"),$(event.target).next().removeClass("text-blur"),$(event.target).next().html(w.ethAccounts[e].privateKey)):($(event.target).removeClass("fa-eye"),$(event.target).addClass("fa-eye-slash"),$(event.target).next().addClass("text-blur"),$(event.target).next().html("0000000000000000000000000000000000000000000000000000000000000000"))},clickDeleteAccount:function(e){w.ethAccounts[e]&&I.showNotification("success",I.deleteEthAccountByIndex(e),"Account Deleted")}});var C=i.define({$id:"newAccountModalVm",newAccountObject:{},clickCreateNewAccount:function(){if(!C.newAccountObject.address){var e=I.generateEthAccount();C.newAccountObject=e,I.addAndStoreEthAccount(e.address,e.privateKey,"Exchange"),console.log("Add a new address:"+e.address),I.switchSelectedAccount(e.address),I.showNotification("success","Please backup the private key","New Account Created")}},clickCloseNewAccountModal:function(){console.log("clickCloseNewAccountModal"),setTimeout(function(){C.newAccountObject={}},160)}}),A=i.define({$id:"importAccountModalVm",formImportAccount:{inputPrivateKey:{value:"",error:""},btnImportAccount:{disabled:!0}},clickImportAccount:function(){console.log("clickImportAccount");var e=A.formImportAccount.inputPrivateKey.value.trim().toLowerCase();"0x"==e.slice(0,2)&&(e=e.slice(2));var t=f.toBuffer(f.addHexPrefix(e)),n=f.privateToAddress(t),r=f.toChecksumAddress(n.toString("hex")).toLowerCase();if(!f.isValidAddress(r))return I.showNotification("error","","Invalid private key"),!1;w.ethAddresses.indexOf(r)>-1?(console.log("Duplicate address:"+r),I.showNotification("error","","Duplicate Address")):(I.addAndStoreEthAccount(r,e,"Exchange"),console.log("Add a new address:"+r),I.switchSelectedAccount(r),I.showNotification("success",r,"New Account Imported")),A.formImportAccount.inputPrivateKey={value:"",error:""},A.formImportAccount.btnImportAccount.disabled=!0,$("#importAccountModal").modal("hide")},clickResetFormImportAccount:function(){A.formImportAccount.inputPrivateKey={value:"",error:""},A.formImportAccount.btnImportAccount.disabled=!0}});A.$watch("formImportAccount.inputPrivateKey.value",function(e,t){try{if(""==e)return A.formImportAccount.inputPrivateKey.error="",A.formImportAccount.btnImportAccount.disabled=!0,!1;var n=A.formImportAccount.inputPrivateKey.value.trim().toLowerCase();"0x"==n.slice(0,2)&&(n=n.slice(2));var r=f.toBuffer(f.addHexPrefix(n));if(!f.isValidPrivate(r)||n.length<64)return A.formImportAccount.inputPrivateKey.error="Invalid private key",A.formImportAccount.btnImportAccount.disabled=!0,!1;A.formImportAccount.inputPrivateKey.error="",A.formImportAccount.btnImportAccount.disabled=!1}catch(e){A.formImportAccount.inputPrivateKey.error="",A.formImportAccount.btnImportAccount.disabled=!0}});var E=i.define({$id:"takeOrderModalVm",orderObject:{},formTakeOrder:{inputAmount:{value:"",error:""},inputTotal:{value:"",error:""},inputFee:{value:"",error:""},btnTakeOrder:{disabled:!0,loading:!1}},validateFormTakeOrder:function(){function e(e){if(""==E.formTakeOrder[e].value)return E.formTakeOrder[e].error="",!1;try{var t=new m(E.formTakeOrder[e].value);if(t.isNaN()||!t.isFinite())return E.formTakeOrder[e].error="Invalid number",!1;if("inputAmount"==e){var n="buy"==E.orderObject.orderType?E.orderObject.availableVolumeGet:E.orderObject.availableVolumeGive;if(t.times("1e"+w.pair.token.decimals).integerValue().gt(n))return E.formTakeOrder[e].error="Must <= "+new m(n).div("1e"+w.pair.token.decimals).decimalPlaces(w.pair.token.decimals),!1}if("inputTotal"==e&&t.lt(.001))return E.formTakeOrder[e].error="Must be at least 0.001",!1;if("inputFee"==e&&"buy"==E.orderObject.orderType)if(t.plus(E.formTakeOrder.inputAmount.value).times("1e"+w.pair.token.decimals).integerValue().gt(w.ethSelectedAccountBalances.exchange.token))return E.formTakeOrder.inputAmount.error="Insufficient balance (amount + fee)",!1;if("inputFee"==e&&"sell"==E.orderObject.orderType)if(t.plus(E.formTakeOrder.inputTotal.value).times("1e"+w.pair.base.decimals).integerValue().gt(w.ethSelectedAccountBalances.exchange.base))return E.formTakeOrder.inputTotal.error="Insufficient balance (total + fee)",!1;return"inputFee"==e||!t.lte(0)||(E.formTakeOrder[e].error="Must > 0",!1)}catch(t){return console.log(t),E.formTakeOrder[e].error="Invalid number",!1}}function t(e,t){E.formTakeOrder.btnTakeOrder={disabled:e,loading:t},E.formTakeOrder.inputAmount.error="",E.formTakeOrder.inputTotal.error="",E.formTakeOrder.inputFee.error=""}!function(){try{var e,t,n=w.pair.token.decimals>8?8:w.pair.token.decimals,r=new m(E.formTakeOrder.inputAmount.value).decimalPlaces(n).times("1e"+w.pair.token.decimals).integerValue();if(r.isNaN()||!r.isFinite()||r<=0)return!1;"buy"==E.orderObject.orderType?(e=new m(E.orderObject.amountGive).times(r).div(E.orderObject.amountGet).integerValue(),t=r.times(config.feeTake).integerValue(),E.formTakeOrder.inputFee.value=t.div("1e"+w.pair.token.decimals).toString()):(e=new m(E.orderObject.amountGet).times(r).div(E.orderObject.amountGive).integerValue(m.ROUND_UP),t=e.times(config.feeTake).integerValue(),E.formTakeOrder.inputFee.value=t.div("1e"+w.pair.base.decimals).toString()),E.formTakeOrder.inputTotal.value=e.div("1e"+w.pair.base.decimals).toString()}catch(e){}}(),t(!0,!1),e("inputAmount")&&e("inputTotal")&&e("inputFee")&&t(!1,!1)},clickTakeOrder:function(){I.doTakeOrder()}});E.$watch("formTakeOrder.inputAmount.value",function(e,t){E.validateFormTakeOrder()});var T=i.define({$id:"cancelOrderModalVm",orderObject:{},clickCancelOrder:function(){I.doCancelOrder()}}),I={init:function(){this.initDisplay(),this.checkExchangePair().then(this.loadWeb3).then(this.connectSocket).then(this.checkEthNetwork).then(this.initContract).then(this.checkExchangeToken).then(this.scanWalletAccounts).then(this.initAccountsData).catch(function(e){console.error(e)})},initDisplay:function(){this.getEthPrice(),this.initGasPriceSlider()},getEthPrice:function(){$.ajax({url:"https://api.infura.io/v1/ticker/ethusd/full",method:"GET",dataType:"JSON",timeout:1e4,success:function(e){if(e.tickers&&e.tickers.length>0)for(var t=0;t<e.tickers.length;t++)if("bitfinex"==e.tickers[t].exchange){k.ethPrice="$"+e.tickers[t].bid.toFixed(2);break}},complete:function(){setTimeout(I.getEthPrice,config.intervalRefreshEthPrice)}})},initGasPriceSlider:function(){$("#gasPriceSlider").slider({range:"min",min:1,max:100,value:w.customGasPrice,slide:function(e,t){w.customGasPrice=t.value,s.set("custom_gas_price",t.value)}}),21==w.customGasPrice&&$.ajax({url:"https://api.infura.io/v1/jsonrpc/"+config.ethNetwork+"/eth_gasPrice",method:"GET",dataType:"JSON",timeout:12e4,success:function(e){if(e.result){var t=parseInt(new m(e.result).div("1e9").toString());w.customGasPrice=t,$("#gasPriceSlider").slider({value:t})}},error:function(e,t,n){"timeout"!=t||$.ajax(this)}})},loadWeb3:function(){return new o(function(e){if(console.log("Begin: loadWeb3"),console.time("loadWeb3"),"undefined"!=typeof web3)web3=new l(web3.currentProvider),w.ethConnection.provider=web3.currentProvider.constructor.name,w.ethConnection.client=I.detectEthClient();else if(web3=new l(new l.providers.HttpProvider(config.defaultEthHttpProvider)),w.ethConnection.provider=web3.currentProvider.constructor.name,w.ethConnection.client="LocalRPC",!web3.isConnected()){var t=u({getAccounts:function(){},rpcUrl:"https://"+config.ethNetwork+".infura.io/"+config.infuraKey});web3.setProvider(t),w.ethConnection.provider="ZeroClientProvider",w.ethConnection.client="Exchange"}console.log("Web3 Connection:",w.ethConnection.$model,web3),console.timeEnd("loadWeb3"),e()})},detectEthClient:function(){if(!0===web3.currentProvider.isMetaMask)return"MetaMask";var e="Wallet";switch(web3.currentProvider.constructor.name){case"MetamaskInpageProvider":e="MetaMask";break;case"EthereumProvider":e="Mist";break;case"o":e="Parity"}return e},checkExchangePair:function(){return new o(function(e){if(console.log("Begin checkExchangePair"),console.time("checkExchangePair"),w.pair.token=config.tokens[config.defaultPair.token],w.pair.base=config.bases[config.defaultPair.base],window.location.hash&&window.location.hash.length>0){var t=window.location.hash.toUpperCase().replace("#","").split("-");2==t.length&&t[0].length>0&&t[1].length>0&&t[1]in config.bases&&t[0]!=t[1]&&(f.isValidAddress(t[0].toLowerCase())?(w.pair.token={address:t[0].toLowerCase(),name:"",symbol:"...",decimals:0,totalSupply:"",website:"",logo:"",intro:""},w.pair.base=config.bases[t[1]]):t[0]in config.tokens&&(w.pair.token=config.tokens[t[0]],w.pair.base=config.bases[t[1]]))}""!==w.pair.token.totalSupply?(window.location.hash="#"+w.pair.token.symbol+"-"+w.pair.base.symbol,document.title=w.pair.token.symbol+"/"+w.pair.base.symbol+" - ETHERC"):window.location.hash="#"+w.pair.token.address+"-"+w.pair.base.symbol,console.log("Current ExchangePair:",w.pair.$model),console.timeEnd("checkExchangePair"),e()})},switchExchangePair:function(e){if(e==w.pair.token.symbol)return console.log("switchExchangePair: exchangePair not changed",e),!1;e in config.tokens?(console.log("switchExchangePair:",e),w.pair.token=config.tokens[e],window.location.hash="#"+w.pair.token.symbol+"-"+w.pair.base.symbol,document.title=w.pair.token.symbol+"/"+w.pair.base.symbol+" - ETHERC",w.socketLoadingState.getMarket=!0,n.emit("get market",{tokenAddress:w.pair.token.address}),w.socketLoadingState.getMine=!0,n.emit("get mine",{userAddress:w.ethSelectedAddress,tokenAddress:w.pair.token.address}),w.ethSelectedAccountBalances={exchange:{base:"",token:""},wallet:{base:"",token:""}},I.updateSelectedAccountAllBalances()):console.log("switchExchangePair: unknown symbol",e)},scanWalletAccounts:function(){return new o(function(e){if(console.log("Begin: scanWalletAccounts"),console.time("scanWalletAccounts"),"Exchange"==w.ethConnection.client)return console.log("scanWalletAccounts skipped, because user is using ZeroClientProvider"),console.timeEnd("scanWalletAccounts"),void e();I.web3Interaction("eth","getAccounts",null,function(t){if(!t||0==t.length)return Common.alertWarningModal("You are using "+w.ethConnection.client+" but you don't unlock it. Please unlock the wallet and refresh the page."),!1;console.log("Scan Wallet Accounts Result:",t);for(var n=0;n<t.length;n++)w.ethAddresses.indexOf(t[n])>-1?console.log("Duplicate address:",t[n]):(I.addAndStoreEthAccount(t[n],"",w.ethConnection.client),console.log("Add a new address:",t[n]));w.ethSelectedAddress=t.pop(),s.set("eth_selected_address",w.ethSelectedAddress),console.timeEnd("scanWalletAccounts"),e()},function(){Common.alertWarningModal("Error occurs during connection to Ethereum network, please refresh the page and try again.")})})},checkEthNetwork:function(){return new o(function(e){if(console.log("Begin: checkEthNetwork"),console.time("checkEthNetwork"),"Exchange"==w.ethConnection.client)return console.log("checkEthNetwork skipped, because user is using ZeroClientProvider"),console.timeEnd("checkEthNetwork"),void e();I.web3Interaction("version","getNetwork",null,function(t){if(console.log("Ethereum Network Version:",t),t&&1!==parseInt(t)&&"mainnet"==config.ethNetwork)return Common.alertWarningModal("You connected to the Ethereum testnet. Please connect to the Ethereum mainnet and refresh the page."),!1;console.timeEnd("checkEthNetwork"),e()},function(e){console.error(e),Common.alertWarningModal("Error occurs during connecting to Ethereum network, please refresh the page and try again.")})})},checkExchangeToken:function(){return new o(function(e){if(console.log("Begin: checkExchangeToken"),console.time("checkExchangeToken"),""!==w.pair.token.totalSupply)return console.log("checkExchangeToken skipped, because user is trading with token symbol"),console.timeEnd("checkExchangeToken"),void e();I.web3TokenInteraction(w.pair.token.address,"totalSupply","call",null,function(t){t.gt(0)?I.web3TokenInteraction(w.pair.token.address,"decimals","call",null,function(n){w.pair.token.decimals=parseInt(n),w.pair.token.totalSupply=new m(t).div("1e"+parseInt(n)).toString(),console.timeEnd("checkExchangeToken"),e()},function(e){Common.alertWarningModal("Error occurs during interacting with the smart contract, please refresh the page and try again."),console.error(e)}):Common.alertWarningModal("The token address you typed is invalid or it's not a valid ERC20 token, please check it and try again.")},function(e){Common.alertWarningModal("Error occurs during interacting with the smart contract, please refresh the page and try again."),console.error(e)}),I.web3TokenInteraction(w.pair.token.address,"symbol","call",null,function(e){w.pair.token.symbol=e,document.title=w.pair.token.symbol+"/"+w.pair.base.symbol+" - ETHERC"}),I.web3TokenInteraction(w.pair.token.address,"name","call",null,function(e){w.pair.token.name=e})})},initContract:function(){return new o(function(e){console.log("Begin: initContract"),console.time("initContract"),r=web3.eth.contract(y).at(config.contractAddress),I.refreshEthBlockNumber(),console.timeEnd("initContract"),e()})},connectSocket:function(){return new o(function(e){console.log("Begin: connectSocket"),console.time("connectSocket"),void 0===n&&(n=c.connect(config.socketUrl)),n.on("connect",function(){w.socketConnectionState=!0,console.log("Socket Connected:",new Date),n.emit("get tickers"),n.emit("get market",{tokenAddress:w.pair.token.address}),console.timeEnd("connectSocket"),e()}),n.on("reconnect",function(){w.socketConnectionState=!0,console.log("Socket Reconnected:",new Date)}),n.on("disconnect",function(e){w.socketConnectionState=!1,console.log("Socket Disconnected:",new Date,e)}),I.socketEvents()})},socketEvents:function(){n.on("welcome message",function(e){console.log("[SOCKET MESSAGE]","welcome message:",e)}),n.on("return tickers",function(e){console.log("[SOCKET MESSAGE]","return tickers",e),console.time("returnTickers"),w.socketLoadingState.getTickers=!1,I.dataTableMarkets.setData(e),console.timeEnd("returnTickers")}),n.on("return market",function(e){if(console.log("[SOCKET MESSAGE]","return market",e),e.token.address!=w.pair.token.address)return!1;console.time("returnMarket"),w.socketLoadingState.getMarket=!1,I.dataTableOrderBook.setData(e.orders),Common.autoScrollOrderBook(),I.dataTableAllTrades.setData(e.trades),console.timeEnd("returnMarket"),I.tvChart.draw(w.pair.$model.token)}),n.on("return mine",function(e){if(console.log("[SOCKET MESSAGE]","return mine",e),e.token.address!=w.pair.token.address||e.user.address!=w.ethSelectedAddress)return!1;console.time("returnMine"),w.socketLoadingState.getMine=!1,I.dataTableMyOrders.setData(e.orders),I.dataTableMyTrades.setData(e.trades),I.dataTableMyFunds.setData(e.funds),console.timeEnd("returnMine")}),n.on("new order",function(e){console.log("[SOCKET MESSAGE]","new order",e),I.socketNewOrderEventHandler(e)}),n.on("order update",function(e){console.log("[SOCKET MESSAGE]","order update",e),I.socketOrderUpdateEventHandler(e)}),n.on("order cancel",function(e){console.log("[SOCKET MESSAGE]","order cancel",e),I.socketOrderCancelEventHandler(e)}),n.on("new trade",function(e){console.log("[SOCKET MESSAGE]","new trade",e),I.socketNewTradeEventHandler(e)}),n.on("trade complete",function(e){console.log("[SOCKET MESSAGE]","trade complete",e),I.socketTradeCompleteEventHandler(e)}),n.on("new deposit",function(e){console.log("[SOCKET MESSAGE]","new deposit",e),I.socketNewFundEventHandler(e)}),n.on("new withdraw",function(e){console.log("[SOCKET MESSAGE]","new withdraw",e),I.socketNewFundEventHandler(e)}),n.on("deposit complete",function(e){console.log("[SOCKET MESSAGE]","deposit complete",e),I.socketFundCompleteEventHandler(e)}),n.on("withdraw complete",function(e){console.log("[SOCKET MESSAGE]","withdraw complete",e),I.socketFundCompleteEventHandler(e)})},socketNewOrderEventHandler:function(e){if(e.tokenGet!=w.pair.token.address&&e.tokenGive!=w.pair.token.address)return!1;if((I.dataTableOrderBook.upsertOne(e),Common.autoScrollOrderBook(),e.makerAddress==w.ethSelectedAddress)&&null===I.dataTableMyOrders.upsertOne(e)){var t="buy"==e.orderType?"Buy Order Placed":"Sell Order Placed",n=b("You just placed an order to %s %s%s @Price %s%s. Order Hash:%s",[e.orderType,"buy"==e.orderType?e.availableVolumeGetValue:e.availableVolumeGiveValue,w.pair.token.symbol,e.priceValue,w.pair.base.symbol,e.orderHash.slice(0,10)]);I.showNotification("success",n,t)}},socketOrderUpdateEventHandler:function(e){if(e.tokenGet!=w.pair.token.address&&e.tokenGive!=w.pair.token.address)return!1;I.dataTableOrderBook.upsertOne(e),Common.autoScrollOrderBook(),e.makerAddress==w.ethSelectedAddress&&I.dataTableMyOrders.upsertOne(e)},socketOrderCancelEventHandler:function(e){if(e.tokenGet!=w.pair.token.address&&e.tokenGive!=w.pair.token.address)return!1;if(I.dataTableOrderBook.removeOne(e.orderHash),Common.autoScrollOrderBook(),e.makerAddress==w.ethSelectedAddress){I.dataTableMyOrders.removeOne(e.orderHash);var t=b("Your order has been canceled. OrderHash:%s",[e.orderHash.slice(0,10)]);I.showNotification("success",t,"Order Canceled")}},socketNewFundEventHandler:function(e){e.userAddress!=w.ethSelectedAddress||e.tokenAddress!=w.pair.token.address&&e.tokenAddress!=w.pair.base.address||I.dataTableMyFunds.upsertOne(e)},socketFundCompleteEventHandler:function(e){if(e.userAddress==w.ethSelectedAddress&&(e.tokenAddress==w.pair.token.address||e.tokenAddress==w.pair.base.address)){var t=I.dataTableMyFunds.upsertOne(e);null!==t?0==t.blockNumber&&n(e):n(e)}function n(e){var t=("deposit"==e.type?"Deposit":"Withdrawal")+(e.receiptStatus?" Completed":" Failed"),n=b("Your %s for %s%s has %s. TX:%s",["deposit"==e.type?"deposit":"withdrawal",e.amountValue,e.tokenAddress==w.pair.token.address?w.pair.token.symbol:w.pair.base.symbol,e.receiptStatus?"completed":"failed",e.transactionHash.slice(0,10)]),r=e.receiptStatus?"success":"error";I.showNotification(r,n,t)}},socketNewTradeEventHandler:function(e){e.takerAddress!=w.ethSelectedAddress||e.tokenGet!=w.pair.token.address&&e.tokenGive!=w.pair.token.address||I.dataTableMyTrades.upsertOne(e)},socketTradeCompleteEventHandler:function(e){if(e.tokenGet==w.pair.token.address||e.tokenGive==w.pair.token.address){if(e.makerAddress==w.ethSelectedAddress&&e.receiptStatus||e.takerAddress==w.ethSelectedAddress){var t=I.dataTableMyTrades.upsertOne(e);(null===t||t&&0==t.blockNumber)&&function(e){var t=e.receiptStatus?"success":"error",n=e.receiptStatus?"Trade Completed":"Trade Failed",r=b("Your trade to %s %s%s @Price %s%s has %s. TX:%s",["buy"==e.orderType?"sell":"buy","buy"==e.orderType?e.amountGetValue:e.amountGiveValue,w.pair.token.symbol,e.priceValue,w.pair.base.symbol,e.receiptStatus?"completed":"failed",e.transactionHash.slice(0,10)]);e.makerAddress==w.ethSelectedAddress&&(n="New Trade",r=b("You just %s %s%s @Price %s%s. TX:%s",["buy"==e.orderType?"bought":"sold","buy"==e.orderType?e.amountGetValue:e.amountGiveValue,w.pair.token.symbol,e.priceValue,w.pair.base.symbol,e.transactionHash.slice(0,10)]));I.showNotification(t,r,n)}(e)}I.dataTableAllTrades.upsertOne(e)}I.dataTableMarkets.priceChangeBlink(e)},generateEthAccount:function(){var e={address:"",privateKey:""},t=p.create().privateKey,n=f.privateToAddress(t);return e.address=f.toChecksumAddress(n.toString("hex")).toLowerCase(),e.privateKey=t.toString("hex"),e},addAndStoreEthAccount:function(e,t,n){w.ethAccounts.unshift({address:e,privateKey:t,keyStore:"",client:n,ethBalance:"0",tokenBalances:{}}),s.set("eth_accounts",w.ethAccounts)},deleteEthAccountByIndex:function(e){var t=w.ethAccounts[e].address;if(w.ethAccounts.removeAt(e),s.set("eth_accounts",w.ethAccounts),t==w.ethSelectedAddress){var n="";w.ethAccounts.length>0&&(n=w.ethAccounts[0].address),I.switchSelectedAccount(n)}return t},initAccountsData:function(){return new o(function(e){console.log("Begin: initAccountsData"),console.time("initAccountsData"),n.emit("get mine",{userAddress:w.ethSelectedAddress,tokenAddress:w.pair.token.address}),I.updateAllAccountsEthBalance(),setInterval(function(){I.updateSelectedAccountAllBalances()},config.intervalRefreshBalance),"MetaMask"==w.ethConnection.client&&I.listenMetaMaskAccountChange(),console.timeEnd("initAccountsData"),e()})},updateAllAccountsEthBalance:function(){console.log("updateAllAccountsEtherBalanceInWallet");for(var e=0;e<w.ethAccounts.length;e++)I.updateAccountEthBalance(w.ethAccounts[e].address)},updateAccountEthBalance:function(e){I.web3Interaction("eth","getBalance",[e],function(t){var n=w.ethAddresses.indexOf(e);n>-1&&(w.ethAccounts[n].ethBalance=t.toString(),s.set("eth_accounts",w.ethAccounts))})},updateSelectedAccountAllBalances:function(){if(w.ethSelectedAddress.length<=0||!f.isValidAddress(w.ethSelectedAddress))return console.log("updateSelectedAccountAllBalances skipped, selected address is empty or is invalid"),!1;var e=w.ethSelectedAddress,t=w.pair.$model.base.address,n=w.pair.$model.token.address;I.web3ExchangeInteraction("balanceOf","call",[t,e],function(n){w.ethSelectedAddress==e&&w.pair.base.address==t&&(w.ethSelectedAccountBalances.exchange.base=n.toString())}),I.web3ExchangeInteraction("balanceOf","call",[n,e],function(t){w.ethSelectedAddress==e&&w.pair.token.address==n&&(w.ethSelectedAccountBalances.exchange.token=t.toString())}),I.web3Interaction("eth","getBalance",[e],function(t){w.ethSelectedAddress==e&&(w.ethSelectedAccountBalances.wallet.base=t.toString());var n=w.ethAddresses.indexOf(w.ethSelectedAddress);n>-1&&(w.ethAccounts[n].ethBalance=t.toString(),s.set("eth_accounts",w.ethAccounts))}),I.web3TokenInteraction(n,"balanceOf","call",[e],function(t){w.ethSelectedAddress==e&&w.pair.token.address==n&&(w.ethSelectedAccountBalances.wallet.token=t.toString())})},switchSelectedAccount:function(e){w.ethSelectedAddress!=e?(console.log("switchSelectedAccount:",e),w.ethSelectedAddress=e,s.set("eth_selected_address",e),w.socketLoadingState.getMine=!0,n.emit("get mine",{userAddress:e,tokenAddress:w.pair.token.address}),w.ethSelectedAccountBalances={exchange:{base:"",token:""},wallet:{base:"",token:""}},I.updateSelectedAccountAllBalances()):console.log("switchSelectedAccount: address not changed")},listenMetaMaskAccountChange:function(){I.web3Interaction("eth","getAccounts",null,function(e){if(e&&e[0]){var t=e[0];w.ethAddresses.indexOf(t)<0?(I.addAndStoreEthAccount(t,"",w.ethConnection.client),("MetaMask"==w.ethSelectedAccount.client||w.ethSelectedAddress.length<=0)&&I.switchSelectedAccount(t),console.log("MetaMask Account Changed:",t,"it's a new Address")):w.ethSelectedAddress!=t&&"MetaMask"==w.ethSelectedAccount.client&&(I.switchSelectedAccount(t),console.log("MetaMask Account Changed:",t))}setTimeout(I.listenMetaMaskAccountChange,config.intervalRefreshMetaMaskAccounts)},function(){setTimeout(I.listenMetaMaskAccountChange,config.intervalRefreshMetaMaskAccounts)})},refreshEthBlockNumber:function(){I.web3Interaction("eth","getBlockNumber",null,function(e){parseInt(e)>0&&(w.ethBlockNumber=parseInt(e)),setTimeout(I.refreshEthBlockNumber,config.intervalRefreshBlock)},function(){setTimeout(I.refreshEthBlockNumber,config.intervalRefreshBlock)})},showNotification:function(e,t,n){e=e||"info",t=t||"",n=n||"",a.isSupported()?a.onVisible(function(){toastr[e](t,n)}):toastr[e](t,n),w.notifySound&&Common.notifySound()},doDeposit:function(e){var t=w.ethSelectedAccount.$model,r="token"==e?w.pair.$model.token:w.pair.$model.base;if(1==x.formBalance.deposit[e].btnSend.loading)return!1;x.formBalance.deposit[e].btnSend.loading=!0,x.formBalance.deposit[e].btnSend.disabled=!0;try{var i=new m(x.formBalance.deposit[e].inputAmount.value).times("1e"+r.decimals).integerValue();"token"==e?I.web3TokenInteraction(r.address,"allowance","call",[t.address,config.contractAddress],function(e){e.lt(i)?I.web3TokenSendTransaction(t,r.address,"approve",[config.contractAddress,i.toString()],function(e){I.web3ExchangeSendTransaction(t,0,"depositToken",[r.address,i.toString()],function(t){o(t,e)},s)},s):I.web3ExchangeSendTransaction(t,0,"depositToken",[r.address,i.toString()],function(e){o(e)},s)},s):I.web3ExchangeSendTransaction(t,i.toString(),"deposit",null,o,s)}catch(e){s(e)}function o(o,s){console.log("approveTransactionHash",s),console.log("depositTransactionHash",o);var a=s?[s,o]:[o];Common.showTransactionModal("deposit",a),x.formBalance.deposit[e].inputAmount={value:"",error:""},x.formBalance.deposit[e].btnSend={disabled:!0,loading:!1},n.emit("create deposit",{contractAddress:config.contractAddress,tokenAddress:r.address,userAddress:t.address,amount:i.toString(),transactionHash:o})}function s(t){Common.alertInteractiveError(t),x.formBalance.deposit[e].btnSend={disabled:!1,loading:!1}}},doWithdraw:function(e){var t=w.ethSelectedAccount.$model,r="token"==e?w.pair.$model.token:w.pair.$model.base;if(1==x.formBalance.withdraw[e].btnSend.loading)return!1;x.formBalance.withdraw[e].btnSend.loading=!0,x.formBalance.withdraw[e].btnSend.disabled=!0;try{var i=new m(x.formBalance.withdraw[e].inputAmount.value).times("1e"+r.decimals).integerValue();"token"==e?I.web3ExchangeSendTransaction(t,0,"withdrawToken",[r.address,i.toString()],s,o):I.web3ExchangeSendTransaction(t,0,"withdraw",[i.toString()],s,o)}catch(e){o(e)}function o(t){Common.alertInteractiveError(t),x.formBalance.withdraw[e].btnSend={disabled:!1,loading:!1}}function s(o){console.log("withdrawTransactionHash",o),Common.showTransactionModal("withdraw",[o]),x.formBalance.withdraw[e].inputAmount={value:"",error:""},x.formBalance.withdraw[e].btnSend={disabled:!0,loading:!1},n.emit("create withdraw",{contractAddress:config.contractAddress,tokenAddress:r.address,userAddress:t.address,amount:i.toString(),transactionHash:o})}},doPlaceOrder:function(e){if(!0===S.formPlaceOrder[e].btnPlaceOrder.loading)return!1;S.formPlaceOrder[e].btnPlaceOrder={disabled:!0,loading:!0};var t=w.pair.$model.token,r=w.pair.$model.base,i=w.ethSelectedAccount.$model,o={contractAddress:config.contractAddress,tokenGet:"",amountGet:"",tokenGive:"",amountGive:"",expires:"10000",orderNonce:Common.getRandomInt(0,Math.pow(2,32)).toString(),makerAddress:i.address,v:"",r:"",s:""},s=t.decimals>8?8:t.decimals;"buy"==e?(o.tokenGet=t.address,o.amountGet=new m(S.formPlaceOrder[e].inputAmount.value).decimalPlaces(s).times("1e"+t.decimals).integerValue().toString(),o.tokenGive=r.address,o.amountGive=new m(S.formPlaceOrder[e].inputTotal.value).times("1e"+r.decimals).integerValue().toString(),o.expires=parseInt(S.formPlaceOrder[e].inputExpires.value)+parseInt(w.ethBlockNumber)):(o.tokenGet=r.address,o.amountGet=new m(S.formPlaceOrder[e].inputTotal.value).times("1e"+r.decimals).integerValue().toString(),o.tokenGive=t.address,o.amountGive=new m(S.formPlaceOrder[e].inputAmount.value).decimalPlaces(s).times("1e"+t.decimals).integerValue().toString(),o.expires=parseInt(S.formPlaceOrder[e].inputExpires.value)+parseInt(w.ethBlockNumber));var a=h.soliditySHA3(["address","address","uint256","address","uint256","uint256","uint256","address"],[o.contractAddress,o.tokenGet,o.amountGet,o.tokenGive,o.amountGive,o.expires,o.orderNonce,i.address]),c=f.bufferToHex(f.hashPersonalMessage(a));I.web3EthSignOrder(i,c,function(t){o.v=t.v,o.r=t.r,o.s=t.s,console.log("User place an order:",o),n.emit("place order",o),S.formPlaceOrder[e].btnPlaceOrder={disabled:!0,loading:!0},S.formPlaceOrder[e].inputPrice={value:"",error:""},S.formPlaceOrder[e].inputAmount={value:"",error:""},S.formPlaceOrder[e].inputTotal={value:"",error:""},S.formPlaceOrder[e].inputExpires={value:"10000",error:""}},function(t){Common.alertInteractiveError(t),S.formPlaceOrder[e].btnPlaceOrder={disabled:!1,loading:!1}})},showTakeOrder:function(e){return!(w.ethBlockNumber<=0||""==w.ethSelectedAccountBalances.exchange.token||""==w.ethSelectedAccountBalances.exchange.base)&&(w.ethBlockNumber>e.expires?(Common.alertWarningModal("You cannot trade this order because it's already expired."),!1):e.makerAddress==w.ethSelectedAddress?(Common.alertWarningModal("You cannot trade this order because it was placed by yourself. You can cancel it on TRANSACTIONS -> My Orders tab."),!1):(E.orderObject={},E.formTakeOrder={inputAmount:{value:"",error:""},inputTotal:{value:"",error:""},inputFee:{value:"",error:""},btnTakeOrder:{disabled:!0,loading:!1}},E.orderObject=e,E.formTakeOrder.inputAmount.value="buy"==e.orderType?e.availableVolumeGetValue:e.availableVolumeGiveValue,void $("#takeOrderModal").modal("show")))},doTakeOrder:function(){if(!0===E.formTakeOrder.btnTakeOrder.loading)return!1;E.formTakeOrder.btnTakeOrder={disabled:!0,loading:!0};var e,t=w.pair.$model.token,r=w.pair.$model.base,i=w.ethSelectedAccount.$model,o=E.orderObject.$model;if(t.address!=o.tokenGet&&t.address!=o.tokenGive)return $("#takeOrderModal").modal("hide"),Common.alertWarningModal("The token which you're trading doesn't match the exchange pair, please refresh page and try again."),!1;if("buy"==o.orderType){var s=t.decimals>8?8:t.decimals;e=new m(E.formTakeOrder.inputAmount.value).decimalPlaces(s).times("1e"+t.decimals).integerValue().toString()}else e=new m(E.formTakeOrder.inputTotal.value).times("1e"+r.decimals).integerValue().toString();function a(e){$("#takeOrderModal").modal("hide"),Common.alertInteractiveError(e)}I.web3ExchangeInteraction("validateTrade","call",[o.tokenGet,o.amountGet,o.tokenGive,o.amountGive,o.expires,o.orderNonce,o.makerAddress,o.v,o.r,o.s,e,i.address],function(t){return console.log("validateTrade errorCode:",parseInt(t)),1===parseInt(t)?($("#takeOrderModal").modal("hide"),Common.alertWarningModal("You cannot trade this order because you don't have enough funds."),!1):2===parseInt(t)?($("#takeOrderModal").modal("hide"),Common.alertWarningModal("You cannot trade this order because it's already traded."),n.emit("check order",o),!1):void I.web3ExchangeSendTransaction(i,0,"trade",[o.tokenGet,o.amountGet,o.tokenGive,o.amountGive,o.expires,o.orderNonce,o.makerAddress,o.v,o.r,o.s,e],function(t){console.log("Take order transaction hash",t),Common.showTransactionModal("trade",[t]),o.transactionHash=t,o.takerAddress=i.address,o.amountTrade=e,n.emit("create trade",o),$("#takeOrderModal").modal("hide")},a)},a)},showCancelOrder:function(e){return!(w.ethBlockNumber<=0)&&(w.ethBlockNumber>e.expires?(Common.alertWarningModal("There is no need to cancel this order because it already expired."),!1):e.makerAddress!=w.ethSelectedAddress?(Common.alertWarningModal("You cannot cancel this order because it was placed by other account."),!1):(T.orderObject={},T.orderObject=e,void $("#cancelOrderModal").modal("show")))},doCancelOrder:function(){$("#cancelOrderModal").modal("hide");var e=w.ethSelectedAccount.$model,t=T.orderObject.$model;I.web3ExchangeSendTransaction(e,0,"cancelOrder",[t.tokenGet,t.amountGet,t.tokenGive,t.amountGive,t.expires,t.orderNonce,t.v,t.r,t.s],function(e){console.log("Cancel order transaction hash",e),Common.showTransactionModal("cancelOrder",[e]),t.transactionHash=e,n.emit("cancel order",t)},function(e){Common.alertInteractiveError(e)})},web3Interaction:function(e,t,n,r,i){(n=n||[]).push(function(e,t){if(e)return console.error(e),"function"==typeof i&&i(e),!1;"function"==typeof r&&r(t)}),web3[e][t].apply(null,n)},web3ExchangeInteraction:function(e,t,n,i,o){(n=n||[]).push(function(e,t){if(e)return console.error(e),"function"==typeof o&&o(e),!1;"function"==typeof i&&i(t)}),r[e][t].apply(null,n)},web3ExchangeSendTransaction:function(e,n,i,o,s,a){"Exchange"==e.client?I.web3Interaction("eth","getTransactionCount",[e.address,"pending"],function(c){o=o||[];var l={nonce:web3.toHex(c),gasPrice:web3.toHex(web3.toWei(w.customGasPrice,"gwei")),gasLimit:web3.toHex(config.gasLimit[i]),from:e.address,to:config.contractAddress,value:web3.toHex(n),data:r[i].getData.apply(null,o)},u=new t(e.privateKey,"hex"),h=new d(l);h.sign(u);var p=f.addHexPrefix(h.serialize().toString("hex"));I.web3Interaction("eth","sendRawTransaction",[p],s,a)},a):((o=o||[]).push({value:n||0,from:e.address,gasPrice:web3.toWei(w.customGasPrice,"gwei"),gas:config.gasLimit[i]}),I.web3ExchangeInteraction(i,"sendTransaction",o,s,a))},web3TokenInteraction:function(e,t,n,r,i,o){(r=r||[]).push(function(e,t){if(e)return console.error(e),"function"==typeof o&&o(e),!1;"function"==typeof i&&i(t)}),web3.eth.contract(_).at(e)[t][n].apply(null,r)},web3TokenSendTransaction:function(e,n,r,i,o,s){"Exchange"==e.client?I.web3Interaction("eth","getTransactionCount",[e.address,"pending"],function(a){i=i||[];var c={nonce:web3.toHex(a),gasPrice:web3.toHex(web3.toWei(w.customGasPrice,"gwei")),gasLimit:web3.toHex(config.gasLimit[r]),from:e.address,to:n,data:web3.eth.contract(_).at(n)[r].getData.apply(null,i)},l=new t(e.privateKey,"hex"),u=new d(c);u.sign(l);var h=f.addHexPrefix(u.serialize().toString("hex"));I.web3Interaction("eth","sendRawTransaction",[h],o,s)},s):((i=i||[]).push({from:e.address,gasPrice:web3.toWei(w.customGasPrice,"gwei"),gas:config.gasLimit[r]}),I.web3TokenInteraction(n,r,"sendTransaction",i,o,s))},web3EthSignOrder:function(e,n,r,i){if("Exchange"==e.client){var o=new t(e.privateKey,"hex"),s=new t(n.slice(2),"hex"),a=f.ecsign(s,o),c={r:f.bufferToHex(a.r),s:f.bufferToHex(a.s),v:a.v};"function"==typeof r&&r(c)}else I.web3Interaction("eth","sign",[e.address,n],function(e){var t=f.fromRpcSig(e),n={r:f.bufferToHex(t.r),s:f.bufferToHex(t.s),v:t.v};"function"==typeof r&&r(n)},i)}};I.tvChart={token:null,theme:{"paneProperties.background":"#222222","paneProperties.vertGridProperties.color":"#454545","paneProperties.horzGridProperties.color":"#454545","symbolWatermarkProperties.color":"rgba(41, 41, 41, 0.70)","scalesProperties.backgroundColor":"#222222","scalesProperties.textColor":"#AAA",volumePaneSize:"small"},tvDataFeed:{onReady:function(e){setTimeout(e({exchanges:[],symbolsTypes:[],supported_resolutions:["1","5","10","30","60","D","W","M"],supports_marks:!1,supports_timescale_marks:!1,supports_time:!1}),0)},resolveSymbol:function(e,t,n){var r=I.tvChart,i=r.token.symbol.length>0&&r.token.decimals>0?r.token.symbol:r.token.address.slice(0,7),o=r.token.name.length>0?r.token.name:r.token.address;setTimeout(t({name:"ETHERC:"+i,ticker:i,description:o,type:"ERC20 Token",session:"24x7",exchange:"ETHERC",listed_exchange:"",minmov:1,pricescale:1e9,minmove2:0,fractional:!0,timezone:"UTC",has_intraday:!0,intraday_multipliers:["1"],has_empty_bars:!0,has_daily:!1,has_weekly_and_monthly:!1,force_session_rebuild:!1,volume_precision:3,data_status:"streaming"}),0)},getBars:function(e,t,r,i,o,s,a){if(a){var c=I.tvChart;n.emit("get kline",{tokenAddress:c.token.address}),n.on("return kline",function(e){e.token.address!=c.token.address?s("Symbol not matched"):o(e.candlesticks,{noData:!1})})}else o([],{noData:!0})},searchSymbols:function(e,t,n,r){},subscribeBars:function(e,t,n,r,i){},unsubscribeBars:function(e){}},init:function(e){this.widget=new TradingView.widget({debug:!1,library_path:"assets/charting_library/",symbol:e,interval:"5",timezone:g.determine().name(),container_id:"tabPriceChart",locale:"en",datafeed:this.tvDataFeed,autosize:!0,disabled_features:["header_compare","compare_symbol","header_symbol_search","symbol_search_hot_key","use_localstorage_for_settings","volume_force_overlay"],enabled_features:["keep_left_toolbar_visible_on_small_screens","side_toolbar_in_fullscreen_mode","move_logo_to_main_pane","hide_last_na_study_output"],overrides:this.theme})},draw:function(e){this.token=e;var t=e.symbol.length>0&&""!==e.totalSupply?e.symbol:e.address;void 0===this.widget?this.init(t):this.widget.setSymbol(t,"5")}},I.dataTableMarkets={container:"#tableMarkets",searchInput:"#inputMarketsTableSearch",favoriteOnlyCheckbox:"#inputShowFavoriteMarketsOnly",favoriteMarkets:void 0===s.get("favorite_markets")?[]:s.get("favorite_markets"),setData:function(e){void 0===this.dataTable?(console.log("init dataTableMarkets"),this.init(e),this.bindEvents()):(console.log("reDraw dataTableMarkets"),this.dataTable.clear(),this.dataTable.rows.add(e).draw())},init:function(e){var t=this;this.dataTable=$(t.container).DataTable({paging:!1,dom:"t",deferRender:!0,destroy:!0,data:e,autoWidth:!1,stripeClasses:[],orderClasses:!1,order:[[3,"desc"],[2,"desc"]],columns:[{data:"token.symbol",render:function(e,n,r,i){return t.favoriteMarkets.indexOf(e)>-1?'<span class="fa fa-star text-warning fs16"></span>':'<span class="fa fa-star-o fs16"></span>'},className:"favorite-market",orderable:!1},{data:"token.symbol"},{data:"price",className:"price-quick-set",searchable:!1},{data:"volumeBase",render:function(e,t,n,r){return new m(e).toFixed(2).toString()},searchable:!1},{data:"change",render:function(e,t,n,r){return e>0?'<span class="text-success-darker">'+e+"%</span>":e<0?'<span class="text-danger-darker">'+e+"%</span>":"<span>"+e+"%</span>"},searchable:!1},{data:"token.name",visible:!1,orderable:!1}],createdRow:function(e,t,n){$(e).attr("data-token-address",t.token.address),$(e).attr("data-toggle","tooltip"),$(e).attr("title",t.token.name)}})},bindEvents:function(){var e=this;$(e.searchInput).on("keyup",function(){e.dataTable.search($(this).val()).draw()}),$(e.favoriteOnlyCheckbox).on("change",function(){if(!0===$(this).prop("checked")){var t="^"+e.favoriteMarkets.join("$|^")+"$";e.dataTable.column(1).search(t,!0,!1,!0).draw()}else e.dataTable.column(1).search("").draw()}),$(e.container).on("click","td.favorite-market",function(t){t.stopPropagation();var n=e.dataTable.cell(this).data(),r=e.favoriteMarkets.indexOf(n);if(r>-1?(e.favoriteMarkets.splice(r,1),$(this).find("span").addClass("fa-star-o").removeClass("fa-star text-warning")):(e.favoriteMarkets.push(n),$(this).find("span").addClass("fa-star text-warning").removeClass("fa-star-o")),s.set("favorite_markets",e.favoriteMarkets),!0===$(e.favoriteOnlyCheckbox).prop("checked")){var i="^"+e.favoriteMarkets.join("$|^")+"$";e.dataTable.column(1).search(i,!0,!1,!0).draw()}}),$(e.container).on("click","tbody tr",function(){var t=e.dataTable.row(this).data().token.symbol;console.log("clickSwitchMarket",t),I.switchExchangePair(t)})},priceChangeBlink:function(e){if(void 0!==this.dataTable){var t=f.isZeroAddress(e.tokenGive)?e.tokenGet:e.tokenGive,n=$("#tableMarkets tbody").find("tr[data-token-address='"+t+"']").find("td").eq(2),r=this.dataTable.cell(n).data(),i=new m(e.priceValue).lt(r)?"#d53c24":"#56c046";this.dataTable.cell(n).data(e.priceValue).draw(),n.stop(!0,!0).animate({color:i},300,"swing").animate({color:""},800,"swing")}}},I.dataTableAllTrades={container:"#tableAllTrades",setData:function(e){void 0===this.dataTable?this.init(e):(this.dataTable.clear(),this.dataTable.rows.add(e).draw())},init:function(e){this.dataTable=$(this.container).DataTable({paging:!1,dom:"t",searching:!1,deferRender:!0,destroy:!0,autoWidth:!1,data:e,stripeClasses:[],orderClasses:!1,order:[[5,"desc"]],columns:[{data:"transactionHash",render:function(e,t,n,r){return'<a href="'+config.etherScanBaseUrl+"/tx/"+e+'" target="_blank">'+e.slice(0,10)+"</a>"},orderable:!1},{data:"orderType",orderable:!1},{data:"priceValue",className:"price-quick-set",orderable:!1},{data:null,render:function(e,t,n,r){var i="buy"==n.orderType?n.amountGetValue:n.amountGiveValue,o=new m(i).toFixed(3).toString();return'<span data-toggle="tooltip" title="'+i+'">'+o+"</span>"},orderable:!1},{data:null,render:function(e,t,n,r){var i="buy"==n.orderType?n.amountGiveValue:n.amountGetValue,o=new m(i).toFixed(3).toString();return'<span data-toggle="tooltip" title="'+i+'">'+o+"</span>"},orderable:!1},{data:"completedTime",render:function(e,t,n,r){return v(e,"yyyy-mm-dd HH:MM:ss.l")}}],createdRow:function(e,t,n){"buy"==t.orderType?$(e).addClass("text-success-darker"):$(e).addClass("text-danger-darker"),$(e).attr("data-tx",t.transactionHash)}})},upsertOne:function(e){if(void 0!==this.dataTable){var t=e.transactionHash,n=$(this.container).find("tbody tr[data-tx='"+t+"']"),r=null;return n.length>0?(r=this.dataTable.row(n).data(),this.dataTable.row(n).data(e).draw()):this.dataTable.row.add(e).draw(),r}}},I.dataTableMyTrades={container:"#tableMyTrades",setData:function(e){void 0===this.dataTable?this.init(e):(this.dataTable.clear(),this.dataTable.rows.add(e).draw())},init:function(e){this.dataTable=$(this.container).DataTable({paging:!1,dom:"t",searching:!1,deferRender:!0,destroy:!0,autoWidth:!1,data:e,stripeClasses:[],orderClasses:!1,order:[[5,"desc"]],columns:[{data:"transactionHash",render:function(e,t,n,r){return'<a href="'+config.etherScanBaseUrl+"/tx/"+e+'" target="_blank">'+e.slice(0,10)+"</a>"},orderable:!1},{data:"orderType",render:function(e,t,n,r){return n.makerAddress==w.ethSelectedAddress?n.orderType:"buy"==n.orderType?"sell":"buy"},orderable:!1},{data:"priceValue",className:"price-quick-set"},{data:null,render:function(e,t,n,r){var i="buy"==n.orderType?n.amountGetValue:n.amountGiveValue,o=new m(i).toFixed(3).toString();return'<span data-toggle="tooltip" title="'+i+'">'+o+"</span>"}},{data:null,render:function(e,t,n,r){var i="buy"==n.orderType?n.amountGiveValue:n.amountGetValue,o=new m(i).toFixed(3).toString();return'<span data-toggle="tooltip" title="'+i+'">'+o+"</span>"}},{data:"createdTime",render:function(e,t,n,r){return v(e,"yyyy-mm-dd HH:MM:ss.l")}},{data:null,render:function(e,t,n,r){return n.blockNumber>0&&n.receiptStatus?'<span class="text-success-darker">Completed</span>':n.blockNumber>0&&!n.receiptStatus?'<span class="text-danger-darker">Failed</span>':'<span class="text-warning-darker">Pending...</span>'},orderable:!1}],createdRow:function(e,t,n){$(e).attr("data-tx",t.transactionHash)}})},upsertOne:function(e){if(void 0!==this.dataTable){var t=e.transactionHash,n=$(this.container).find("tbody tr[data-tx='"+t+"']"),r=null;return n.length>0?(r=this.dataTable.row(n).data(),this.dataTable.row(n).data(e).draw()):this.dataTable.row.add(e).draw(),r}}},I.dataTableMyOrders={container:"#tableMyOrders",setData:function(e){void 0===this.dataTable?(this.init(e),this.bindEvents()):(this.dataTable.clear(),this.dataTable.rows.add(e).draw())},init:function(e){this.dataTable=$(this.container).DataTable({paging:!1,dom:"t",searching:!1,deferRender:!0,autoWidth:!1,destroy:!0,data:e,stripeClasses:[],orderClasses:!1,order:[[5,"desc"]],columns:[{data:"orderHash",render:function(e,t,n,r){return'<a href="javascript:void(0);" target="_blank">'+e.slice(0,10)+"</a>"},orderable:!1},{data:"orderType",orderable:!1},{data:"priceValue",className:"price-quick-set"},{data:null,render:function(e,t,n,r){var i="buy"==n.orderType?n.amountGetValue:n.amountGiveValue,o=new m(i).toFixed(3).toString(),s="buy"==n.orderType?n.availableVolumeGetValue:n.availableVolumeGiveValue,a=new m(s).toFixed(3).toString();return'<span data-toggle="tooltip" title="'+i+'">'+a+" / "+o+"</span>"},orderable:!1},{data:null,render:function(e,t,n,r){var i="buy"==n.orderType?n.availableVolumeGiveValue:n.availableVolumeGetValue,o=new m(i).toFixed(3).toString();return'<span data-toggle="tooltip" title="'+i+'">'+o+"</span>"}},{data:function(e,t,n,r){return e.expires-w.ethBlockNumber}},{data:null,defaultContent:'<a href="javascript:void(0);">Cancel</a>',className:"text-warning-darker cancel-order",orderable:!1},{data:"minVolumeValidation",render:function(e,t,n,r){return e?"":'<span class="fa fa-exclamation-triangle text-warning-darker" data-toggle="tooltip" title="This order won\'t be shown on the order book because the remaining volume of this order is too small (must be at least 0.001 ETH)"></span>'},orderable:!1}],createdRow:function(e,t,n){$(e).attr("data-hash",t.orderHash)},preDrawCallback:function(e){this.api().rows(function(e,t,n){return t.expires<=w.ethBlockNumber}).remove()}})},bindEvents:function(){var e=this;$(e.container).on("click","td.cancel-order",function(){var t=e.dataTable.row(this).data();I.showCancelOrder(t)})},upsertOne:function(e){if(void 0!==this.dataTable){var t=e.orderHash,n=$(this.container).find("tbody tr[data-hash='"+t+"']"),r=null;return n.length>0?(r=this.dataTable.row(n).data(),this.dataTable.row(n).data(e).draw()):this.dataTable.row.add(e).draw(),r}},removeOne:function(e){if(void 0!==this.dataTable){var t=$(this.container).find("tbody tr[data-hash='"+e+"']"),n=null;return t.length>0&&(n=this.dataTable.row(t).data(),this.dataTable.row(t).remove().draw()),n}},checkExpireIn:function(){void 0!==this.dataTable&&this.dataTable.rows().nodes().length>0&&this.dataTable.rows().invalidate("data").draw()}},I.dataTableMyFunds={container:"#tableMyFunds",setData:function(e){void 0===this.dataTable?this.init(e):(this.dataTable.clear(),this.dataTable.rows.add(e).draw())},init:function(e){this.dataTable=$(this.container).DataTable({paging:!1,dom:"t",searching:!1,deferRender:!0,destroy:!0,autoWidth:!1,stripeClasses:[],orderClasses:!1,data:e,order:[[3,"desc"]],columns:[{data:"transactionHash",render:function(e,t,n,r){return'<a href="'+config.etherScanBaseUrl+"/tx/"+e+'" target="_blank">'+e.slice(0,10)+"</a>"},orderable:!1},{data:"type",orderable:!1},{data:"amountValue",render:function(e,t,n,r){var i=new m(e).toFixed(3).toString(),o=n.tokenAddress==w.pair.token.address?w.pair.token.symbol:w.pair.base.symbol;return'<span data-toggle="tooltip" title="'+e+'">'+i+" "+o+"</span>"}},{data:"createdTime",render:function(e,t,n,r){return v(e,"yyyy-mm-dd HH:MM:ss.l")}},{data:null,render:function(e,t,n,r){return n.blockNumber>0&&n.receiptStatus?'<span class="text-success-darker">Completed</span>':n.blockNumber>0&&!n.receiptStatus?'<span class="text-danger-darker">Failed</span>':'<span class="text-warning-darker">Pending...</span>'},orderable:!1}],createdRow:function(e,t,n){$(e).attr("data-tx",t.transactionHash)}})},upsertOne:function(e){if(void 0!==this.dataTable){var t=e.transactionHash,n=$(this.container).find("tbody tr[data-tx='"+t+"']"),r=null;return n.length>0?(r=this.dataTable.row(n).data(),this.dataTable.row(n).data(e).draw()):this.dataTable.row.add(e).draw(),r}}},I.dataTableOrderBook={container:"#tableOrderBook",setData:function(e){void 0===this.dataTable?(this.init(e),this.bindEvents()):(this.dataTable.clear(),this.dataTable.rows.add(e).draw())},init:function(e){var t=this;this.dataTable=$(t.container).DataTable({paging:!1,dom:"t",searching:!1,deferRender:!0,destroy:!0,autoWidth:!1,stripeClasses:[],orderClasses:!1,data:e,order:[[3,"desc"],[0,"desc"],[1,"asc"]],columns:[{data:"priceValue",className:"mw100 text-ellipsis price-quick-set",orderable:!1},{data:"orderType",className:"mw100 text-ellipsis",render:function(e,t,n,r){var i="buy"==e?n.availableVolumeGetValue:n.availableVolumeGiveValue;return new m(i).toFixed(3).toString()},orderable:!1},{data:"orderType",className:"mw100 text-ellipsis",render:function(e,t,n,r){var i="buy"==e?n.availableVolumeGiveValue:n.availableVolumeGetValue;return new m(i).toFixed(3).toString()},orderable:!1},{data:"orderType",visible:!1,orderable:!1}],createdRow:function(e,t,n){"buy"==t.orderType?$(e).addClass("text-success-darker buy-order"):$(e).addClass("text-danger-darker sell-order"),t.makerAddress==w.ethSelectedAddress&&$(e).addClass("order-highlight"),$(e).attr("data-hash",t.orderHash),$(e).attr("data-maker",t.makerAddress),$(e).attr("data-toggle","tooltip"),$(e).attr("title","Click to take this order")},preDrawCallback:function(e){this.api().rows(function(e,t,n){return t.makerAddress==w.ethSelectedAddress&&$(n).addClass("order-highlight"),t.expires<=w.ethBlockNumber||!t.minVolumeValidation}).remove()},drawCallback:function(e){var n=$(t.container).find("tr.sell-order").last(),r=$(t.container).find("tr.buy-order").first(),i='<tr id="orderBookDivider"><th>Price</th><th>'+w.pair.token.symbol+"</th><th>"+w.pair.base.symbol+"</th></tr>";n.length>0?n.after(i):r.length>0&&r.before(i)}})},bindEvents:function(){var e=this;$(e.container).on("click","tr.sell-order,tr.buy-order",function(t){if(!$(t.target).is("td.mw100.text-ellipsis.price-quick-set")){var n=e.dataTable.row(this).data();I.showTakeOrder(n)}})},upsertOne:function(e){if(void 0!==this.dataTable){var t=e.orderHash,n=$(this.container).find("tbody tr[data-hash='"+t+"']"),r=null;return n.length>0?(r=this.dataTable.row(n).data(),this.dataTable.row(n).data(e).draw()):this.dataTable.row.add(e).draw(),r}},removeOne:function(e){if(void 0!==this.dataTable){var t=$(this.container).find("tbody tr[data-hash='"+e+"']"),n=null;return t.length>0&&(n=this.dataTable.row(t).data(),this.dataTable.row(t).remove().draw()),n}},checkOrderBook:function(){void 0!==this.dataTable&&(this.dataTable.rows(function(e,t,n){return t.expires<=w.ethBlockNumber||!t.minVolumeValidation}).nodes().length>0&&(console.log("checkOrderBook====>redraw orderBook"),this.dataTable.draw()))},highlightMyOrder:function(){void 0!==this.dataTable&&($(this.container).find("tr.order-highlight").removeClass("order-highlight"),$(this.container).find("tr[data-maker='"+w.ethSelectedAddress+"']").length>0&&(console.log("highlightMyOrder:====>redraw orderBook"),this.dataTable.draw()))}}}).call(this,e("buffer").Buffer)},{"../../config/contract/exchange.sol.json":2,"../../config/contract/token.sol.json":3,avalon2:48,"bignumber.js":66,bluebird:69,buffer:105,dateformat:246,"ethereumjs-abi":294,"ethereumjs-tx":297,"ethereumjs-util":298,jstimezonedetect:337,keythereum:345,"socket.io-client":444,"sprintf-js":452,store:453,"visibilityjs/lib/visibility.core.js":476,web3:497,"web3-provider-engine/zero.js":496}],2:[function(e,t,n){t.exports=[{constant:!1,inputs:[{name:"_tokenGet",type:"address"},{name:"_amountGet",type:"uint256"},{name:"_tokenGive",type:"address"},{name:"_amountGive",type:"uint256"},{name:"_expires",type:"uint256"},{name:"_nonce",type:"uint256"},{name:"_maker",type:"address"},{name:"_v",type:"uint8"},{name:"_r",type:"bytes32"},{name:"_s",type:"bytes32"},{name:"_amountTrade",type:"uint256"}],name:"trade",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_tokenGet",type:"address"},{name:"_amountGet",type:"uint256"},{name:"_tokenGive",type:"address"},{name:"_amountGive",type:"uint256"},{name:"_expires",type:"uint256"},{name:"_nonce",type:"uint256"},{name:"_v",type:"uint8"},{name:"_r",type:"bytes32"},{name:"_s",type:"bytes32"}],name:"cancelOrder",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_tokenGet",type:"address"},{name:"_amountGet",type:"uint256"},{name:"_tokenGive",type:"address"},{name:"_amountGive",type:"uint256"},{name:"_expires",type:"uint256"},{name:"_nonce",type:"uint256"},{name:"_maker",type:"address"}],name:"amountFilled",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_amount",type:"uint256"}],name:"withdraw",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_token",type:"address"},{name:"_amount",type:"uint256"}],name:"depositToken",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_tradeTracker",type:"address"}],name:"changeTradeTracker",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_feeModifiers",type:"address"}],name:"changeFeeModifiers",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"address"}],name:"tokens",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_feeMake",type:"uint256"}],name:"changeFeeMake",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"feeMake",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"feeModifiers",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"feeAccount",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_feeAccount",type:"address"}],name:"changeFeeAccount",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_feeTake",type:"uint256"}],name:"changeFeeTake",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"}],name:"cancelledOrders",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_token",type:"address"},{name:"_amount",type:"uint256"}],name:"withdrawToken",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_taker",type:"address"},{name:"_amountTrade",type:"uint256"}],name:"calculateTakerFee",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"feeTake",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenGet",type:"address"},{name:"_amountGet",type:"uint256"},{name:"_tokenGive",type:"address"},{name:"_amountGive",type:"uint256"},{name:"_expires",type:"uint256"},{name:"_nonce",type:"uint256"},{name:"_maker",type:"address"}],name:"getOrderHash",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenGet",type:"address"},{name:"_amountGet",type:"uint256"},{name:"_tokenGive",type:"address"},{name:"_amountGive",type:"uint256"},{name:"_expires",type:"uint256"},{name:"_nonce",type:"uint256"},{name:"_maker",type:"address"},{name:"_v",type:"uint8"},{name:"_r",type:"bytes32"},{name:"_s",type:"bytes32"},{name:"_amountTrade",type:"uint256"},{name:"_taker",type:"address"}],name:"validateTrade",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"deposit",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"tradeTracker",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_user",type:"address"}],name:"getAccountFeeModifiers",outputs:[{name:"feeDiscount",type:"uint256"},{name:"feeRebate",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"}],name:"orderFills",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_token",type:"address"},{name:"_user",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenGet",type:"address"},{name:"_amountGet",type:"uint256"},{name:"_tokenGive",type:"address"},{name:"_amountGive",type:"uint256"},{name:"_expires",type:"uint256"},{name:"_nonce",type:"uint256"},{name:"_maker",type:"address"},{name:"_v",type:"uint8"},{name:"_r",type:"bytes32"},{name:"_s",type:"bytes32"}],name:"availableVolume",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!1,stateMutability:"nonpayable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!1,name:"token",type:"address"},{indexed:!1,name:"user",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"balance",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"token",type:"address"},{indexed:!1,name:"user",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"balance",type:"uint256"}],name:"Withdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"tokenGet",type:"address"},{indexed:!1,name:"amountGet",type:"uint256"},{indexed:!1,name:"tokenGive",type:"address"},{indexed:!1,name:"amountGive",type:"uint256"},{indexed:!1,name:"expires",type:"uint256"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"maker",type:"address"},{indexed:!1,name:"v",type:"uint8"},{indexed:!1,name:"r",type:"bytes32"},{indexed:!1,name:"s",type:"bytes32"},{indexed:!1,name:"orderHash",type:"bytes32"},{indexed:!1,name:"amountFilled",type:"uint256"}],name:"Cancel",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"tokenGet",type:"address"},{indexed:!1,name:"amountGet",type:"uint256"},{indexed:!1,name:"tokenGive",type:"address"},{indexed:!1,name:"amountGive",type:"uint256"},{indexed:!1,name:"maker",type:"address"},{indexed:!1,name:"taker",type:"address"},{indexed:!1,name:"orderHash",type:"bytes32"}],name:"Trade",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"previousOwner",type:"address"},{indexed:!0,name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"}]},{}],3:[function(e,t,n){t.exports=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_spender",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Approval",type:"event"}]},{}],4:[function(e,t,n){function r(){}t.exports=function(e,t,n){var i=!1;return n=n||r,o.count=e,0===e?t():o;function o(e,r){if(o.count<=0)throw new Error("after called too many times");--o.count,e?(i=!0,t(e),t=n):0!==o.count||i||t(null,r)}}},{}],5:[function(e,t,n){t.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(n-t),s=t,a=0;s<n;s++,a++)o[a]=i[s];return o.buffer}},{}],6:[function(e,t,n){var r=n;r.bignum=e("bn.js"),r.define=e("./asn1/api").define,r.base=e("./asn1/base"),r.constants=e("./asn1/constants"),r.decoders=e("./asn1/decoders"),r.encoders=e("./asn1/encoders")},{"./asn1/api":7,"./asn1/base":9,"./asn1/constants":13,"./asn1/decoders":15,"./asn1/encoders":18,"bn.js":70}],7:[function(e,t,n){var r=e("../asn1"),i=e("inherits");function o(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}n.define=function(e,t){return new o(e,t)},o.prototype._createNamed=function(t){var n;try{n=e("vm").runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){n=function(e){this._initNamed(e)}}return i(n,t),n.prototype._initNamed=function(e){t.call(this,e)},new n(this)},o.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(r.decoders[e])),this.decoders[e]},o.prototype.decode=function(e,t,n){return this._getDecoder(t).decode(e,n)},o.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(r.encoders[e])),this.encoders[e]},o.prototype.encode=function(e,t,n){return this._getEncoder(t).encode(e,n)}},{"../asn1":6,inherits:323,vm:477}],8:[function(e,t,n){var r=e("inherits"),i=e("../base").Reporter,o=e("buffer").Buffer;function s(e,t){i.call(this,t),o.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function a(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(e){return e instanceof a||(e=new a(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=o.byteLength(e);else{if(!o.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}r(s,i),n.DecoderBuffer=s,s.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},s.prototype.restore=function(e){var t=new s(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,i.prototype.restore.call(this,e.reporter),t},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},s.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var n=new s(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n},s.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},n.EncoderBuffer=a,a.prototype.join=function(e,t){return e||(e=new o(this.length)),t||(t=0),0===this.length?e:(Array.isArray(this.value)?this.value.forEach(function(n){n.join(e,t),t+=n.length}):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):o.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length),e)}},{"../base":9,buffer:105,inherits:323}],9:[function(e,t,n){var r=n;r.Reporter=e("./reporter").Reporter,r.DecoderBuffer=e("./buffer").DecoderBuffer,r.EncoderBuffer=e("./buffer").EncoderBuffer,r.Node=e("./node")},{"./buffer":8,"./node":10,"./reporter":11}],10:[function(e,t,n){var r=e("../base").Reporter,i=e("../base").EncoderBuffer,o=e("../base").DecoderBuffer,s=e("minimalistic-assert"),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function l(e,t){var n={};this._baseState=n,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}t.exports=l;var u=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];l.prototype.clone=function(){var e=this._baseState,t={};u.forEach(function(n){t[n]=e[n]});var n=new this.constructor(t.parent);return n._baseState=t,n},l.prototype._wrap=function(){var e=this._baseState;c.forEach(function(t){this[t]=function(){var n=new this.constructor(this);return e.children.push(n),n[t].apply(n,arguments)}},this)},l.prototype._init=function(e){var t=this._baseState;s(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),s.equal(t.children.length,1,"Root node can have only one child")},l.prototype._useArgs=function(e){var t=this._baseState,n=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==n.length&&(s(null===t.children),t.children=n,n.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(s(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach(function(n){n==(0|n)&&(n|=0);var r=e[n];t[r]=n}),t}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(e){l.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}}),a.forEach(function(e){l.prototype[e]=function(){var t=this._baseState,n=Array.prototype.slice.call(arguments);return s(null===t.tag),t.tag=e,this._useArgs(n),this}}),l.prototype.use=function(e){s(e);var t=this._baseState;return s(null===t.use),t.use=e,this},l.prototype.optional=function(){return this._baseState.optional=!0,this},l.prototype.def=function(e){var t=this._baseState;return s(null===t.default),t.default=e,t.optional=!0,this},l.prototype.explicit=function(e){var t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.explicit=e,this},l.prototype.implicit=function(e){var t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.implicit=e,this},l.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},l.prototype.key=function(e){var t=this._baseState;return s(null===t.key),t.key=e,this},l.prototype.any=function(){return this._baseState.any=!0,this},l.prototype.choice=function(e){var t=this._baseState;return s(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},l.prototype.contains=function(e){var t=this._baseState;return s(null===t.use),t.contains=e,this},l.prototype._decode=function(e,t){var n=this._baseState;if(null===n.parent)return e.wrapResult(n.children[0]._decode(e,t));var r,i=n.default,s=!0,a=null;if(null!==n.key&&(a=e.enterKey(n.key)),n.optional){var c=null;if(null!==n.explicit?c=n.explicit:null!==n.implicit?c=n.implicit:null!==n.tag&&(c=n.tag),null!==c||n.any){if(s=this._peekTag(e,c,n.any),e.isError(s))return s}else{var l=e.save();try{null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),s=!0}catch(e){s=!1}e.restore(l)}}if(n.obj&&s&&(r=e.enterObject()),s){if(null!==n.explicit){var u=this._decodeTag(e,n.explicit);if(e.isError(u))return u;e=u}var f=e.offset;if(null===n.use&&null===n.choice){if(n.any)l=e.save();var h=this._decodeTag(e,null!==n.implicit?n.implicit:n.tag,n.any);if(e.isError(h))return h;n.any?i=e.raw(l):e=h}if(t&&t.track&&null!==n.tag&&t.track(e.path(),f,e.length,"tagged"),t&&t.track&&null!==n.tag&&t.track(e.path(),e.offset,e.length,"content"),i=n.any?i:null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),e.isError(i))return i;if(n.any||null!==n.choice||null===n.children||n.children.forEach(function(n){n._decode(e,t)}),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){var d=new o(i);i=this._getUse(n.contains,e._reporterState.obj)._decode(d,t)}}return n.obj&&s&&(i=e.leaveObject(r)),null===n.key||null===i&&!0!==s?null!==a&&e.exitKey(a):e.leaveKey(a,n.key,i),i},l.prototype._decodeGeneric=function(e,t,n){var r=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,r.args[0],n):/str$/.test(e)?this._decodeStr(t,e,n):"objid"===e&&r.args?this._decodeObjid(t,r.args[0],r.args[1],n):"objid"===e?this._decodeObjid(t,null,null,n):"gentime"===e||"utctime"===e?this._decodeTime(t,e,n):"null_"===e?this._decodeNull(t,n):"bool"===e?this._decodeBool(t,n):"objDesc"===e?this._decodeStr(t,e,n):"int"===e||"enum"===e?this._decodeInt(t,r.args&&r.args[0],n):null!==r.use?this._getUse(r.use,t._reporterState.obj)._decode(t,n):t.error("unknown tag: "+e)},l.prototype._getUse=function(e,t){var n=this._baseState;return n.useDecoder=this._use(e,t),s(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},l.prototype._decodeChoice=function(e,t){var n=this._baseState,r=null,i=!1;return Object.keys(n.choice).some(function(o){var s=e.save(),a=n.choice[o];try{var c=a._decode(e,t);if(e.isError(c))return!1;r={type:o,value:c},i=!0}catch(t){return e.restore(s),!1}return!0},this),i?r:e.error("Choice not matched")},l.prototype._createEncoderBuffer=function(e){return new i(e,this.reporter)},l.prototype._encode=function(e,t,n){var r=this._baseState;if(null===r.default||r.default!==e){var i=this._encodeValue(e,t,n);if(void 0!==i&&!this._skipDefault(i,t,n))return i}},l.prototype._encodeValue=function(e,t,n){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(e,t||new r);var o=null;if(this.reporter=t,i.optional&&void 0===e){if(null===i.default)return;e=i.default}var s=null,a=!1;if(i.any)o=this._createEncoderBuffer(e);else if(i.choice)o=this._encodeChoice(e,t);else if(i.contains)s=this._getUse(i.contains,n)._encode(e,t),a=!0;else if(i.children)s=i.children.map(function(n){if("null_"===n._baseState.tag)return n._encode(null,t,e);if(null===n._baseState.key)return t.error("Child should have a key");var r=t.enterKey(n._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");var i=n._encode(e[n._baseState.key],t,e);return t.leaveKey(r),i},this).filter(function(e){return e}),s=this._createEncoderBuffer(s);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return t.error("Too many args for : "+i.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var c=this.clone();c._baseState.implicit=null,s=this._createEncoderBuffer(e.map(function(n){var r=this._baseState;return this._getUse(r.args[0],e)._encode(n,t)},c))}else null!==i.use?o=this._getUse(i.use,n)._encode(e,t):(s=this._encodePrimitive(i.tag,e),a=!0);if(!i.any&&null===i.choice){var l=null!==i.implicit?i.implicit:i.tag,u=null===i.implicit?"universal":"context";null===l?null===i.use&&t.error("Tag could be omitted only for .use()"):null===i.use&&(o=this._encodeComposite(l,a,u,s))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o},l.prototype._encodeChoice=function(e,t){var n=this._baseState,r=n.choice[e.type];return r||s(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),r._encode(e.value,t)},l.prototype._encodePrimitive=function(e,t){var n=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&n.args)return this._encodeObjid(t,n.reverseArgs[0],n.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,n.args&&n.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},l.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},l.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},{"../base":9,"minimalistic-assert":379}],11:[function(e,t,n){var r=e("inherits");function i(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function o(e,t){this.path=e,this.rethrow(t)}n.Reporter=i,i.prototype.isError=function(e){return e instanceof o},i.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},i.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},i.prototype.enterKey=function(e){return this._reporterState.path.push(e)},i.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},i.prototype.leaveKey=function(e,t,n){var r=this._reporterState;this.exitKey(e),null!==r.obj&&(r.obj[t]=n)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},i.prototype.leaveObject=function(e){var t=this._reporterState,n=t.obj;return t.obj=e,n},i.prototype.error=function(e){var t,n=this._reporterState,r=e instanceof o;if(t=r?e:new o(n.path.map(function(e){return"["+JSON.stringify(e)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw t;return r||n.errors.push(t),t},i.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},r(o,Error),o.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},{inherits:323}],12:[function(e,t,n){var r=e("../constants");n.tagClass={0:"universal",1:"application",2:"context",3:"private"},n.tagClassByName=r._reverse(n.tagClass),n.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},n.tagByName=r._reverse(n.tag)},{"../constants":13}],13:[function(e,t,n){var r=n;r._reverse=function(e){var t={};return Object.keys(e).forEach(function(n){(0|n)==n&&(n|=0);var r=e[n];t[r]=n}),t},r.der=e("./der")},{"./der":12}],14:[function(e,t,n){var r=e("inherits"),i=e("../../asn1"),o=i.base,s=i.bignum,a=i.constants.der;function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new l,this.tree._init(e.body)}function l(e){o.Node.call(this,"der",e)}function u(e,t){var n=e.readUInt8(t);if(e.isError(n))return n;var r=a.tagClass[n>>6],i=0==(32&n);if(31==(31&n)){var o=n;for(n=0;128==(128&o);){if(o=e.readUInt8(t),e.isError(o))return o;n<<=7,n|=127&o}}else n&=31;return{cls:r,primitive:i,tag:n,tagStr:a.tag[n]}}function f(e,t,n){var r=e.readUInt8(n);if(e.isError(r))return r;if(!t&&128===r)return null;if(0==(128&r))return r;var i=127&r;if(i>4)return e.error("length octect is too long");r=0;for(var o=0;o<i;o++){r<<=8;var s=e.readUInt8(n);if(e.isError(s))return s;r|=s}return r}t.exports=c,c.prototype.decode=function(e,t){return e instanceof o.DecoderBuffer||(e=new o.DecoderBuffer(e,t)),this.tree._decode(e,t)},r(l,o.Node),l.prototype._peekTag=function(e,t,n){if(e.isEmpty())return!1;var r=e.save(),i=u(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(r),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||n)},l.prototype._decodeTag=function(e,t,n){var r=u(e,'Failed to decode tag of "'+t+'"');if(e.isError(r))return r;var i=f(e,r.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!n&&r.tag!==t&&r.tagStr!==t&&r.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(r.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');var o=e.save(),s=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(s)?s:(i=e.offset-o.offset,e.restore(o),e.skip(i,'Failed to match body of: "'+t+'"'))},l.prototype._skipUntilEnd=function(e,t){for(;;){var n=u(e,t);if(e.isError(n))return n;var r,i=f(e,n.primitive,t);if(e.isError(i))return i;if(r=n.primitive||null!==i?e.skip(i):this._skipUntilEnd(e,t),e.isError(r))return r;if("end"===n.tagStr)break}},l.prototype._decodeList=function(e,t,n,r){for(var i=[];!e.isEmpty();){var o=this._peekTag(e,"end");if(e.isError(o))return o;var s=n.decode(e,"der",r);if(e.isError(s)&&o)break;i.push(s)}return i},l.prototype._decodeStr=function(e,t){if("bitstr"===t){var n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}if("bmpstr"===t){var r=e.raw();if(r.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");for(var i="",o=0;o<r.length/2;o++)i+=String.fromCharCode(r.readUInt16BE(2*o));return i}if("numstr"===t){var s=e.raw().toString("ascii");return this._isNumstr(s)?s:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var a=e.raw().toString("ascii");return this._isPrintstr(a)?a:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},l.prototype._decodeObjid=function(e,t,n){for(var r,i=[],o=0;!e.isEmpty();){var s=e.readUInt8();o<<=7,o|=127&s,0==(128&s)&&(i.push(o),o=0)}128&s&&i.push(o);var a=i[0]/40|0,c=i[0]%40;if(r=n?i:[a,c].concat(i.slice(1)),t){var l=t[r.join(" ")];void 0===l&&(l=t[r.join(".")]),void 0!==l&&(r=l)}return r},l.prototype._decodeTime=function(e,t){var n=e.raw().toString();if("gentime"===t)var r=0|n.slice(0,4),i=0|n.slice(4,6),o=0|n.slice(6,8),s=0|n.slice(8,10),a=0|n.slice(10,12),c=0|n.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");r=0|n.slice(0,2),i=0|n.slice(2,4),o=0|n.slice(4,6),s=0|n.slice(6,8),a=0|n.slice(8,10),c=0|n.slice(10,12);r=r<70?2e3+r:1900+r}return Date.UTC(r,i-1,o,s,a,c,0)},l.prototype._decodeNull=function(e){return null},l.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},l.prototype._decodeInt=function(e,t){var n=e.raw(),r=new s(n);return t&&(r=t[r.toString(10)]||r),r},l.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},{"../../asn1":6,inherits:323}],15:[function(e,t,n){var r=n;r.der=e("./der"),r.pem=e("./pem")},{"./der":14,"./pem":16}],16:[function(e,t,n){var r=e("inherits"),i=e("buffer").Buffer,o=e("./der");function s(e){o.call(this,e),this.enc="pem"}r(s,o),t.exports=s,s.prototype.decode=function(e,t){for(var n=e.toString().split(/[\r\n]+/g),r=t.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,c=-1,l=0;l<n.length;l++){var u=n[l].match(s);if(null!==u&&u[2]===r){if(-1!==a){if("END"!==u[1])break;c=l;break}if("BEGIN"!==u[1])break;a=l}}if(-1===a||-1===c)throw new Error("PEM section not found for: "+r);var f=n.slice(a+1,c).join("");f.replace(/[^a-z0-9\+\/=]+/gi,"");var h=new i(f,"base64");return o.prototype.decode.call(this,h,t)}},{"./der":14,buffer:105,inherits:323}],17:[function(e,t,n){var r=e("inherits"),i=e("buffer").Buffer,o=e("../../asn1"),s=o.base,a=o.constants.der;function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new l,this.tree._init(e.body)}function l(e){s.Node.call(this,"der",e)}function u(e){return e<10?"0"+e:e}t.exports=c,c.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},r(l,s.Node),l.prototype._encodeComposite=function(e,t,n,r){var o,s=function(e,t,n,r){var i;"seqof"===e?e="seq":"setof"===e&&(e="set");if(a.tagByName.hasOwnProperty(e))i=a.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return r.error("Unknown tag: "+e);i=e}if(i>=31)return r.error("Multi-octet tag encoding unsupported");t||(i|=32);return i|=a.tagClassByName[n||"universal"]<<6}(e,t,n,this.reporter);if(r.length<128)return(o=new i(2))[0]=s,o[1]=r.length,this._createEncoderBuffer([o,r]);for(var c=1,l=r.length;l>=256;l>>=8)c++;(o=new i(2+c))[0]=s,o[1]=128|c;l=1+c;for(var u=r.length;u>0;l--,u>>=8)o[l]=255&u;return this._createEncoderBuffer([o,r])},l.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var n=new i(2*e.length),r=0;r<e.length;r++)n.writeUInt16BE(e.charCodeAt(r),2*r);return this._createEncoderBuffer(n)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},l.prototype._encodeObjid=function(e,t,n){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var r=0;r<e.length;r++)e[r]|=0}else if(Array.isArray(e)){e=e.slice();for(r=0;r<e.length;r++)e[r]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}var o=0;for(r=0;r<e.length;r++){var s=e[r];for(o++;s>=128;s>>=7)o++}var a=new i(o),c=a.length-1;for(r=e.length-1;r>=0;r--){s=e[r];for(a[c--]=127&s;(s>>=7)>0;)a[c--]=128|127&s}return this._createEncoderBuffer(a)},l.prototype._encodeTime=function(e,t){var n,r=new Date(e);return"gentime"===t?n=[u(r.getFullYear()),u(r.getUTCMonth()+1),u(r.getUTCDate()),u(r.getUTCHours()),u(r.getUTCMinutes()),u(r.getUTCSeconds()),"Z"].join(""):"utctime"===t?n=[u(r.getFullYear()%100),u(r.getUTCMonth()+1),u(r.getUTCDate()),u(r.getUTCHours()),u(r.getUTCMinutes()),u(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(n,"octstr")},l.prototype._encodeNull=function(){return this._createEncoderBuffer("")},l.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!i.isBuffer(e)){var n=e.toArray();!e.sign&&128&n[0]&&n.unshift(0),e=new i(n)}if(i.isBuffer(e)){var r=e.length;0===e.length&&r++;var o=new i(r);return e.copy(o),0===e.length&&(o[0]=0),this._createEncoderBuffer(o)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);r=1;for(var s=e;s>=256;s>>=8)r++;for(s=(o=new Array(r)).length-1;s>=0;s--)o[s]=255&e,e>>=8;return 128&o[0]&&o.unshift(0),this._createEncoderBuffer(new i(o))},l.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},l.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},l.prototype._skipDefault=function(e,t,n){var r,i=this._baseState;if(null===i.default)return!1;var o=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,n).join()),o.length!==i.defaultBuffer.length)return!1;for(r=0;r<o.length;r++)if(o[r]!==i.defaultBuffer[r])return!1;return!0}},{"../../asn1":6,buffer:105,inherits:323}],18:[function(e,t,n){var r=n;r.der=e("./der"),r.pem=e("./pem")},{"./der":17,"./pem":19}],19:[function(e,t,n){var r=e("inherits"),i=e("./der");function o(e){i.call(this,e),this.enc="pem"}r(o,i),t.exports=o,o.prototype.encode=function(e,t){for(var n=i.prototype.encode.call(this,e).toString("base64"),r=["-----BEGIN "+t.label+"-----"],o=0;o<n.length;o+=64)r.push(n.slice(o,o+64));return r.push("-----END "+t.label+"-----"),r.join("\n")}},{"./der":17,inherits:323}],20:[function(e,t,n){(function(n){"use strict";function r(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function i(e){return n.Buffer&&"function"==typeof n.Buffer.isBuffer?n.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var o=e("util/"),s=Object.prototype.hasOwnProperty,a=Array.prototype.slice,c="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function u(e){return!i(e)&&("function"==typeof n.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var f=t.exports=v,h=/\s*function\s+([^\(\s]*)\s*/;function d(e){if(o.isFunction(e)){if(c)return e.name;var t=e.toString().match(h);return t&&t[1]}}function p(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function m(e){if(c||!o.isFunction(e))return o.inspect(e);var t=d(e);return"[Function"+(t?": "+t:"")+"]"}function g(e,t,n,r,i){throw new f.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function v(e,t){e||g(e,!0,t,"==",f.ok)}function b(e,t,n,s){if(e===t)return!0;if(i(e)&&i(t))return 0===r(e,t);if(o.isDate(e)&&o.isDate(t))return e.getTime()===t.getTime();if(o.isRegExp(e)&&o.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(u(e)&&u(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var c=(s=s||{actual:[],expected:[]}).actual.indexOf(e);return-1!==c&&c===s.expected.indexOf(t)||(s.actual.push(e),s.expected.push(t),function(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(o.isPrimitive(e)||o.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=y(e),s=y(t);if(i&&!s||!i&&s)return!1;if(i)return e=a.call(e),t=a.call(t),b(e,t,n);var c,l,u=k(e),f=k(t);if(u.length!==f.length)return!1;for(u.sort(),f.sort(),l=u.length-1;l>=0;l--)if(u[l]!==f[l])return!1;for(l=u.length-1;l>=0;l--)if(c=u[l],!b(e[c],t[c],n,r))return!1;return!0}(e,t,n,s))}return n?e===t:e==t}function y(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function _(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function w(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&g(i,n,"Missing expected exception"+r);var s="string"==typeof r,a=!e&&o.isError(i),c=!e&&i&&!n;if((a&&s&&_(i,n)||c)&&g(i,n,"Got unwanted exception"+r),e&&i&&n&&!_(i,n)||!e&&i)throw i}f.AssertionError=function(e){var t;this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=p(m((t=this).actual),128)+" "+t.operator+" "+p(m(t.expected),128),this.generatedMessage=!0);var n=e.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,n);else{var r=new Error;if(r.stack){var i=r.stack,o=d(n),s=i.indexOf("\n"+o);if(s>=0){var a=i.indexOf("\n",s+1);i=i.substring(a+1)}this.stack=i}}},o.inherits(f.AssertionError,Error),f.fail=g,f.ok=v,f.equal=function(e,t,n){e!=t&&g(e,t,n,"==",f.equal)},f.notEqual=function(e,t,n){e==t&&g(e,t,n,"!=",f.notEqual)},f.deepEqual=function(e,t,n){b(e,t,!1)||g(e,t,n,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(e,t,n){b(e,t,!0)||g(e,t,n,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(e,t,n){b(e,t,!1)&&g(e,t,n,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function e(t,n,r){b(t,n,!0)&&g(t,n,r,"notDeepStrictEqual",e)},f.strictEqual=function(e,t,n){e!==t&&g(e,t,n,"===",f.strictEqual)},f.notStrictEqual=function(e,t,n){e===t&&g(e,t,n,"!==",f.notStrictEqual)},f.throws=function(e,t,n){w(!0,e,t,n)},f.doesNotThrow=function(e,t,n){w(!1,e,t,n)},f.ifError=function(e){if(e)throw e};var k=Object.keys||function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"util/":473}],21:[function(e,t,n){"use strict";t.exports=e("./lib/AsyncEventEmitter")},{"./lib/AsyncEventEmitter":22}],22:[function(e,t,n){"use strict";var r,i=e("events").EventEmitter,o=e("util"),s=e("async/eachSeries");t.exports=r=function(){i.call(this)},o.inherits(r,i),r.prototype.emit=function(e,t,n){var r=this,i=r._events[e]||[];return n||"function"!=typeof t||(n=t,t=void 0),"newListener"!==e&&"removeListener"!==e||(t={event:t,fn:n},n=void 0),i=Array.isArray(i)?i:[i],s(i.slice(),function(e,n){var i;if(e.length<2){try{e.call(r,t)}catch(e){i=e}return n(i)}e.call(r,t,n)},n),r},r.prototype.once=function(e,t){var n,r=this;if("function"!=typeof t)throw new TypeError("listener must be a function");return(n=t.length>=2?function(i,o){r.removeListener(e,n),t(i,o)}:function(i){r.removeListener(e,n),t(i)}).listener=t,r.on(e,n),r},r.prototype.first=function(e,t){var n=this._events[e]||[];if("function"!=typeof t)throw new TypeError("listener must be a function");return Array.isArray(n)||(this._events[e]=n=[n]),n.unshift(t),this},r.prototype.at=function(e,t,n){var r=this._events[e]||[];if("function"!=typeof n)throw new TypeError("listener must be a function");if("number"!=typeof t||t<0)throw new TypeError("index must be a non-negative integer");return Array.isArray(r)||(this._events[e]=r=[r]),r.splice(t,0,n),this},r.prototype.before=function(e,t,n){return this._beforeOrAfter(e,t,n)},r.prototype.after=function(e,t,n){return this._beforeOrAfter(e,t,n,"after")},r.prototype._beforeOrAfter=function(e,t,n,r){var i,o,s=this._events[e]||[],a="after"===r?1:0;if("function"!=typeof n)throw new TypeError("listener must be a function");if("function"!=typeof t)throw new TypeError("target must be a function");for(Array.isArray(s)||(this._events[e]=s=[s]),o=s.length,i=s.length;i--;)if(s[i]===t){o=i+a;break}return s.splice(o,0,n),this}},{"async/eachSeries":28,events:300,util:473}],23:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return(0,i.default)(function(t,n){var i;try{i=e.apply(this,t)}catch(e){return n(e)}(0,r.default)(i)&&"function"==typeof i.then?i.then(function(e){a(n,null,e)},function(e){a(n,e.message?e:new Error(e))}):n(null,i)})};var r=s(e("lodash/isObject")),i=s(e("./internal/initialParams")),o=s(e("./internal/setImmediate"));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){try{e(t,n)}catch(e){(0,o.default)(c,e)}}function c(e){throw e}t.exports=n.default},{"./internal/initialParams":34,"./internal/setImmediate":40,"lodash/isObject":371}],24:[function(e,t,n){(function(e,r){!function(e,r){"object"==typeof n&&void 0!==t?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(e.async=e.async||{})}(this,function(n){"use strict";function i(e,t){t|=0;for(var n=Math.max(e.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=e[t+i];return r}var o=function(e){var t=i(arguments,1);return function(){var n=i(arguments);return e.apply(null,t.concat(n))}},s=function(e){return function(){var t=i(arguments),n=t.pop();e.call(this,t,n)}};function a(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var c="function"==typeof setImmediate&&setImmediate,l="object"==typeof e&&"function"==typeof e.nextTick;function u(e){setTimeout(e,0)}function f(e){return function(t){var n=i(arguments,1);e(function(){t.apply(null,n)})}}var h=f(c?setImmediate:l?e.nextTick:u);function d(e){return s(function(t,n){var r;try{r=e.apply(this,t)}catch(e){return n(e)}a(r)&&"function"==typeof r.then?r.then(function(e){p(n,null,e)},function(e){p(n,e.message?e:new Error(e))}):n(null,r)})}function p(e,t,n){try{e(t,n)}catch(e){h(m,e)}}function m(e){throw e}var g="function"==typeof Symbol;function v(e){return g&&"AsyncFunction"===e[Symbol.toStringTag]}function b(e){return v(e)?d(e):e}function y(e){return function(t){var n=i(arguments,1),r=s(function(n,r){var i=this;return e(t,function(e,t){b(e).apply(i,n.concat(t))},r)});return n.length?r.apply(this,n):r}}var _="object"==typeof r&&r&&r.Object===Object&&r,w="object"==typeof self&&self&&self.Object===Object&&self,k=_||w||Function("return this")(),x=k.Symbol,S=Object.prototype,C=S.hasOwnProperty,A=S.toString,E=x?x.toStringTag:void 0;var T=Object.prototype.toString;var I="[object Null]",D="[object Undefined]",M=x?x.toStringTag:void 0;function O(e){return null==e?void 0===e?D:I:M&&M in Object(e)?function(e){var t=C.call(e,E),n=e[E];try{e[E]=void 0;var r=!0}catch(e){}var i=A.call(e);return r&&(t?e[E]=n:delete e[E]),i}(e):function(e){return T.call(e)}(e)}var P="[object AsyncFunction]",j="[object Function]",N="[object GeneratorFunction]",B="[object Proxy]";var R=9007199254740991;function L(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=R}function F(e){return null!=e&&L(e.length)&&!function(e){if(!a(e))return!1;var t=O(e);return t==j||t==N||t==P||t==B}(e)}var H={};function z(){}function q(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}}var U="function"==typeof Symbol&&Symbol.iterator,$=function(e){return U&&e[U]&&e[U]()};function W(e){return null!=e&&"object"==typeof e}var V="[object Arguments]";function K(e){return W(e)&&O(e)==V}var G=Object.prototype,Y=G.hasOwnProperty,X=G.propertyIsEnumerable,J=K(function(){return arguments}())?K:function(e){return W(e)&&Y.call(e,"callee")&&!X.call(e,"callee")},Z=Array.isArray;var Q="object"==typeof n&&n&&!n.nodeType&&n,ee=Q&&"object"==typeof t&&t&&!t.nodeType&&t,te=ee&&ee.exports===Q?k.Buffer:void 0,ne=(te?te.isBuffer:void 0)||function(){return!1},re=9007199254740991,ie=/^(?:0|[1-9]\d*)$/;function oe(e,t){return!!(t=null==t?re:t)&&("number"==typeof e||ie.test(e))&&e>-1&&e%1==0&&e<t}var se={};se["[object Float32Array]"]=se["[object Float64Array]"]=se["[object Int8Array]"]=se["[object Int16Array]"]=se["[object Int32Array]"]=se["[object Uint8Array]"]=se["[object Uint8ClampedArray]"]=se["[object Uint16Array]"]=se["[object Uint32Array]"]=!0,se["[object Arguments]"]=se["[object Array]"]=se["[object ArrayBuffer]"]=se["[object Boolean]"]=se["[object DataView]"]=se["[object Date]"]=se["[object Error]"]=se["[object Function]"]=se["[object Map]"]=se["[object Number]"]=se["[object Object]"]=se["[object RegExp]"]=se["[object Set]"]=se["[object String]"]=se["[object WeakMap]"]=!1;var ae,ce="object"==typeof n&&n&&!n.nodeType&&n,le=ce&&"object"==typeof t&&t&&!t.nodeType&&t,ue=le&&le.exports===ce&&_.process,fe=function(){try{return ue&&ue.binding&&ue.binding("util")}catch(e){}}(),he=fe&&fe.isTypedArray,de=he?(ae=he,function(e){return ae(e)}):function(e){return W(e)&&L(e.length)&&!!se[O(e)]},pe=Object.prototype.hasOwnProperty;function me(e,t){var n=Z(e),r=!n&&J(e),i=!n&&!r&&ne(e),o=!n&&!r&&!i&&de(e),s=n||r||i||o,a=s?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=a.length;for(var l in e)!t&&!pe.call(e,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||oe(l,c))||a.push(l);return a}var ge=Object.prototype;var ve=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),be=Object.prototype.hasOwnProperty;function ye(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||ge))return ve(e);var t,n,r=[];for(var i in Object(e))be.call(e,i)&&"constructor"!=i&&r.push(i);return r}function _e(e){return F(e)?me(e):ye(e)}function we(e){if(F(e))return function(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}(e);var t,n,r,i,o=$(e);return o?function(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}(o):(n=_e(t=e),r=-1,i=n.length,function(){var e=n[++r];return r<i?{value:t[e],key:e}:null})}function ke(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function xe(e){return function(t,n,r){if(r=q(r||z),e<=0||!t)return r(null);var i=we(t),o=!1,s=0;function a(e,t){if(s-=1,e)o=!0,r(e);else{if(t===H||o&&s<=0)return o=!0,r(null);c()}}function c(){for(;s<e&&!o;){var t=i();if(null===t)return o=!0,void(s<=0&&r(null));s+=1,n(t.value,t.key,ke(a))}}c()}}function Se(e,t,n,r){xe(t)(e,b(n),r)}function Ce(e,t){return function(n,r,i){return e(n,t,r,i)}}function Ae(e,t,n){n=q(n||z);var r=0,i=0,o=e.length;function s(e,t){e?n(e):++i!==o&&t!==H||n(null)}for(0===o&&n(null);r<o;r++)t(e[r],r,ke(s))}var Ee=Ce(Se,1/0),Te=function(e,t,n){(F(e)?Ae:Ee)(e,b(t),n)};function Ie(e){return function(t,n,r){return e(Te,t,b(n),r)}}function De(e,t,n,r){r=r||z,t=t||[];var i=[],o=0,s=b(n);e(t,function(e,t,n){var r=o++;s(e,function(e,t){i[r]=t,n(e)})},function(e){r(e,i)})}var Me=Ie(De),Oe=y(Me);function Pe(e){return function(t,n,r,i){return e(xe(n),t,b(r),i)}}var je=Pe(De),Ne=Ce(je,1),Be=y(Ne);function Re(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}var Le,Fe=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),s=o.length;s--;){var a=o[Le?s:++r];if(!1===t(i[a],a,i))break}return e};function He(e,t){return e&&Fe(e,t,_e)}function ze(e){return e!=e}function qe(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,ze,n)}var Ue=function(e,t,n){"function"==typeof t&&(n=t,t=null),n=q(n||z);var r=_e(e).length;if(!r)return n(null);t||(t=r);var o={},s=0,a=!1,c=Object.create(null),l=[],u=[],f={};function h(e,t){l.push(function(){!function(e,t){if(a)return;var r=ke(function(t,r){if(s--,arguments.length>2&&(r=i(arguments,1)),t){var l={};He(o,function(e,t){l[t]=e}),l[e]=r,a=!0,c=Object.create(null),n(t,l)}else o[e]=r,Re(c[e]||[],function(e){e()}),d()});s++;var l=b(t[t.length-1]);t.length>1?l(o,r):l(r)}(e,t)})}function d(){if(0===l.length&&0===s)return n(null,o);for(;l.length&&s<t;){l.shift()()}}function p(t){var n=[];return He(e,function(e,r){Z(e)&&qe(e,t,0)>=0&&n.push(r)}),n}He(e,function(t,n){if(!Z(t))return h(n,[t]),void u.push(n);var r=t.slice(0,t.length-1),i=r.length;if(0===i)return h(n,t),void u.push(n);f[n]=i,Re(r,function(o){if(!e[o])throw new Error("async.auto task `"+n+"` has a non-existent dependency `"+o+"` in "+r.join(", "));!function(e,t){var n=c[e];n||(n=c[e]=[]);n.push(t)}(o,function(){0===--i&&h(n,t)})})}),function(){var e,t=0;for(;u.length;)e=u.pop(),t++,Re(p(e),function(e){0==--f[e]&&u.push(e)});if(t!==r)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),d()};function $e(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var We="[object Symbol]";var Ve=1/0,Ke=x?x.prototype:void 0,Ge=Ke?Ke.toString:void 0;function Ye(e){if("string"==typeof e)return e;if(Z(e))return $e(e,Ye)+"";if(function(e){return"symbol"==typeof e||W(e)&&O(e)==We}(e))return Ge?Ge.call(e):"";var t=e+"";return"0"==t&&1/e==-Ve?"-0":t}function Xe(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}(e,t,n)}var Je=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Ze="[\\ud800-\\udfff]",Qe="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",et="\\ud83c[\\udffb-\\udfff]",tt="[^\\ud800-\\udfff]",nt="(?:\\ud83c[\\udde6-\\uddff]){2}",rt="[\\ud800-\\udbff][\\udc00-\\udfff]",it="(?:"+Qe+"|"+et+")"+"?",ot="[\\ufe0e\\ufe0f]?"+it+("(?:\\u200d(?:"+[tt,nt,rt].join("|")+")[\\ufe0e\\ufe0f]?"+it+")*"),st="(?:"+[tt+Qe+"?",Qe,nt,rt,Ze].join("|")+")",at=RegExp(et+"(?="+et+")|"+st+ot,"g");function ct(e){return function(e){return Je.test(e)}(e)?function(e){return e.match(at)||[]}(e):function(e){return e.split("")}(e)}var lt=/^\s+|\s+$/g;function ut(e,t,n){var r;if((e=null==(r=e)?"":Ye(r))&&(n||void 0===t))return e.replace(lt,"");if(!e||!(t=Ye(t)))return e;var i=ct(e),o=ct(t);return Xe(i,function(e,t){for(var n=-1,r=e.length;++n<r&&qe(t,e[n],0)>-1;);return n}(i,o),function(e,t){for(var n=e.length;n--&&qe(t,e[n],0)>-1;);return n}(i,o)+1).join("")}var ft=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,ht=/,/,dt=/(=.+)?(\s*)$/,pt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function mt(e,t){var n={};He(e,function(e,t){var r,i,o=v(e),s=!o&&1===e.length||o&&0===e.length;if(Z(e))r=e.slice(0,-1),e=e[e.length-1],n[t]=r.concat(r.length>0?a:e);else if(s)n[t]=e;else{if(r=i=(i=(i=(i=(i=e).toString().replace(pt,"")).match(ft)[2].replace(" ",""))?i.split(ht):[]).map(function(e){return ut(e.replace(dt,""))}),0===e.length&&!o&&0===r.length)throw new Error("autoInject task functions require explicit parameters.");o||r.pop(),n[t]=r.concat(a)}function a(t,n){var i=$e(r,function(e){return t[e]});i.push(n),b(e).apply(null,i)}}),Ue(n,t)}function gt(){this.head=this.tail=null,this.length=0}function vt(e,t){e.length=1,e.head=e.tail=t}function bt(e,t,n){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var r=b(e),i=0,o=[],s=!1;function a(e,t,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(u.started=!0,Z(e)||(e=[e]),0===e.length&&u.idle())return h(function(){u.drain()});for(var r=0,i=e.length;r<i;r++){var o={data:e[r],callback:n||z};t?u._tasks.unshift(o):u._tasks.push(o)}s||(s=!0,h(function(){s=!1,u.process()}))}function c(e){return function(t){i-=1;for(var n=0,r=e.length;n<r;n++){var s=e[n],a=qe(o,s,0);0===a?o.shift():a>0&&o.splice(a,1),s.callback.apply(s,arguments),null!=t&&u.error(t,s.data)}i<=u.concurrency-u.buffer&&u.unsaturated(),u.idle()&&u.drain(),u.process()}}var l=!1,u={_tasks:new gt,concurrency:t,payload:n,saturated:z,unsaturated:z,buffer:t/4,empty:z,drain:z,error:z,started:!1,paused:!1,push:function(e,t){a(e,!1,t)},kill:function(){u.drain=z,u._tasks.empty()},unshift:function(e,t){a(e,!0,t)},remove:function(e){u._tasks.remove(e)},process:function(){if(!l){for(l=!0;!u.paused&&i<u.concurrency&&u._tasks.length;){var e=[],t=[],n=u._tasks.length;u.payload&&(n=Math.min(n,u.payload));for(var s=0;s<n;s++){var a=u._tasks.shift();e.push(a),o.push(a),t.push(a.data)}i+=1,0===u._tasks.length&&u.empty(),i===u.concurrency&&u.saturated();var f=ke(c(e));r(t,f)}l=!1}},length:function(){return u._tasks.length},running:function(){return i},workersList:function(){return o},idle:function(){return u._tasks.length+i===0},pause:function(){u.paused=!0},resume:function(){!1!==u.paused&&(u.paused=!1,h(u.process))}};return u}function yt(e,t){return bt(e,1,t)}gt.prototype.removeLink=function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e},gt.prototype.empty=function(){for(;this.head;)this.shift();return this},gt.prototype.insertAfter=function(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1},gt.prototype.insertBefore=function(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1},gt.prototype.unshift=function(e){this.head?this.insertBefore(this.head,e):vt(this,e)},gt.prototype.push=function(e){this.tail?this.insertAfter(this.tail,e):vt(this,e)},gt.prototype.shift=function(){return this.head&&this.removeLink(this.head)},gt.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},gt.prototype.toArray=function(){for(var e=Array(this.length),t=this.head,n=0;n<this.length;n++)e[n]=t.data,t=t.next;return e},gt.prototype.remove=function(e){for(var t=this.head;t;){var n=t.next;e(t)&&this.removeLink(t),t=n}return this};var _t=Ce(Se,1);function wt(e,t,n,r){r=q(r||z);var i=b(n);_t(e,function(e,n,r){i(t,e,function(e,n){t=n,r(e)})},function(e){r(e,t)})}function kt(){var e=$e(arguments,b);return function(){var t=i(arguments),n=this,r=t[t.length-1];"function"==typeof r?t.pop():r=z,wt(e,t,function(e,t,r){t.apply(n,e.concat(function(e){var t=i(arguments,1);r(e,t)}))},function(e,t){r.apply(n,[e].concat(t))})}}var xt=function(){return kt.apply(null,i(arguments).reverse())},St=Array.prototype.concat,Ct=function(e,t,n,r){r=r||z;var o=b(n);je(e,t,function(e,t){o(e,function(e){return e?t(e):t(null,i(arguments,1))})},function(e,t){for(var n=[],i=0;i<t.length;i++)t[i]&&(n=St.apply(n,t[i]));return r(e,n)})},At=Ce(Ct,1/0),Et=Ce(Ct,1),Tt=function(){var e=i(arguments),t=[null].concat(e);return function(){return arguments[arguments.length-1].apply(this,t)}};function It(e){return e}function Dt(e,t){return function(n,r,i,o){o=o||z;var s,a=!1;n(r,function(n,r,o){i(n,function(r,i){r?o(r):e(i)&&!s?(a=!0,s=t(!0,n),o(null,H)):o()})},function(e){e?o(e):o(null,a?s:t(!1))})}}function Mt(e,t){return t}var Ot=Ie(Dt(It,Mt)),Pt=Pe(Dt(It,Mt)),jt=Ce(Pt,1);function Nt(e){return function(t){var n=i(arguments,1);n.push(function(t){var n=i(arguments,1);"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&Re(n,function(t){console[e](t)}))}),b(t).apply(null,n)}}var Bt=Nt("dir");function Rt(e,t,n){n=ke(n||z);var r=b(e),o=b(t);function s(e){if(e)return n(e);var t=i(arguments,1);t.push(a),o.apply(this,t)}function a(e,t){return e?n(e):t?void r(s):n(null)}a(null,!0)}function Lt(e,t,n){n=ke(n||z);var r=b(e),o=function(e){if(e)return n(e);var s=i(arguments,1);if(t.apply(this,s))return r(o);n.apply(null,[null].concat(s))};r(o)}function Ft(e,t,n){Lt(e,function(){return!t.apply(this,arguments)},n)}function Ht(e,t,n){n=ke(n||z);var r=b(t),i=b(e);function o(e){if(e)return n(e);i(s)}function s(e,t){return e?n(e):t?void r(o):n(null)}i(s)}function zt(e){return function(t,n,r){return e(t,r)}}function qt(e,t,n){Te(e,zt(b(t)),n)}function Ut(e,t,n,r){xe(t)(e,zt(b(n)),r)}var $t=Ce(Ut,1);function Wt(e){return v(e)?e:s(function(t,n){var r=!0;t.push(function(){var e=arguments;r?h(function(){n.apply(null,e)}):n.apply(null,e)}),e.apply(this,t),r=!1})}function Vt(e){return!e}var Kt=Ie(Dt(Vt,Vt)),Gt=Pe(Dt(Vt,Vt)),Yt=Ce(Gt,1);function Xt(e){return function(t){return null==t?void 0:t[e]}}function Jt(e,t,n,r){var i=new Array(t.length);e(t,function(e,t,r){n(e,function(e,n){i[t]=!!n,r(e)})},function(e){if(e)return r(e);for(var n=[],o=0;o<t.length;o++)i[o]&&n.push(t[o]);r(null,n)})}function Zt(e,t,n,r){var i=[];e(t,function(e,t,r){n(e,function(n,o){n?r(n):(o&&i.push({index:t,value:e}),r())})},function(e){e?r(e):r(null,$e(i.sort(function(e,t){return e.index-t.index}),Xt("value")))})}function Qt(e,t,n,r){(F(t)?Jt:Zt)(e,t,b(n),r||z)}var en=Ie(Qt),tn=Pe(Qt),nn=Ce(tn,1);function rn(e,t){var n=ke(t||z),r=b(Wt(e));!function e(t){if(t)return n(t);r(e)}()}var on=function(e,t,n,r){r=r||z;var i=b(n);je(e,t,function(e,t){i(e,function(n,r){return n?t(n):t(null,{key:r,val:e})})},function(e,t){for(var n={},i=Object.prototype.hasOwnProperty,o=0;o<t.length;o++)if(t[o]){var s=t[o].key,a=t[o].val;i.call(n,s)?n[s].push(a):n[s]=[a]}return r(e,n)})},sn=Ce(on,1/0),an=Ce(on,1),cn=Nt("log");function ln(e,t,n,r){r=q(r||z);var i={},o=b(n);Se(e,t,function(e,t,n){o(e,t,function(e,r){if(e)return n(e);i[t]=r,n()})},function(e){r(e,i)})}var un=Ce(ln,1/0),fn=Ce(ln,1);function hn(e,t){return t in e}function dn(e,t){var n=Object.create(null),r=Object.create(null);t=t||It;var o=b(e),a=s(function(e,s){var a=t.apply(null,e);hn(n,a)?h(function(){s.apply(null,n[a])}):hn(r,a)?r[a].push(s):(r[a]=[s],o.apply(null,e.concat(function(){var e=i(arguments);n[a]=e;var t=r[a];delete r[a];for(var o=0,s=t.length;o<s;o++)t[o].apply(null,e)})))});return a.memo=n,a.unmemoized=e,a}var pn=f(l?e.nextTick:c?setImmediate:u);function mn(e,t,n){n=n||z;var r=F(t)?[]:{};e(t,function(e,t,n){b(e)(function(e,o){arguments.length>2&&(o=i(arguments,1)),r[t]=o,n(e)})},function(e){n(e,r)})}function gn(e,t){mn(Te,e,t)}function vn(e,t,n){mn(xe(t),e,n)}var bn=function(e,t){var n=b(e);return bt(function(e,t){n(e[0],t)},t,1)},yn=function(e,t){var n=bn(e,t);return n.push=function(e,t,r){if(null==r&&(r=z),"function"!=typeof r)throw new Error("task callback must be a function");if(n.started=!0,Z(e)||(e=[e]),0===e.length)return h(function(){n.drain()});t=t||0;for(var i=n._tasks.head;i&&t>=i.priority;)i=i.next;for(var o=0,s=e.length;o<s;o++){var a={data:e[o],priority:t,callback:r};i?n._tasks.insertBefore(i,a):n._tasks.push(a)}h(n.process)},delete n.unshift,n};function _n(e,t){if(t=q(t||z),!Z(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var n=0,r=e.length;n<r;n++)b(e[n])(t)}function wn(e,t,n,r){wt(i(e).reverse(),t,n,r)}function kn(e){var t=b(e);return s(function(e,n){return e.push(function(e,t){var r;e?n(null,{error:e}):(r=arguments.length<=2?t:i(arguments,1),n(null,{value:r}))}),t.apply(this,e)})}function xn(e){var t;return Z(e)?t=$e(e,kn):(t={},He(e,function(e,n){t[n]=kn.call(this,e)})),t}function Sn(e,t,n,r){Qt(e,t,function(e,t){n(e,function(e,n){t(e,!n)})},r)}var Cn=Ie(Sn),An=Pe(Sn),En=Ce(An,1);function Tn(e){return function(){return e}}function In(e,t,n){var r=5,i=0,o={times:r,intervalFunc:Tn(i)};if(arguments.length<3&&"function"==typeof e?(n=t||z,t=e):(!function(e,t){if("object"==typeof t)e.times=+t.times||r,e.intervalFunc="function"==typeof t.interval?t.interval:Tn(+t.interval||i),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||r}}(o,e),n=n||z),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var s=b(t),a=1;!function e(){s(function(t){t&&a++<o.times&&("function"!=typeof o.errorFilter||o.errorFilter(t))?setTimeout(e,o.intervalFunc(a)):n.apply(null,arguments)})}()}var Dn=function(e,t){t||(t=e,e=null);var n=b(t);return s(function(t,r){function i(e){n.apply(null,t.concat(e))}e?In(e,i,r):In(i,r)})};function Mn(e,t){mn(_t,e,t)}var On=Ie(Dt(Boolean,It)),Pn=Pe(Dt(Boolean,It)),jn=Ce(Pn,1);function Nn(e,t,n){var r=b(t);function i(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}Me(e,function(e,t){r(e,function(n,r){if(n)return t(n);t(null,{value:e,criteria:r})})},function(e,t){if(e)return n(e);n(null,$e(t.sort(i),Xt("value")))})}function Bn(e,t,n){var r=b(e);return s(function(i,o){var s,a=!1;i.push(function(){a||(o.apply(null,arguments),clearTimeout(s))}),s=setTimeout(function(){var t=e.name||"anonymous",r=new Error('Callback function "'+t+'" timed out.');r.code="ETIMEDOUT",n&&(r.info=n),a=!0,o(r)},t),r.apply(null,i)})}var Rn=Math.ceil,Ln=Math.max;function Fn(e,t,n,r){var i=b(n);je(function(e,t,n,r){for(var i=-1,o=Ln(Rn((t-e)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=e,e+=n;return s}(0,e,1),t,i,r)}var Hn=Ce(Fn,1/0),zn=Ce(Fn,1);function qn(e,t,n,r){arguments.length<=3&&(r=n,n=t,t=Z(e)?[]:{}),r=q(r||z);var i=b(n);Te(e,function(e,n,r){i(t,e,n,r)},function(e){r(e,t)})}function Un(e,t){var n,r=null;t=t||z,$t(e,function(e,t){b(e)(function(e,o){n=arguments.length>2?i(arguments,1):o,r=e,t(!e)})},function(){t(r,n)})}function $n(e){return function(){return(e.unmemoized||e).apply(null,arguments)}}function Wn(e,t,n){n=ke(n||z);var r=b(t);if(!e())return n(null);var o=function(t){if(t)return n(t);if(e())return r(o);var s=i(arguments,1);n.apply(null,[null].concat(s))};r(o)}function Vn(e,t,n){Wn(function(){return!e.apply(this,arguments)},t,n)}var Kn=function(e,t){if(t=q(t||z),!Z(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var n=0;function r(t){var r=b(e[n++]);t.push(ke(o)),r.apply(null,t)}function o(o){if(o||n===e.length)return t.apply(null,arguments);r(i(arguments,1))}r([])},Gn={apply:o,applyEach:Oe,applyEachSeries:Be,asyncify:d,auto:Ue,autoInject:mt,cargo:yt,compose:xt,concat:At,concatLimit:Ct,concatSeries:Et,constant:Tt,detect:Ot,detectLimit:Pt,detectSeries:jt,dir:Bt,doDuring:Rt,doUntil:Ft,doWhilst:Lt,during:Ht,each:qt,eachLimit:Ut,eachOf:Te,eachOfLimit:Se,eachOfSeries:_t,eachSeries:$t,ensureAsync:Wt,every:Kt,everyLimit:Gt,everySeries:Yt,filter:en,filterLimit:tn,filterSeries:nn,forever:rn,groupBy:sn,groupByLimit:on,groupBySeries:an,log:cn,map:Me,mapLimit:je,mapSeries:Ne,mapValues:un,mapValuesLimit:ln,mapValuesSeries:fn,memoize:dn,nextTick:pn,parallel:gn,parallelLimit:vn,priorityQueue:yn,queue:bn,race:_n,reduce:wt,reduceRight:wn,reflect:kn,reflectAll:xn,reject:Cn,rejectLimit:An,rejectSeries:En,retry:In,retryable:Dn,seq:kt,series:Mn,setImmediate:h,some:On,someLimit:Pn,someSeries:jn,sortBy:Nn,timeout:Bn,times:Hn,timesLimit:Fn,timesSeries:zn,transform:qn,tryEach:Un,unmemoize:$n,until:Vn,waterfall:Kn,whilst:Wn,all:Kt,allLimit:Gt,allSeries:Yt,any:On,anyLimit:Pn,anySeries:jn,find:Ot,findLimit:Pt,findSeries:jt,forEach:qt,forEachSeries:$t,forEachLimit:Ut,forEachOf:Te,forEachOfSeries:_t,forEachOfLimit:Se,inject:wt,foldl:wt,foldr:wn,select:en,selectLimit:tn,selectSeries:nn,wrapSync:d};n.default=Gn,n.apply=o,n.applyEach=Oe,n.applyEachSeries=Be,n.asyncify=d,n.auto=Ue,n.autoInject=mt,n.cargo=yt,n.compose=xt,n.concat=At,n.concatLimit=Ct,n.concatSeries=Et,n.constant=Tt,n.detect=Ot,n.detectLimit=Pt,n.detectSeries=jt,n.dir=Bt,n.doDuring=Rt,n.doUntil=Ft,n.doWhilst=Lt,n.during=Ht,n.each=qt,n.eachLimit=Ut,n.eachOf=Te,n.eachOfLimit=Se,n.eachOfSeries=_t,n.eachSeries=$t,n.ensureAsync=Wt,n.every=Kt,n.everyLimit=Gt,n.everySeries=Yt,n.filter=en,n.filterLimit=tn,n.filterSeries=nn,n.forever=rn,n.groupBy=sn,n.groupByLimit=on,n.groupBySeries=an,n.log=cn,n.map=Me,n.mapLimit=je,n.mapSeries=Ne,n.mapValues=un,n.mapValuesLimit=ln,n.mapValuesSeries=fn,n.memoize=dn,n.nextTick=pn,n.parallel=gn,n.parallelLimit=vn,n.priorityQueue=yn,n.queue=bn,n.race=_n,n.reduce=wt,n.reduceRight=wn,n.reflect=kn,n.reflectAll=xn,n.reject=Cn,n.rejectLimit=An,n.rejectSeries=En,n.retry=In,n.retryable=Dn,n.seq=kt,n.series=Mn,n.setImmediate=h,n.some=On,n.someLimit=Pn,n.someSeries=jn,n.sortBy=Nn,n.timeout=Bn,n.times=Hn,n.timesLimit=Fn,n.timesSeries=zn,n.transform=qn,n.tryEach=Un,n.unmemoize=$n,n.until=Vn,n.waterfall=Kn,n.whilst=Wn,n.all=Kt,n.allLimit=Gt,n.allSeries=Yt,n.any=On,n.anyLimit=Pn,n.anySeries=jn,n.find=Ot,n.findLimit=Pt,n.findSeries=jt,n.forEach=qt,n.forEachSeries=$t,n.forEachLimit=Ut,n.forEachOf=Te,n.forEachOfSeries=_t,n.forEachOfLimit=Se,n.inject=wt,n.foldl=wt,n.foldr=wn,n.select=en,n.selectLimit=tn,n.selectSeries=nn,n.wrapSync=d,Object.defineProperty(n,"__esModule",{value:!0})})}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:102}],25:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n,s){(0,r.default)(t)(e,(0,i.default)((0,o.default)(n)),s)};var r=s(e("./internal/eachOfLimit")),i=s(e("./internal/withoutIndex")),o=s(e("./internal/wrapAsync"));function s(e){return e&&e.__esModule?e:{default:e}}t.exports=n.default},{"./internal/eachOfLimit":32,"./internal/withoutIndex":42,"./internal/wrapAsync":43}],26:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){((0,r.default)(e)?h:d)(e,(0,u.default)(t),n)};var r=f(e("lodash/isArrayLike")),i=f(e("./internal/breakLoop")),o=f(e("./eachOfLimit")),s=f(e("./internal/doLimit")),a=f(e("lodash/noop")),c=f(e("./internal/once")),l=f(e("./internal/onlyOnce")),u=f(e("./internal/wrapAsync"));function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n){n=(0,c.default)(n||a.default);var r=0,o=0,s=e.length;function u(e,t){e?n(e):++o!==s&&t!==i.default||n(null)}for(0===s&&n(null);r<s;r++)t(e[r],r,(0,l.default)(u))}var d=(0,s.default)(o.default,1/0);t.exports=n.default},{"./eachOfLimit":27,"./internal/breakLoop":29,"./internal/doLimit":30,"./internal/once":37,"./internal/onlyOnce":38,"./internal/wrapAsync":43,"lodash/isArrayLike":367,"lodash/noop":375}],27:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n,o){(0,r.default)(t)(e,(0,i.default)(n),o)};var r=o(e("./internal/eachOfLimit")),i=o(e("./internal/wrapAsync"));function o(e){return e&&e.__esModule?e:{default:e}}t.exports=n.default},{"./internal/eachOfLimit":32,"./internal/wrapAsync":43}],28:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=o(e("./eachLimit")),i=o(e("./internal/doLimit"));function o(e){return e&&e.__esModule?e:{default:e}}n.default=(0,i.default)(r.default,1),t.exports=n.default},{"./eachLimit":25,"./internal/doLimit":30}],29:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={},t.exports=n.default},{}],30:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return function(n,r,i){return e(n,t,r,i)}},t.exports=n.default},{}],31:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return function(t,n,o){return e(r.default,t,(0,i.default)(n),o)}};var r=o(e("../eachOf")),i=o(e("./wrapAsync"));function o(e){return e&&e.__esModule?e:{default:e}}t.exports=n.default},{"../eachOf":26,"./wrapAsync":43}],32:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return function(t,n,c){if(c=(0,i.default)(c||r.default),e<=0||!t)return c(null);var l=(0,o.default)(t),u=!1,f=0;function h(e,t){if(f-=1,e)u=!0,c(e);else{if(t===a.default||u&&f<=0)return u=!0,c(null);d()}}function d(){for(;f<e&&!u;){var t=l();if(null===t)return u=!0,void(f<=0&&c(null));f+=1,n(t.value,t.key,(0,s.default)(h))}}d()}};var r=c(e("lodash/noop")),i=c(e("./once")),o=c(e("./iterator")),s=c(e("./onlyOnce")),a=c(e("./breakLoop"));function c(e){return e&&e.__esModule?e:{default:e}}t.exports=n.default},{"./breakLoop":29,"./iterator":35,"./once":37,"./onlyOnce":38,"lodash/noop":375}],33:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return r&&e[r]&&e[r]()};var r="function"==typeof Symbol&&Symbol.iterator;t.exports=n.default},{}],34:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return function(){var t=(0,o.default)(arguments),n=t.pop();e.call(this,t,n)}};var r,i=e("./slice"),o=(r=i)&&r.__esModule?r:{default:r};t.exports=n.default},{"./slice":41}],35:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if((0,r.default)(e))return function(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}(e);var t=(0,i.default)(e);return t?function(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}(t):(n=e,s=(0,o.default)(n),a=-1,c=s.length,function(){var e=s[++a];return a<c?{value:n[e],key:e}:null});var n,s,a,c};var r=s(e("lodash/isArrayLike")),i=s(e("./getIterator")),o=s(e("lodash/keys"));function s(e){return e&&e.__esModule?e:{default:e}}t.exports=n.default},{"./getIterator":33,"lodash/isArrayLike":367,"lodash/keys":374}],36:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n,o){o=o||r.default,t=t||[];var s=[],a=0,c=(0,i.default)(n);e(t,function(e,t,n){var r=a++;c(e,function(e,t){s[r]=t,n(e)})},function(e){o(e,s)})};var r=o(e("lodash/noop")),i=o(e("./wrapAsync"));function o(e){return e&&e.__esModule?e:{default:e}}t.exports=n.default},{"./wrapAsync":43,"lodash/noop":375}],37:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}},t.exports=n.default},{}],38:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}},t.exports=n.default},{}],39:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){n=n||r.default;var a=(0,i.default)(t)?[]:{};e(t,function(e,t,n){(0,s.default)(e)(function(e,r){arguments.length>2&&(r=(0,o.default)(arguments,1)),a[t]=r,n(e)})},function(e){n(e,a)})};var r=a(e("lodash/noop")),i=a(e("lodash/isArrayLike")),o=a(e("./slice")),s=a(e("./wrapAsync"));function a(e){return e&&e.__esModule?e:{default:e}}t.exports=n.default},{"./slice":41,"./wrapAsync":43,"lodash/isArrayLike":367,"lodash/noop":375}],40:[function(e,t,n){(function(t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hasNextTick=n.hasSetImmediate=void 0,n.fallback=l,n.wrap=u;var r,i=e("./slice"),o=(r=i)&&r.__esModule?r:{default:r};var s,a=n.hasSetImmediate="function"==typeof setImmediate&&setImmediate,c=n.hasNextTick="object"==typeof t&&"function"==typeof t.nextTick;function l(e){setTimeout(e,0)}function u(e){return function(t){var n=(0,o.default)(arguments,1);e(function(){t.apply(null,n)})}}s=a?setImmediate:c?t.nextTick:l,n.default=u(s)}).call(this,e("_process"))},{"./slice":41,_process:102}],41:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){t|=0;for(var n=Math.max(e.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=e[t+i];return r},t.exports=n.default},{}],42:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return function(t,n,r){return e(t,r)}},t.exports=n.default},{}],43:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isAsync=void 0;var r,i=e("../asyncify"),o=(r=i)&&r.__esModule?r:{default:r};var s="function"==typeof Symbol;function a(e){return s&&"AsyncFunction"===e[Symbol.toStringTag]}n.default=function(e){return a(e)?(0,o.default)(e):e},n.isAsync=a},{"../asyncify":23}],44:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=o(e("./internal/doParallel")),i=o(e("./internal/map"));function o(e){return e&&e.__esModule?e:{default:e}}n.default=(0,r.default)(i.default),t.exports=n.default},{"./internal/doParallel":31,"./internal/map":36}],45:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){(0,i.default)(r.default,e,t)};var r=o(e("./eachOf")),i=o(e("./internal/parallel"));function o(e){return e&&e.__esModule?e:{default:e}}t.exports=n.default},{"./eachOf":26,"./internal/parallel":39}],46:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){var s=5,a=0,c={times:s,intervalFunc:(0,i.default)(a)};arguments.length<3&&"function"==typeof e?(n=t||r.default,t=e):(!function(e,t){if("object"==typeof t)e.times=+t.times||s,e.intervalFunc="function"==typeof t.interval?t.interval:(0,i.default)(+t.interval||a),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||s}}(c,e),n=n||r.default);if("function"!=typeof t)throw new Error("Invalid arguments for async.retry");var l=(0,o.default)(t),u=1;!function e(){l(function(t){t&&u++<c.times&&("function"!=typeof c.errorFilter||c.errorFilter(t))?setTimeout(e,c.intervalFunc(u)):n.apply(null,arguments)})}()};var r=s(e("lodash/noop")),i=s(e("lodash/constant")),o=s(e("./internal/wrapAsync"));function s(e){return e&&e.__esModule?e:{default:e}}t.exports=n.default},{"./internal/wrapAsync":43,"lodash/constant":364,"lodash/noop":375}],47:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){if(t=(0,o.default)(t||i.default),!(0,r.default)(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var n=0;function l(t){var r=(0,c.default)(e[n++]);t.push((0,a.default)(u)),r.apply(null,t)}function u(r){if(r||n===e.length)return t.apply(null,arguments);l((0,s.default)(arguments,1))}l([])};var r=l(e("lodash/isArray")),i=l(e("lodash/noop")),o=l(e("./internal/once")),s=l(e("./internal/slice")),a=l(e("./internal/onlyOnce")),c=l(e("./internal/wrapAsync"));function l(e){return e&&e.__esModule?e:{default:e}}t.exports=n.default},{"./internal/once":37,"./internal/onlyOnce":38,"./internal/slice":41,"./internal/wrapAsync":43,"lodash/isArray":366,"lodash/noop":375}],48:[function(e,t,n){(function(e){!function(e,r){"object"==typeof n&&void 0!==t?t.exports=r():"function"==typeof define&&define.amd?define(r):e.avalon=r()}(this,function(){"use strict";var t="object"==typeof window?window:"object"==typeof e?e:{},n=!!t.location&&t.navigator,r=n?t.document:{createElement:Object,createElementNS:Object,documentElement:"xx",contains:Boolean},i=n?r.documentElement:{outerHTML:"x"},o={objectobject:7,objectundefined:6,undefinedfunction:NaN,undefinedobject:NaN},s=r.documentMode||o[typeof r.all+typeof XMLHttpRequest],a=/NaN|undefined/.test(s)||s>8;function c(e){this.size=0,this.limit=e,this.head=this.tail=void 0,this._keymap={}}c.prototype={put:function(e,t){var n={key:e,value:t};return this._keymap[e]=n,this.tail?(this.tail.newer=n,n.older=this.tail):this.head=n,this.tail=n,this.size===this.limit?this.shift():this.size++,t},shift:function(){var e=this.head;e&&(this.head=this.head.newer,this.head.older=e.newer=e.older=this._keymap[e.key]=void 0,delete this._keymap[e.key],this.size--)},get:function(e){var t=this._keymap[e];if(void 0!==t)return t===this.tail?t.value:(t.newer&&(t===this.head&&(this.head=t.newer),t.newer.older=t.older),t.older&&(t.older.newer=t.newer),t.newer=void 0,t.older=this.tail,this.tail&&(this.tail.newer=t),this.tail=t,t.value)}};var l={},u={};var f=t;function h(e){return new h.init(e)}function d(e,t){for(var n in t)e[n]=t[n];return e}h.init=function(e){this[0]=this.element=e},h.fn=h.prototype=h.init.prototype;var p=/[^, ]+/g,m=/\S+/g,g={};function v(e,t){"string"==typeof e&&(e=e.match(p)||[]);for(var n={},r=void 0!==t?t:1,i=0,o=e.length;i<o;i++)n[e[i]]=r;return n}var b=Object.prototype;var y=b.toString,_=b.hasOwnProperty,w=Array.prototype,k="object"==typeof console;function x(e){return null!==e&&"object"==typeof e}h.config={debug:!0};var S=/([a-z\d])([A-Z]+)/g;var C=/[-_][^-_]/g;var A=w.slice;var E=/\d\.\d{4}/;function T(e){return e=e||"avalon",String(Math.random()+Math.random()).replace(E,e)}function I(e){return e.uuid||(e.uuid=T("e"))}var D=1;function M(e){return e.uuid||(e.uuid="_"+ ++D)}var O=/[-.*+?^${}()|[\]\/\\]/g;function P(e){return(e+"").replace(O,"\\$&")}var j={},N={};function B(){return r.createDocumentFragment()}f.avalon=h;var R=/&[a-z0-9#]{2,10};/,L=r.createElement("div");function F(e){for(var t in e){var n=e[t];"function"==typeof F.plugins[t]?F.plugins[t](n):F[t]=n}return this}d(h,{Array:{merge:function(e,t){e.push.apply(e,t)},ensure:function(e,t){if(-1===e.indexOf(t))return e.push(t)},removeAt:function(e,t){return!!e.splice(t,1).length},remove:function(e,t){var n=e.indexOf(t);return!!~n&&h.Array.removeAt(e,n)}},evaluatorPool:new c(888),parsers:{number:function(e){return""===e?"":parseFloat(e)||0},string:function(e){return null===e||void 0===e?"":e+""},boolean:function(e){return""===e?e:"true"===e||"1"===e}},_decode:function(e){return R.test(e)?(L.innerHTML=e,L.innerText||L.textContent):e}});var H={interpolate:function(e){var t=e[0],n=e[1];if(t===n)throw new SyntaxError("interpolate openTag cannot equal to closeTag");if(/[<>]/.test(t+"test"+n))throw new SyntaxError('interpolate cannot contains "<" or ">"');F.openTag=t,F.closeTag=n;var r=P(t),i=P(n);F.rtext=new RegExp(r+"(.+?)"+i,"g"),F.rexpr=new RegExp(r+"([\\s\\S]*)"+i)}};function z(e){return/\[native code\]/.test(e)}if(F.plugins=H,F({interpolate:["{{","}}"],debug:!0}),d(h,{shadowCopy:d,oneObject:v,inspect:y,ohasOwn:_,rword:p,version:"2.2.10",vmodels:{},directives:u,directive:function(e,t){return u[e]&&h.warn(e,"directive have defined! "),u[e]=t,t.update||(t.update=function(){}),t.delay&&(l[e]=1),t},eventHooks:j,eventListeners:{},validators:{},cssHooks:N,log:function(){k&&h.config.debug&&Function.apply.call(console.log,console,arguments)},noop:function(){},warn:function(){if(k&&h.config.debug){var e=console.warn||console.log;Function.apply.call(e,console,arguments)}},error:function(e,t){throw(t||Error)(e)},config:F,modern:a,msie:s,root:i,document:r,window:f,inBrowser:n,isObject:x,range:function(e,t,n){n||(n=1),null==t&&(t=e||0,e=0);for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e,e+=n;return o},slice:function(e,t,n){return A.call(e,t,n)},hyphen:function(e){return e.replace(S,"$1-$2").toLowerCase()},camelize:function(e){return!e||e.indexOf("-")<0&&e.indexOf("_")<0?e:e.replace(C,function(e){return e.charAt(1).toUpperCase()})},escapeRegExp:P,quote:function(e){return h._quote(e)},makeHashCode:T}),!z("司徒正美".trim)){var q=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(q,"")}}Object.create||(Object.create=function(){function e(){}return function(t){if(1!=arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}());var U=!{toString:null}.propertyIsEnumerable("toString"),$=function(){}.propertyIsEnumerable("prototype"),W=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],V=W.length;z(Object.keys)||(Object.keys=function(e){var t=[],n=$&&"function"==typeof e;if("string"==typeof e||e&&e.callee)for(var r=0;r<e.length;++r)t.push(String(r));else for(var i in e)n&&"prototype"===i||!_.call(e,i)||t.push(String(i));if(U)for(var o=e.constructor,s=o&&o.prototype===e,a=0;a<V;a++){var c=W[a];s&&"constructor"===c||!_.call(e,c)||t.push(c)}return t}),z(Array.isArray)||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),z(z.bind)||(Function.prototype.bind=function(e){if(arguments.length<2&&void 0===e)return this;var t=this,n=arguments;return function(){var r,i=[];for(r=1;r<n.length;r++)i.push(n[r]);for(r=0;r<arguments.length;r++)i.push(arguments[r]);return t.apply(e,i)}});try{A.call(h.document.documentElement)}catch(e){w.slice=function(e,t){if(t=void 0!==t?t:this.length,Array.isArray(this))return A.call(this,e,t);var n,r,i=[],o=this.length,s=e||0;s=s>=0?s:o+s;var a=t||o;if(t<0&&(a=o+t),(r=a-s)>0)if(i=new Array(r),this.charAt)for(n=0;n<r;n++)i[n]=this.charAt(s+n);else for(n=0;n<r;n++)i[n]=this[s+n];return i}}function K(e,t,n){var r="for(var "+e+"i=0,n = this.length; i < n; i++){"+t.replace("_","((i in this) && fn.call(scope,this[i],i,this))")+"}"+n;return Function("fn,scope",r)}z(w.map)||h.shadowCopy(w,{indexOf:function(e,t){var n=this.length,r=~~t;for(r<0&&(r+=n);r<n;r++)if(this[r]===e)return r;return-1},lastIndexOf:function(e,t){var n=this.length,r=null==t?n-1:t;for(r<0&&(r=Math.max(0,n+r));r>=0;r--)if(this[r]===e)return r;return-1},forEach:K("","_",""),filter:K("r=[],j=0,","if(_)r[j++]=this[i]","return r"),map:K("r=[],","r[i]=_","return r"),some:K("","if(_)return true","return false"),every:K("","if(!_)return false","return true")});var G,Y,X,J=(G={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},Y=function(e){var t,n=e.charCodeAt(0),r=G[n];return r||"\\u00"+(t=2,("000000"+(n.toString(16)||0)).slice(-t))},X=/[\x00-\x1f\x22\x5c]/g,function(e){return X.lastIndex=0,'"'+(X.test(e)?String(e).replace(X,Y):e)+'"'});try{h._quote=msie<=8?J:JSON.stringify}catch(e){h._quote=J}var Z={};"Boolean Number String Function Array Date RegExp Object Error".replace(h.rword,function(e){Z["[object "+e+"]"]=e.toLowerCase()}),h.type=function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?Z[y.call(e)]||"object":typeof e};var Q=/^\s*\bfunction\b/;h.isFunction="object"==typeof alert?function(e){try{return Q.test(e+"")}catch(e){return!1}}:function(e){return"[object Function]"===y.call(e)};var ee,te,ne=/^\[object (?:Window|DOMWindow|global)\]$/;function re(e){return ne.test(y.call(e))}for(ee in h.isWindow=re(h.window)?re:function(e){return!!e&&e==e.document&&e.document!=e},h({}))break;te="0"!==ee,h.isPlainObject=/\[native code\]/.test(Object.getPrototypeOf)?function(e){return"[object Object]"===y.call(e)&&Object.getPrototypeOf(e)===Object.prototype}:function(e,t){if(!e||"object"!==h.type(e)||e.nodeType||h.isWindow(e))return!1;try{if(e.constructor&&!_.call(e,"constructor")&&!_.call(e.constructor.prototype,"isPrototypeOf"))return!1;e.$vbthis}catch(e){return!1}if(te)for(t in e)return _.call(e,t);for(t in e);return t===ie||_.call(e,t)};var ie,oe=/object|function/;h.mix=h.fn.mix=function(){var e=arguments.length,t=!1,n=0,r=[];for(!0===arguments[0]&&(t=!0,n=1);n<e;n++){var i=arguments[n];i=i&&oe.test(typeof i)?i:{},r.push(i)}return 1===r.length&&r.unshift(this),function e(t,n){var r,i,o,s=n[0];for(var a=1,c=n.length;a<c;a++){var l=n[a],u=Array.isArray(l);for(o in l)if(!u||l.hasOwnProperty(o)){try{var f=s[o],d=l[o]}catch(e){continue}s!==d&&(t&&d&&(h.isPlainObject(d)||(r=Array.isArray(d)))?(r?(r=!1,i=f&&Array.isArray(f)?f:[]):i=f&&h.isPlainObject(f)?f:{},s[o]=e(t,[i,d])):d!==ie&&(s[o]=d))}}return s}(t,r)};var se=/(Array|List|Collection|Map|Arguments)\]$/;function ae(e,t,n,r){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var i=isFinite(+e)?+e:0,o=isFinite(+t)?Math.abs(t):3,s="string"==typeof r?r:",",a=n||".",c="";return(c=(o?function(e,t){var n=Math.pow(10,t);return""+(Math.round(e*n)/n).toFixed(t)}(i,o):""+Math.round(i)).split("."))[0].length>3&&(c[0]=c[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,s)),c.join(a)}h.each=function(e,t){if(e){var n=0;if(function(e){if(!e)return!1;var t=e.length;if(t===t>>>0){var n=y.call(e);if(se.test(n))return!0;if("[object Object]"!==n)return!1;try{return!1!=={}.propertyIsEnumerable.call(e,"length")||Q.test(e.item||e.callee)}catch(t){return!e.window}}return!1}(e))for(var r=e.length;n<r&&!1!==t(n,e[n]);n++);else for(n in e)if(e.hasOwnProperty(n)&&!1===t(n,e[n]))break}},function(){var e=["%cavalon.js %c"+h.version+" %cin debug mode, %cmore...","color: rgb(114, 157, 52); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;"];if("object"==typeof console){var t=console,n=t.groupCollapsed||t.log;Function.apply.call(n,t,e),t.log("You're running avalon in debug mode - messages will be printed to the console to help you fix problems and optimise your application.\n\nTo disable debug mode, add this line at the start of your app:\n\n  avalon.config({debug: false});\n\nDebug mode also automatically shut down amicably when your app is minified.\n\nGet help and support:\n  https://segmentfault.com/t/avalon\n  http://avalonjs.coding.me/\n  http://www.baidu-x.com/?q=avalonjs\n  http://www.avalon.org.cn/\n\nFound a bug? Raise an issue:\n  https://github.com/RubyLouvre/avalon/issues\n\n"),n!==console.log&&t.groupEnd(e)}}();var ce=/<script[^>]*>([\S\s]*?)<\/script\s*>/gim,le=/\s+(on[^=\s]+)(?:=("[^"]*"|'[^']*'|[^\s>]+))?/g,ue=/<\w+\b(?:(["'])[^"]*?(\1)|[^>])*>/gi,fe={a:/\b(href)\=("javascript[^"]*"|'javascript[^']*')/gi,img:/\b(src)\=("javascript[^"]*"|'javascript[^']*')/gi,form:/\b(action)\=("javascript[^"]*"|'javascript[^']*')/gi};function he(e){return parseInt(e,10)||0}function de(e,t,n){var r="";for(e<0&&(r="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function pe(e,t,n,r){return function(i){var o=i["get"+e]();return(n>0||o>-n)&&(o+=n),0===o&&-12===n&&(o=12),de(o,t,r)}}function me(e,t){return function(n,r){var i=n["get"+e]();return r[(t?"SHORT"+e:e).toUpperCase()][i]}}var ge={yyyy:pe("FullYear",4),yy:pe("FullYear",2,0,!0),y:pe("FullYear",1),MMMM:me("Month"),MMM:me("Month",!0),MM:pe("Month",2,1),M:pe("Month",1,1),dd:pe("Date",2),d:pe("Date",1),HH:pe("Hours",2),H:pe("Hours",1),hh:pe("Hours",2,-12),h:pe("Hours",1,-12),mm:pe("Minutes",2),m:pe("Minutes",1),ss:pe("Seconds",2),s:pe("Seconds",1),sss:pe("Milliseconds",3),EEEE:me("Day"),EEE:me("Day",!0),a:function(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]},Z:function(e){var t=-1*e.getTimezoneOffset(),n=t>=0?"+":"";return n+=de(Math[t>0?"floor":"ceil"](t/60),2)+de(Math.abs(t%60),2)}},ve=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,be=/^\/Date\((\d+)\)\/$/;function ye(e,t){var n,r,i=ye.locate,o="",s=[];if(t=i[t=t||"mediumDate"]||t,"string"==typeof e)if(/^\d+$/.test(e))e=he(e);else if(be.test(e))e=+RegExp.$1;else{var a=e.trim(),c=[0,0,0,0,0,0,0],l=new Date(0);a=a.replace(/^(\d+)\D(\d+)\D(\d+)/,function(e,t,n,r){var i=4===r.length?[r,t,n]:[t,n,r];return c[0]=he(i[0]),c[1]=he(i[1])-1,c[2]=he(i[2]),""});var u=l.setFullYear,f=l.setHours,h=0,d=0;a=(a=a.replace(/[T\s](\d+):(\d+):?(\d+)?\.?(\d)?/,function(e,t,n,r,i){return c[3]=he(t),c[4]=he(n),c[5]=he(r),i&&(c[6]=Math.round(1e3*parseFloat("0."+i))),""})).replace(/Z|([+-])(\d\d):?(\d\d)/,function(e,t,n,r){return u=l.setUTCFullYear,f=l.setUTCHours,t&&(h=he(t+n),d=he(t+r)),""}),c[3]-=h,c[4]-=d,u.apply(l,c.slice(0,3)),f.apply(l,c.slice(3)),e=l}for("number"==typeof e&&(e=new Date(e));t;)(r=ve.exec(t))?t=(s=s.concat(r.slice(1))).pop():(s.push(t),t=null);return s.forEach(function(t){n=ge[t],o+=n?n(e,i):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),o}var _e={AMPMS:{0:"上午",1:"下午"},DAY:{0:"星期日",1:"星期一",2:"星期二",3:"星期三",4:"星期四",5:"星期五",6:"星期六"},MONTH:{0:"1月",1:"2月",2:"3月",3:"4月",4:"5月",5:"6月",6:"7月",7:"8月",8:"9月",9:"10月",10:"11月",11:"12月"},SHORTDAY:{0:"周日",1:"周一",2:"周二",3:"周三",4:"周四",5:"周五",6:"周六"},fullDate:"y年M月d日EEEE",longDate:"y年M月d日",medium:"yyyy-M-d H:mm:ss",mediumDate:"yyyy-M-d",mediumTime:"H:mm:ss",short:"yy-M-d ah:mm",shortDate:"yy-M-d",shortTime:"ah:mm"};_e.SHORTMONTH=_e.MONTH,ye.locate=_e;var we={$id:void 0,$render:void 0,$track:void 0,$element:void 0,$computed:void 0,$watch:void 0,$fire:void 0,$events:void 0,$accessors:void 0,$hashcode:void 0,$mutations:void 0,$vbthis:void 0,$vbsetter:void 0};function ke(e,t,n){if(t)e.forEach(function(e,t){n(t)});else if("string"==typeof e.$track)e.$track.replace(/[^☥]+/g,function(e){n(e)});else for(var r in e)e.hasOwnProperty(r)&&n(r)}function xe(e,t,n){for(var r=0,i=t.length;r<i;r++)n(t[r]);return e}var Se={stop:function(e){return e.stopPropagation(),e},prevent:function(e){return e.preventDefault(),e}},Ce={esc:27,tab:9,enter:13,space:32,del:46,up:38,left:37,right:39,down:40};for(var Ae in Ce)!function(e,t){Se[Ae]=function(e){return e.which!==t&&(e.$return=!0),e}}(0,Ce[Ae]);function Ee(e){return null==e?"":String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var Te=h.filters={};h.composeFilters=function(){var e=arguments;return function(t){for(var n,r=0;n=e[r++];){var i=n[0],o=h.filters[i];if("function"==typeof o){n[0]=t;try{t=o.apply(0,n)}catch(e){}}}return t}},h.escapeHtml=Ee,h.mix(Te,{uppercase:function(e){return String(e).toUpperCase()},lowercase:function(e){return String(e).toLowerCase()},truncate:function(e,t,n){return e?(e=String(e),isNaN(t)&&(t=30),n="string"==typeof n?n:"...",e.length>t?e.slice(0,t-n.length)+n:e):""},camelize:h.camelize,date:ye,escape:Ee,sanitize:function(e){return e.replace(ce,"").replace(ue,function(e,t){var n=e.toLowerCase().match(/<(\w+)\s/);if(n){var r=fe[n[1]];r&&(e=e.replace(r,function(e,t,n){var r=n.charAt(0);return t+"="+r+"javascript:void(0)"+r}))}return e.replace(le," ").replace(/\s+/g," ")})},number:ae,currency:function(e,t,n){return(t||"¥")+ae(e,isFinite(n)?n:2)}},{filterBy:function(e,t){var n=h.type(e);if("array"!==n&&"object"!==n)throw"filterBy只能处理对象或数组";var r=h.slice(arguments,2),i=h.type(t);if("function"===i)var o=t._orig||t;else{if("string"!==i&&"number"!==i)return e;if(""===t)return e;var s=new RegExp(h.escapeRegExp(t),"i");o=function(e){return s.test(e)}}var a="array"===n,c=a?[]:{};return ke(e,a,function(t){var n=e[t];o.apply({key:t},[n,t].concat(r))&&(a?c.push(n):c[t]=n)}),c},orderBy:function(e,t,n){var r=h.type(e);if("array"!==r&&"object"!==r)throw"orderBy只能处理对象或数组";var i="string"==typeof t?function(e){return e&&e[t]}:"function"==typeof t?t:function(e){return e},o={},s=[];ke(e,Array.isArray(e),function(t){var n=e[t],r=i(n,t);r in o?o[r].push(t):o[r]=[t],s.push(r)}),s.sort(),n<0&&s.reverse();var a="array"===r,c=a?[]:{};return xe(c,s,function(t){var n=o[t].shift();a?c.push(e[n]):c[n]=e[n]})},selectBy:function(e,t,n){if(h.isObject(e)&&!Array.isArray(e)){var r=[];return xe(r,t,function(t){r.push(e.hasOwnProperty(t)?e[t]:n?n[t]:"")})}return e},limitBy:function(e,t,n){var r=h.type(e);if("array"!==r&&"object"!==r)throw"limitBy只能处理对象或数组";if("number"!=typeof t)return e;if(t!=t)return e;"object"===r&&(e=function(e,t){var n=[],r=0;return ke(e,t,function(t){n[r]={oldIndex:r,value:e[t],key:t},r++}),n}(e,!1));var i=e.length;t=Math.floor(Math.min(i,t)),(n="number"==typeof n?n:0)<0&&(n=Math.max(0,i+n));for(var o=[],s=n;s<i&&o.length!==t;s++)o.push(e[s]);if("array"===r)return o;var a={};return xe(a,o,function(e){a[e.key]=e.value})}},Se);var Ie=/^(?:checkbox|radio)$/;function De(e,t){if(1===e.nodeType){var n=e.nodeName.toLowerCase();if("script"===n)e.text!==t.text&&(e.type="noexec",e.text=t.text,e.type=t.type||"");else if("object"===n){var r=t.childNodes;if(e.childNodes.length!==r.length){h.clearHTML(e);for(var i,o=0;i=r[o++];)e.appendChild(i.cloneNode(!0))}}else"input"===n&&Ie.test(t.nodeName)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function Me(e){return void 0!==e.getElementsByTagName?e.getElementsByTagName("*"):void 0!==e.querySelectorAll?e.querySelectorAll("*"):[]}function Oe(e){for(var t=e.cloneNode(!0),n=Me(t),r=Me(e),i=0;i<r.length;i++)De(n[i],r[i]);return t}function Pe(e,t){try{for(;t=t.parentNode;)if(t===e)return!0}catch(e){}return!1}function je(e){this.node=e}function Ne(e){return"classList"in e||(e.classList=new je(e)),e.classList}h.contains=Pe,h.cloneNode=function(e){return e.cloneNode(!0)},n&&function(){function e(e,t){e in i||!HTMLElement.prototype.__defineGetter__||HTMLElement.prototype.__defineGetter__(e,t)}s<10&&(h.cloneNode=Oe),r.contains||(r.contains=function(e){return Pe(r,e)}),h.modern&&(r.createTextNode("x").contains||(Node.prototype.contains=function(e){return Pe(this,e)})),e("outerHTML",function(){var e=r.createElement("div");return e.appendChild(this),e.innerHTML}),e("children",function(){for(var e,t=[],n=0;e=this.childNodes[n++];)1===e.nodeType&&t.push(e);return t}),e("innerText",function(){return this.textContent})}(),je.prototype={toString:function(){var e=this.node.className,t=("string"==typeof e?e:e.baseVal).match(m);return t?t.join(" "):""},contains:function(e){return(" "+this+" ").indexOf(" "+e+" ")>-1},add:function(e){this.contains(e)||this.set(this+" "+e)},remove:function(e){this.set((" "+this+" ").replace(" "+e+" "," "))},set:function(e){e=e.trim();var t=this.node;"object"==typeof t.className?t.setAttribute("class",e):t.className=e,e||t.removeAttribute("class")}},"add,remove".replace(p,function(e){h.fn[e+"Class"]=function(t){var n=this[0]||{};return t&&"string"==typeof t&&1===n.nodeType&&t.replace(m,function(t){Ne(n)[e](t)}),this}}),h.shadowCopy(h.fn,{hasClass:function(e){var t=this[0]||{};return 1===t.nodeType&&Ne(t).contains(e)},toggleClass:function(e,t){var n="boolean"==typeof t,r=this;return String(e).replace(m,function(e){var i=n?t:!r.hasClass(e);r[i?"addClass":"removeClass"](e)}),this}});var Be={};"accept-charset,acceptCharset|char,ch|charoff,chOff|class,className|for,htmlFor|http-equiv,httpEquiv".replace(/[^\|]+/g,function(e){var t=e.split(",");Be[t[0]]=t[1]}),["autofocus,autoplay,async,allowTransparency,checked,controls","declare,disabled,defer,defaultChecked,defaultSelected,","isMap,loop,multiple,noHref,noResize,noShade","open,readOnly,selected"].join(",").replace(/\w+/g,function(e){Be[e.toLowerCase()]=e}),["accessKey,bgColor,cellPadding,cellSpacing,codeBase,codeType,colSpan","dateTime,defaultValue,contentEditable,frameBorder,longDesc,maxLength,marginWidth,marginHeight,rowSpan,tabIndex,useMap,vSpace,valueType,vAlign"].join(",").replace(/\w+/g,function(e){Be[e.toLowerCase()]=e});var Re=/^[\],:{}\s]*$/,Le=/(?:^|:|,)(?:\s*\[)+/g,Fe=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,He=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g;var ze=/^\[object SVG\w*Element\]$/,qe=/&amp;/g;var Ue={};function $e(e,t){var n=e+":"+t;return n in Ue?Ue[n]:Ue[n]=t in r.createElement(e)}try{h.parseJSON=JSON.parse}catch(e){h.parseJSON=function(e){if("string"==typeof e){if((e=e.trim())&&Re.test(e.replace(Fe,"@").replace(He,"]").replace(Le,"")))return new Function("return "+e)();throw TypeError("Invalid JSON: ["+e+"]")}return e}}h.fn.attr=function(e,t){return 2===arguments.length?(this[0].setAttribute(e,t),this):this[0].getAttribute(e)};var We=v("float","cssFloat");h.cssNumber=v("animationIterationCount,columnCount,order,flex,flexGrow,flexShrink,fillOpacity,fontWeight,lineHeight,opacity,orphans,widows,zIndex,zoom");var Ve=["","-webkit-","-o-","-moz-","-ms-"];h.cssName=function(e,t,n){if(We[e])return We[e];t=t||h.root.style||{};for(var r=0,i=Ve.length;r<i;r++)if((n=h.camelize(Ve[r]+e))in t)return We[e]=n;return null},h.css=function(e,t,n,r){if(e instanceof h&&(e=e[0]),1===e.nodeType){var i=h.camelize(t);if(t=h.cssName(i)||i,void 0===n||"boolean"==typeof n){r=N[i+":get"]||N["@:get"],"background"===t&&(t="backgroundColor");var o=r(e,t);return!0===n?parseFloat(o)||0:o}if(""===n)e.style[t]="";else{if(null==n||n!=n)return;isFinite(n)&&!h.cssNumber[i]&&(n+="px"),(r=N[i+":set"]||N["@:set"])(e,t,n)}}},h.fn.css=function(e,t){if(h.isPlainObject(e))for(var n in e)h.css(this,n,e[n]);else var r=h.css(this,e,t);return void 0!==r?r:this},h.fn.position=function(){var e,t,n=this[0],r={top:0,left:0};return n?("fixed"===this.css("position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),"HTML"!==e[0].tagName&&(r=e.offset()),r.top+=h.css(e[0],"borderTopWidth",!0),r.left+=h.css(e[0],"borderLeftWidth",!0),r.top-=e.scrollTop(),r.left-=e.scrollLeft()),{top:t.top-r.top-h.css(n,"marginTop",!0),left:t.left-r.left-h.css(n,"marginLeft",!0)}):r},h.fn.offsetParent=function(){for(var e=this[0].offsetParent;e&&"static"===h.css(e,"position");)e=e.offsetParent;return h(e||h.root)},N["@:set"]=function(e,t,n){try{e.style[t]=n}catch(e){}},N["@:get"]=function(e,t){if(!e||!e.style)throw new Error("getComputedStyle要求传入一个节点 "+e);var n,r=f.getComputedStyle(e,null);return r&&""===(n="filter"===t?r.getPropertyValue(t):r[t])&&(n=e.style[t]),n},N["opacity:get"]=function(e){var t=N["@:get"](e,"opacity");return""===t?"1":t},"top,left".replace(h.rword,function(e){N[e+":get"]=function(t){var n=N["@:get"](t,e);return/px$/.test(n)?n:h(t).position()[e]+"px"}});var Ke={position:"absolute",visibility:"hidden",display:"block"},Ge=/^(none|table(?!-c[ea]).+)/;if(h.each({Width:"width",Height:"height"},function(e,t){var n="client"+e,r="scroll"+e,i="offset"+e;N[t+":get"]=function(t,n,r){var o=-4;"number"==typeof r&&(o=r),n="Width"===e?["Left","Right"]:["Top","Bottom"];var s=t[i];return 2===o?s+h.css(t,"margin"+n[0],!0)+h.css(t,"margin"+n[1],!0):(o<0&&(s=s-h.css(t,"border"+n[0]+"Width",!0)-h.css(t,"border"+n[1]+"Width",!0)),-4===o&&(s=s-h.css(t,"padding"+n[0],!0)-h.css(t,"padding"+n[1],!0)),s)},N[t+"&get"]=function(e){var n=[];!function e(t,n){if(t.offsetWidth<=0){if(Ge.test(N["@:get"](t,"display"))){var r={node:t};for(var i in Ke)r[i]=t.style[i],t.style[i]=Ke[i];n.push(r)}var o=t.parentNode;o&&1===o.nodeType&&e(o,n)}}(e,n);for(var r,i=N[t+":get"](e),o=0;r=n[o++];)for(var s in e=r.node,r)"string"==typeof r[s]&&(e.style[s]=r[s]);return i},h.fn[t]=function(o){var s=this[0];if(0===arguments.length){if(s.setTimeout)return s["inner"+e]||s.document.documentElement[n]||s.document.body[n];if(9===s.nodeType){var a=s.documentElement;return Math.max(s.body[r],a[r],s.body[i],a[i],a[n])}return N[t+"&get"](s)}return this.css(t,o)},h.fn["inner"+e]=function(){return N[t+":get"](this[0],void 0,-2)},h.fn["outer"+e]=function(e){return N[t+":get"](this[0],void 0,!0===e?2:0)}}),s<9){h.shadowCopy(We,v("float","styleFloat"));var Ye=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,Xe=/^(top|right|bottom|left)$/,Je=/alpha\([^)]+\)/i,Ze=/(opacity|\d(\d|\.)*)/g,Qe=8===s,et={thin:Qe?"1px":"2px",medium:Qe?"3px":"4px",thick:Qe?"5px":"6px"};N["@:get"]=function(e,t){var n=e.currentStyle,r=n[t];if(Ye.test(r)&&!Xe.test(r)){var i=e.style,o=i.left,s=e.runtimeStyle.left;e.runtimeStyle.left=n.left,i.left="fontSize"===t?"1em":r||0,r=i.pixelLeft+"px",i.left=o,e.runtimeStyle.left=s}return"medium"===r&&"none"===n[t=t.replace("Width","Style")]&&(r="0px"),""===r?"auto":et[r]||r},N["opacity:set"]=function(e,t,n){var r=e.style,i=Number(n)<=1?"alpha(opacity="+100*n+")":"",o=r.filter||"";r.zoom=1,r.filter=(Je.test(o)?o.replace(Je,i):o+" "+i).trim(),r.filter||r.removeAttribute("filter")},N["opacity:get"]=function(e){for(var t,n=e.style.filter.match(Ze)||[],r=!1,i=0;t=n[i++];)if("opacity"===t)r=!0;else if(r)return t/100+"";return"1"}}h.fn.offset=function(){var e=this[0],t={left:0,top:0};if(!e||!e.tagName||!e.ownerDocument)return t;var n=e.ownerDocument,r=n.body,i=n.documentElement,o=n.defaultView||n.parentWindow;if(!h.contains(i,e))return t;e.getBoundingClientRect&&(t=e.getBoundingClientRect());var s=i.clientTop||r.clientTop,a=i.clientLeft||r.clientLeft,c=Math.max(o.pageYOffset||0,i.scrollTop,r.scrollTop),l=Math.max(o.pageXOffset||0,i.scrollLeft,r.scrollLeft);return{top:t.top+c-s,left:t.left+l-a}},h.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){h.fn[e]=function(n){var r=this[0]||{},i=function(e){return e.window||e.defaultView||e.parentWindow||!1}(r),o=h.root,s="scrollTop"===e;if(!arguments.length)return i?t in i?i[t]:o[e]:r[e];i?i.scrollTo(s?h(i).scrollLeft():n,s?n:h(i).scrollTop()):r[e]=n}});var tt={"option:get":s?function(e){if(e.hasAttribute&&e.hasAttribute("value"))return e.getAttribute("value");var t=e.getAttributeNode("value");return t&&t.specified?t.value:e.innerHTML.trim()}:function(e){return e.value},"select:get":function(e,t){for(var n,r=e.options,i=e.selectedIndex,o=tt["option:get"],s="select-one"===e.type||i<0,a=s?null:[],c=s?i+1:r.length,l=i<0?c:s?i:0;l<c;l++)if(((n=r[l]).selected||l===i)&&!n.disabled&&(!n.parentNode.disabled||"OPTGROUP"!==n.parentNode.tagName)){if(t=o(n),s)return t;a.push(t)}return a},"select:set":function(e,t,n){t=[].concat(t);for(var r,i=tt["option:get"],o=0;r=e.options[o++];)(r.selected=t.indexOf(i(r))>-1)&&(n=!0);n||(e.selectedIndex=-1)}};h.fn.val=function(e){var t,n,r=this[0];if(r&&1===r.nodeType){var i=0===arguments.length,o=i?":get":":set",s=tt[(t=r,n=t.tagName.toLowerCase(),("input"===n?Ie.test(t.type)?"checked":t.type:n)+o)];if(s)var a=s(r,e);else{if(i)return(r.value||"").replace(/\r/g,"");r.value=e}}return i?a:this};var nt={area:1,base:1,basefont:1,bgsound:1,br:1,col:1,command:1,embed:1,frame:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1};function rt(e){return v(e+",template,#document-fragment,#comment")}v("div,ul,ol,dl,table,h1,h2,h3,h4,h5,h6,form,fieldset"),rt("tr,style,script"),rt("option,optgroup,#text"),rt("option,#text"),rt("#text"),rt("th,td,style,script"),rt("col"),rt("base,basefont,bgsound,link,style,script,meta,title,noscript,noframes"),v("head,body");var it={xmp:1,style:1,script:1,noscript:1,textarea:1,"#comment":1,template:1},ot={style:1,script:1,noscript:1,template:1},st=/\S/,at=/\s/;function ct(e){return function(e){var t=e,n=lt.get(t);if(n)return h.mix(!0,[],n);var r=function(e,t){var n=function(e,t){var n=9990,r=[],i=e,o=e.length;r.last=function(){return r[r.length-1]};var s,a=[];function c(e){var t=r.last();t&&t.children?t.children.push(e):a.push(e)}do{if(0==--n)break;var l=pt(e);if(l){e=e.replace(l[0],"");var u=r.pop();if(!u)throw"是不是有属性值没有用引号括起";if("option"===u.nodeName?u.children=[{nodeName:"#text",nodeValue:vt(u)}]:"table"===u.nodeName&&dt(u.children),s=null,t&&1===a.length&&!r.length)return[i.slice(0,o-e.length),a[0]]}else{var l=gt(e);if(l){e=e.replace(l[0],"");var f=l[1];c(f);var h=!(!f.isVoidTag&&!it[f.nodeName]);if(h||r.push(f),t&&h&&!r.length)return[i.slice(0,o-e.length),f];s=f}else{var d="";do{var p=e.indexOf("<");if(0!==p)break;d+=e.slice(0,1),e=e.slice(1)}while(e.length);var m=e.indexOf("<");if(-1===m)d=e,e="";else{var g=e.indexOf(F.openTag);if(-1!==g&&g<m){0!==g&&(d+=e.slice(0,g));var v=e.slice(g),b=ft(v);d+=b,e=v.slice(b.length)}else d+=e.slice(0,m),e=e.slice(m)}var y=ut(s,d,c);y&&(s=y)}}}while(e.length);return a}(e,t=void 0===t||!0===t);if(t)return"string"==typeof n[0]?n[1]:n[0];return n}(e,!1);return lt.put(t,h.mix(!0,[],r)),r}(e)}h.lexer=ct;var lt=new c(100);function ut(e,t,n){if(st.test(t))return e&&"#text"===e.nodeName?(e.nodeValue+=t,e):(n(e={nodeName:"#text",nodeValue:t}),e)}function ft(e){for(var t,n,r=F.closeTag,i=F.openTag,o=r.charAt(0),s=r.length,a="code",c=i.length,l=e.length;c<l;c++){var u=e.charAt(c);switch(a){case"code":if('"'===u||"'"===u)a="string",t=u;else if(u===o&&e.substr(c,s)===r)return e.slice(0,c+s);break;case"string":"\\"===u&&/"'/.test(e.charAt(c+1))&&(n=!n),u!==t||n||(a="code")}}throw"找不到界定符"+r}var ht=/^(tbody|thead|tfoot)$/;function dt(e){for(var t=!1,n=0,r=e.length;n<r;n++){var i=e[n];ht.test(i.nodeName)?t=!1:"tr"===i.nodeName?t?(e.splice(n,1),t.children.push(i),r--,n--):(t={nodeName:"tbody",props:{},children:[i]},e.splice(n,1,t)):t&&(e.splice(n,1),t.children.push(i),r--,n--)}}function pt(e){if(0===e.indexOf("</")){var t=e.match(/\<\/(\w+[^\s\/\>]*)>/);if(t){var n=t[1];return e=e.slice(3+n.length),[t[0],{nodeName:n}]}}return null}var mt=/\<(\w[^\s\/\>]*)/;function gt(e){if(0===e.indexOf("<")){if(0===e.indexOf("\x3c!--")){var t=e.indexOf("--\x3e");-1===t&&thow("注释节点没有闭合 "+e.slice(0,100));var n={nodeName:"#comment",nodeValue:e.slice(4,t)};return[e.slice(0,t+3),n]}var r=e.match(mt);if(r){var i=r[0],o=r[1];n={nodeName:o,props:{},children:[]};e=e.replace(i,"");try{var s=function(e){for(var t,n,r="AttrName",i="",o="",s={},a=0,c=e.length;a<c;a++){var l=e.charAt(a);switch(r){case"AttrName":if("/"===l&&">"===e.charAt(a+1)||">"===l)return i&&(s[i]=i),[e.slice(0,a),s];if(at.test(l))i&&(r="AttrEqual");else if("="===l){if(!i)throw"必须指定属性名";r="AttrQuote"}else i+=l;break;case"AttrEqual":"="===l?r="AttrQuote":st.test(l)&&(s[i]=i,i=l,r="AttrName");break;case"AttrQuote":'"'!==l&&"'"!==l||(t=l,r="AttrValue",n=!1);break;case"AttrValue":if("\\"===l&&/"'/.test(e.charAt(a+1))&&(n=!n),"\n"===l)break;l!==t?o+=l:l!==t||n||(s[i]=o,i=o="",r="AttrName")}}throw"必须关闭标签"}(e)}catch(e){}if(s&&(n.props=s[1],e=e.replace(s[0],""),i+=s[0]),">"===e.charAt(0)?(i+=">",e=e.slice(1),nt[n.nodeName]&&(n.isVoidTag=!0)):"/>"===e.slice(0,2)&&(i+="/>",e=e.slice(2),n.isVoidTag=!0),!n.isVoidTag&&it[o]){var a="</"+o+">",c=e.indexOf(a),l=e.slice(0,c);i+=l+a,n.children.push({nodeName:"#text",nodeValue:l}),"textarea"===o&&(n.props.type=o,n.props.value=l)}return[i,n]}}}function vt(e){var t="";return e.children.forEach(function(e){"#text"===e.nodeName?t+=e.nodeValue:e.children&&!ot[e.nodeName]&&(t+=vt(e))}),t}var bt=/<|&#?\w+;/,yt=new c(128),_t=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi;h.parseHTML=function(e){var t=B();if("string"!=typeof e)return t;if(!bt.test(e))return r.createTextNode(e);e=e.replace(_t,"<$1></$2>").trim();var n=yt.get(e);if(n)return h.cloneNode(n);for(var i,o=ct(e),s=0;i=o[s++];){var a=h.vdom(i,"toDOM");t.appendChild(a)}return e.length<1024&&yt.put(e,t),t},h.innerHTML=function(e,t){var n=h.parseHTML(t);this.clearHTML(e),e.appendChild(n)},h.unescapeHTML=function(e){return String(e).replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},h.clearHTML=function(e){for(;e.lastChild;)e.removeChild(e.lastChild);return e};var wt={click:!0,dblclick:!0,keydown:!0,keypress:!0,keyup:!0,mousedown:!0,mousemove:!0,mouseup:!0,mouseover:!0,mouseout:!0,wheel:!0,mousewheel:!0,input:!0,change:!0,beforeinput:!0,compositionstart:!0,compositionupdate:!0,compositionend:!0,select:!0,cut:!0,copy:!0,paste:!0,beforecut:!0,beforecopy:!0,beforepaste:!0,focusin:!0,focusout:!0,DOMFocusIn:!0,DOMFocusOut:!0,DOMActivate:!0,dragend:!0,datasetchanged:!0},kt=h.modern&&r.ontouchstart;function xt(e,t){e.setAttribute("avalon-events",t)}h.fn.bind=function(e,t,n){if(this[0])return h.bind(this[0],e,t,n)},h.fn.unbind=function(e,t,n){if(this[0]){var r=A.call(arguments);r.unshift(this[0]),h.unbind.apply(0,r)}return this},h.bind=function(e,t,n){if(1===e.nodeType){var r=e.getAttribute("avalon-events")||"",o=M(n),s=j[t];"click"===t&&kt&&e.addEventListener("click",h.noop),s&&(t=s.type||t,s.fix&&((n=s.fix(e,n)).uuid=o));var a=t+":"+o;h.eventListeners[n.uuid]=n,-1===r.indexOf(t+":")&&(wt[t]||h.modern&&Et[t]?function(e){var t=i.getAttribute("delegate-events")||"";if(-1===t.indexOf(e)){var n=t.match(h.rword)||[];n.push(e),i.setAttribute("delegate-events",n.join(",")),h._nativeBind(i,e,At,!!Et[e])}}(t):h._nativeBind(e,t,At));var c=r.split(",");return""===c[0]&&c.shift(),-1===c.indexOf(a)&&(c.push(a),xt(e,c.join(","))),n}var l=function(t){n.call(e,new It(t))};return h._nativeBind(e,t,l),l},h.unbind=function(e,t,n){if(1===e.nodeType){var r=e.getAttribute("avalon-events")||"";switch(arguments.length){case 1:h._nativeUnBind(e,t,At),e.removeAttribute("avalon-events");break;case 2:xt(e,r=r.split(",").filter(function(e){return-1===e.indexOf(t+":")}).join(","));break;default:var i=t+":"+n.uuid;xt(e,r=r.split(",").filter(function(e){return e!==i}).join(",")),delete h.eventListeners[n.uuid]}}else h._nativeUnBind(e,t,n)};var St={};var Ct=/^e/;function At(e){var t=(e=new It(e)).type,n=e.target,r=[];!function e(t,n,r){var i=t.getAttribute("avalon-events");if(i&&(!0!==t.disabled||"click"!==n)){var o=[],s=St[n]||(St[n]=new RegExp("\\b"+n+"\\:([^,\\s]+)","g"));i.replace(s,function(e,t){return o.push(t),e}),o.length&&r.push({elem:t,uuids:o})}t=t.parentNode;var a=h.gestureEvents||{};t&&t.getAttribute&&(wt[n]||a[n])&&e(t,n,r)}(n,t,r);for(var i,o,s,a=0;(s=r[a++])&&!e.cancelBubble;){e.currentTarget=s.elem;for(i=0;(o=s.uuids[i++])&&!e.stopImmediate;){var c=h.eventListeners[o];if(c){var l=Ct.test(o)?s.elem._ms_context_:0;if(l&&!1===l.$hashcode)return h.unbind(n,t,c);!1===c.call(l||n,e)&&(e.preventDefault(),e.stopPropagation())}}}}var Et={focus:!0,blur:!0};var Tt={webkitMovementY:1,webkitMovementX:1,keyLocation:1,fixEvent:function(){},preventDefault:function(){var e=this.originalEvent||{};e.returnValue=this.returnValue=!1,a&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent||{};e.cancelBubble=this.cancelBubble=!0,a&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.stopPropagation(),this.stopImmediate=!0},toString:function(){return"[object Event]"}};function It(e){if(e.originalEvent)return e;for(var t in e)Tt[t]||(this[t]=e[t]);this.target||(this.target=e.srcElement);this.target;this.fixEvent(),this.timeStamp=new Date-0,this.originalEvent=e}if(It.prototype=Tt,"onmouseenter"in i||h.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){j[e]={type:t,fix:function(t,n){return function(r){var i=r.relatedTarget;if(!i||i!==t&&!(16&t.compareDocumentPosition(i)))return delete r.type,r.type=e,n.apply(this,arguments)}}}}),h.each({AnimationEvent:"animationend",WebKitAnimationEvent:"webkitAnimationEnd"},function(e,t){f[e]&&!j.animationend&&(j.animationend={type:t})}),!("onmousewheel"in r)){var Dt=void 0!==r.onwheel?"wheel":"DOMMouseScroll",Mt="wheel"===Dt?"deltaY":"detail";j.mousewheel={type:Dt,fix:function(e,t){return function(n){var r=n[Mt]>0?-120:120;return n.wheelDelta=~~e._ms_wheel_+r,e._ms_wheel_=n.wheelDeltaY=n.wheelDelta,n.wheelDeltaX=0,Object.defineProperty&&Object.defineProperty(n,"type",{value:"mousewheel"}),t.apply(this,arguments)}}}}a||(delete wt.change,delete wt.select),h._nativeBind=a?function(e,t,n,r){e.addEventListener(t,n,!!r)}:function(e,t,n){e.attachEvent("on"+t,n)},h._nativeUnBind=a?function(e,t,n,r){e.removeEventListener(t,n,!!r)}:function(e,t,n){e.detachEvent("on"+t,n)},h.fireDom=function(e,t,n){if(r.createEvent){var o=r.createEvent("Events");o.initEvent(t,!0,!0,n),h.shadowCopy(o,n),e.dispatchEvent(o)}else if(i.contains(e)){o=r.createEventObject(),n&&h.shadowCopy(o,n);try{e.fireEvent("on"+t,o)}catch(e){h.log("fireDom",t,"args error")}}};var Ot=/^(?:mouse|contextmenu|drag)|click/;It.prototype.fixEvent=function(){if(null==this.which&&0===this.type.indexOf("key")&&(this.which=null!=this.charCode?this.charCode:this.keyCode),Ot.test(this.type)&&!("pageX"in this)){var e=this.target.ownerDocument||r,t="BackCompat"===e.compatMode?e.body:e.documentElement;this.pageX=this.clientX+(t.scrollLeft>>0)-(t.clientLeft>>0),this.pageY=this.clientY+(t.scrollTop>>0)-(t.clientTop>>0),this.wheelDeltaY=~~this.wheelDelta,this.wheelDeltaX=0}},"oninput"in r.createElement("input")||(j.input={type:"propertychange",fix:function(e,t){return function(e){if("value"===e.propertyName)return e.type="input",t.apply(this,arguments)}}});var Pt=[];function jt(e){for(h.isReady=!0;e=Pt.shift();)e(h)}h.ready=function(e){Pt.push(e),h.isReady&&jt()},h.ready(function(){h.scan&&h.scan(r.body)}),n&&function(){if("complete"===r.readyState)setTimeout(jt);else if(r.addEventListener)r.addEventListener("DOMContentLoaded",jt,!1);else if(r.attachEvent){r.attachEvent("onreadystatechange",function(){"complete"===r.readyState&&jt()});try{var e=null===f.frameElement}catch(e){}i.doScroll&&e&&f.external&&function e(){try{i.doScroll("left"),jt()}catch(t){setTimeout(e)}}()}h.bind(f,"load",jt)}();var Nt={script:1,style:1,textarea:1,xmp:1,noscript:1,template:1};function Bt(e,t,n){switch(t){case"style":case"script":case"noscript":case"template":case"xmp":e.children=[{nodeName:"#text",nodeValue:n}];break;case"textarea":var r=e.props;r.type=t,r.value=n,e.children=[{nodeName:"#text",nodeValue:n}];break;case"option":e.children=[{nodeName:"#text",nodeValue:(i=n,String(i).replace(Rt,"").trim())}]}var i}var Rt=/<\w+(\s+("[^"]*"|'[^']*'|[^>])+)?>|<\/\w+>/gi;function Lt(e){return[function e(t){var n=t.nodeName.toLowerCase();switch(n){case"#text":case"#comment":return{nodeName:n,dom:t,nodeValue:t.nodeValue};default:var r=function(e,t){for(var n={},r=0,i=t.length;r<i;r++){var o=t[r];o.specified&&(n[o.name.toLowerCase()]=o.value)}if(Ft.test(e.nodeName)){n.type=e.type;var s=e.getAttributeNode("value");s&&/\S/.test(s.value)&&(n.value=s.value)}var a=e.style.cssText;a&&(n.style=a);"select-one"===n.type&&(n.selectedIndex=e.selectedIndex);return n}(t,t.attributes||[]),i={nodeName:n,dom:t,isVoidTag:!!nt[n],props:r};if("option"===n&&(r.selected=t.selected),Nt[n]||"option"===n)Bt(i,n,t.text||t.innerHTML),1===t.childNodes.length&&(i.children[0].dom=t.firstChild);else if(!i.isVoidTag){i.children=[];for(var o,s=0;o=t.childNodes[s++];){var a=e(o);/\S/.test(a.nodeValue)&&i.children.push(a)}}return i}}(e)]}var Ft=/input|textarea|select/i;function Ht(e){this.nodeName="#text",this.nodeValue=e}function zt(e){this.nodeName="#comment",this.nodeValue=e}function qt(e,t,n,r){this.nodeName=e,this.props=t,this.children=n,this.isVoidTag=r}function Ut(e){return!1!==e&&Object(e)!==e}Ht.prototype={constructor:Ht,toDOM:function(){if(this.dom)return this.dom;var e=h._decode(this.nodeValue);return this.dom=r.createTextNode(e)},toHTML:function(){return this.nodeValue}},zt.prototype={constructor:zt,toDOM:function(){return this.dom?this.dom:this.dom=r.createComment(this.nodeValue)},toHTML:function(){return"\x3c!--"+this.nodeValue+"--\x3e"}},qt.prototype={constructor:qt,toDOM:function(){if(this.dom)return this.dom;var e,t,n=this.nodeName;h.modern&&Wt[n]?(t=n,e=r.createElementNS("http://www.w3.org/2000/svg",t)):e=h.modern||!Kt[n]&&!Vt.test(n)?r.createElement(n):function(e){r.styleSheets.length<31?r.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):r.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");var t=e.split(":");1===t.length&&t.unshift("v");var n=t[1],i=t[0];r.namespaces[i]||r.namespaces.add(i,"urn:schemas-microsoft-com:vml");return r.createElement("<"+i+":"+n+' class="rvml">')}(n);var i=this.props||{};for(var o in i){var a=i[o];Ut(a)&&($t[o]&&h.msie<8?$t[o](e,a):e.setAttribute(o,a+""))}var c=this.children||[],l=c[0]?c[0].nodeValue:"";switch(this.nodeName){case"script":e.type="noexec",e.text=l;try{e.innerHTML=l}catch(e){}e.type=i.type||"";break;case"noscript":e.textContent=l;case"style":case"xmp":case"template":try{e.innerHTML=l}catch(t){!function(e,t,n){switch(t){case"style":e.setAttribute("type","text/css"),e.styleSheet.cssText=n;break;case"xmp":case"noscript":e.textContent=n}}(e,this.nodeName,l)}break;case"option":s<9&&(e.text=l);default:!this.isVoidTag&&this.children&&this.children.forEach(function(t){return c&&e.appendChild(h.vdom(c,"toDOM"))})}return this.dom=e},toHTML:function(){var e=[],t=this.props||{};for(var n in t){Ut(t[n])&&e.push(n+"="+h.quote(t[n]+""))}e=e.length?" "+e.join(" "):"";var r="<"+this.nodeName+e;return this.isVoidTag?r+"/>":(r+=">",this.children&&(r+=this.children.map(function(e){return e?h.vdom(e,"toHTML"):""}).join("")),r+"</"+this.nodeName+">")}};var $t={class:function(e,t){e.className=t},style:function(e,t){e.style.cssText=t},type:function(e,t){try{e.type=t}catch(e){}},for:function(e,t){e.setAttribute("for",t),e.htmlFor=t}};var Wt=h.oneObject("circle,defs,ellipse,image,line,path,polygon,polyline,rect,symbol,text,use,g,svg"),Vt=/^\w+\:\w+/;var Kt=h.oneObject("shape,line,polyline,rect,roundrect,oval,arc,curve,background,image,shapetype,group,fill,stroke,shadow, extrusion, textbox, imagedata, textpath");function Gt(e,t,n,r){this.nodeName="#document-fragment",this.children=e,this.key=t,this.val=n,this.index=r,this.props={}}Gt.prototype={constructor:Gt,toDOM:function(){if(this.dom)return this.dom;var e=this.toFragment();return this.split=e.lastChild,this.dom=e},dispose:function(){for(var e in this.toFragment(),this.innerRender&&this.innerRender.dispose(),this)this[e]=null},toFragment:function(){var e=B();return this.children.forEach(function(t){return e.appendChild(h.vdom(t,"toDOM"))}),e},toHTML:function(){return this.children.map(function(e){return h.vdom(e,"toHTML")}).join("")}},h.mix(h,{VText:Ht,VComment:zt,VElement:qt,VFragment:Gt});var Yt={"#text":"VText","#document-fragment":"VFragment","#comment":"VComment"};h.vdomAdaptor=h.vdom=function(e,t){if(!e)return"toHTML"===t?"":B();var n=e.nodeName;return n?h[Yt[n]||"VElement"].prototype[t].call(e):new h.VFragment(e)[t]()};function Xt(){if(!(!0===h.isRunningActions||h.inTransaction>0)){h.isRunningActions=!0;for(var e,t=h.pendingActions.splice(0,h.pendingActions.length),n=0;e=t[n++];)e.update(),delete h.uniqActions[e.uuid];h.isRunningActions=!1}}h.domize=function(e){return h.vdom(e,"toDOM")},h.pendingActions=[],h.uniqActions={},h.inTransaction=0,F.trackDeps=!1,h.track=function(){F.trackDeps&&h.log.apply(h,arguments)};var Jt=[];function Zt(e,t){if(e.observers){var n=h.trackingAction;n&&Jt.push(n),h.trackingAction=e,h.track("【action】",e.type,e.expr,"开始征收依赖项"),e.mapIDs={};var r,i=!0;try{r=t.call(e),i=!1}finally{if(i)h.warn("collectDeps fail",t+""),e.mapIDs={},h.trackingAction=n;else{h.trackingAction=Jt.pop();try{!function(e){var t=e.observers,n=[],r={},i=[];for(var o in e.mapIDs){var s=e.mapIDs[o];if(!s.isAction){if(!s.observers){delete e.mapIDs[o];continue}if(i.push(s.uuid),n.push(s),r[s.uuid]=1,s.lastAccessedBy===e.uuid)continue;s.lastAccessedBy=e.uuid,h.Array.ensure(s.observers,e)}}if((i=i.sort().join(","))===e.ids)return;if(e.ids=i,e.isComputed)for(var a in e.depsCount=n.length,e.deps=h.mix({},e.mapIDs),e.depsVersion={},e.mapIDs){var c=e.mapIDs[a];e.depsVersion[c.uuid]=c.version}else e.observers=n;for(var l,u=0;l=t[u++];)r[l.uuid]||h.Array.remove(l.observers,e)}(e)}catch(e){h.warn(e)}}return r}}}function Qt(e){h.inTransaction+=1}function en(e){0==--h.inTransaction&&(h.isRunningActions=!1,Xt())}h.transaction=function(e,t,n){n=n||[];var r="transaction "+(e.name||e.displayName||"noop");Qt(r);var i=e.apply(t,n);return en(r),i};var tn=0,nn={map:{}},rn=/\?\?\d+/g;function on(e){var t="??"+tn++;return nn.map[t]=e,t+" "}function sn(e){return nn.map[e]}function an(e){for(var t=function e(t,n,r){var i=!1,o=0,n=n||0;r=r||[];for(var s=t.length;n<s;n++){var a=t.charAt(n);i?a===i&&(r.push(t.slice(o,n+1)),i=!1):"'"===a?(i="'",o=n):'"'===a&&(i='"',o=n)}if(!1!==i)return e(t,o+1,r);return r}(e),n=0,r=t.length;n<r;n++)e=e.replace(t[n],on);return e}var cn=h.oneObject("break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments"),ln=h.mix({Math:1,Date:1,$event:1,window:1,__vmodel__:1,avalon:1},cn),un=/(^|[^\w\u00c0-\uFFFF_])(@|##)(?=[$\w])/g,fn=/\s*(\.|\|)\s*/g,hn=/\|\|/g,dn=/\(([^)]*)\)/,pn=/\|(?=\?\?)/,mn=/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/g,gn=/\.[\w\.\$]+/g,vn=/(\{|\,)\s*([\$\w]+)\s*:/g,bn=/\|(\w+)/g,yn=/[$a-zA-Z_][$a-zA-Z0-9_]*/g,_n=new c(300);function wn(e,t){var n=e+":"+t,r=_n.get(n);if(r)return r.slice(0);nn.map={};var i=e.replace(mn,function(e,t){return t+on(e.slice(t.length))});i=(i=an(i)).replace(hn,on).replace(fn,"$1").replace(vn,function(e,t,n){return t+on(n)+":"}).replace(un,"$1__vmodel__.").replace(bn,function(e,t){return"|"+on(t)});var o=(i=i.replace(gn,on).replace(yn,function(e){return ln[e]?e:"__vmodel__."+e})).split(pn),s=o.shift().replace(rn,sn).trim();return/\?\?\d/.test(s)&&(s=s.replace(rn,sn)),o=o.length?(o="avalon.composeFilters("+(o=o.map(function(e){var t="";return e=e.replace(dn,function(e,n){return/\S/.test(n)&&(t+=","+n),""}),"["+h.quote(e.trim())+t+"]"}))+")(__value__)").replace(rn,sn):"",_n.put(n,[s,o])}var kn=/^__vmodel__\.[$\w\.]+$/,xn=/__vmodel__\.([^(]+)\(([^)]*)\)/;function Sn(e){return kn.test(e)&&(e+="($event)"),s<9&&(e=e.replace(xn,function(e,t,n){return"__vmodel__."+t+".call(__vmodel__"+(/\S/.test(n)?","+n:"")+")"})),e}var Cn=1;function An(e,t,n){for(var r in t)1!==En[r]&&(this[r]=t[r]);this.vm=e,this.observers=[],this.callback=n,this.uuid=++Cn,this.ids="",this.mapIDs={},this.isAction=!0;var i=this.expr;"function"!=typeof this.getter&&(this.getter=function(e,t){var n,r=wn(e,t);n=r[1]?r[1].replace(/__value__\)$/,r[0]+")"):r[0];try{return new Function("__vmodel__","return "+n+";")}catch(t){return h.log("parse getter: [",e,n,"]error"),h.noop}}(i,this.type)),"duplex"===this.type&&(this.setter=function(e,t){var n="try{ "+wn(e,t)[0]+' = __value__}catch(e){avalon.log(e, "in on dir")}';try{return new Function("__vmodel__","__value__",n+";")}catch(t){return h.log("parse setter: ",e," error"),h.noop}}(i,this.type)),this.value=NaN,this.node||(this.value=this.get())}An.prototype={getValue:function(){var e=this.vm;try{return this.getter.call(e,e)}catch(e){h.log(this.getter+" exec error")}},setValue:function(e){var t=this.vm;this.setter&&this.setter.call(t,t,e)},get:function(e){this.type;this.deep&&(h.deepCollect=!0);var t=Zt(this,this.getValue);return this.deep&&h.deepCollect&&(h.deepCollect=!1),t},beforeUpdate:function(){return this.oldValue=function e(t){if(t&&"object"==typeof t){if(t&&t.$events)return t.$model;if(Array.isArray(t)){for(var n=[],r=0,i=t.length;r<i;r++)n.push(e(t[r]));return n}var o={};for(var s in t)o[s]=e(t[s]);return o}return t}(this.value)},update:function(e,t){var n=this.beforeUpdate(),r=this.value=this.get(),i=this.callback;i&&this.diff(r,n,e)&&i.call(this.vm,this.value,n,this.expr),this._isScheduled=!1},schedule:function(){this._isScheduled||(this._isScheduled=!0,h.uniqActions[this.uuid]||(h.uniqActions[this.uuid]=1,h.pendingActions.push(this)),Xt())},removeDepends:function(){var e=this;this.observers.forEach(function(t){h.Array.remove(t.observers,e)})},diff:function(e,t){return e!==t},dispose:function(){for(var e in this.value=null,this.removeDepends(),this.beforeDispose&&this.beforeDispose(),this)delete this[e]}};var En={vm:1,callback:1,observers:1,oldValue:1,value:1,getValue:1,setValue:1,get:1,removeDepends:1,beforeUpdate:1,update:1,dispose:1},Tn=1;function In(e,t,n){if(this.expr=e,t){var r=g.createProxy(t,this);r&&(t=r)}this.value=t,this.vm=n;try{n.$mutations[e]=this}catch(e){}this.uuid=++Tn,this.updateVersion(),this.mapIDs={},this.observers=[]}In.prototype={get:function(){if(h.trackingAction){this.collect();var e=this.value;if(e&&e.$events)if(Array.isArray(e))e.forEach(function(e){e&&e.$events&&e.$events.__dep__.collect()});else if(h.deepCollect)for(var t in e)if(e.hasOwnProperty(t))e[t]}return this.value},collect:function(){var e,t;h.track(name,"被收集"),e=this,null!==(t=h.trackingAction||null)&&(h.track("征收到",e.expr),t.mapIDs[e.uuid]=e)},updateVersion:function(){this.version=Math.random()+Math.random()},notify:function(){Qt(),function(e){for(var t,n=e.observers,r=0;t=n[r++];)t.schedule()}(this),en()},set:function(e){var t=this.value;if(e!==t){if(h.isObject(e)){var n=t&&t.$hashcode,r=g.createProxy(e,this);r&&(n&&(r.$hashcode=n),e=r)}this.value=e,this.updateVersion(),this.notify()}}};var Dn=/(\?|if\b|\(.+\))/;var Mn=function(e){var t,n,r,i;function o(t,n,r){var i,o;e.call(this,t,void 0,r),delete n.get,delete n.set,h.mix(this,n),this.deps={},this.type="computed",this.depsVersion={},this.isComputed=!0,this.trackAndCompute(),"isStable"in this||(this.isStable=!Dn.test((i=this.getter,o=i.toString(),o.substring(o.indexOf("{}")+1,o.lastIndexOf("}")))))}t=o,"function"==typeof(n=e)&&((t.prototype=(r=n.prototype,(i=function(){}).prototype=r,new i)).constructor=t);var s=o.prototype;return s.trackAndCompute=function(){this.isStable&&this.depsCount>0?this.getValue():Zt(this,this.getValue.bind(this))},s.getValue=function(){return this.value=this.getter.call(this.vm)},s.schedule=function(){for(var e=this.observers,t=e.length;t--;){var n=e[t];n.schedule&&n.schedule()}},s.shouldCompute=function(){if(this.isStable){var e=!1;for(var t in this.deps)this.deps[t].version!==this.depsVersion[t]&&(e=!0,this.depsVersion[t]=this.deps[t].version);return e}return!0},s.set=function(){this.setter&&h.transaction(this.setter,this.vm,arguments)},s.get=function(){return this.collect(),this.shouldCompute()&&(this.trackAndCompute(),this.updateVersion()),this.value},o}(In);function On(e,t){h.mix(this,e),h.mix(this,we),this.$hashcode=h.makeHashCode("$"),this.$id=this.$id||this.$hashcode,this.$events={__dep__:t||new In(this.$id)},h.config.inProxyMode?(delete this.$mutations,this.$accessors={},this.$computed={},this.$track=""):this.$accessors={$model:Rn},void 0===t?(this.$watch=g.watchFactory(this.$events),this.$fire=g.fireFactory(this.$events)):(delete this.$watch,delete this.$fire)}h.define=function(e){var t=e.$id;t||h.error("vm.$id must be specified"),h.vmodels[t]&&h.warn("error:["+t+"] had defined!");var n=g.modelFactory(e);return h.vmodels[t]=n},g.modelFactory=function(e,t){var n=e.$computed||{};delete e.$computed;var r=new On(e,t),i=r.$accessors,o=[];for(var s in g.hideProperty(r,"$mutations",{}),e)if(!(s in we)){var a=e[s];o.push(s),jn(s,a)&&(i[s]=Nn(s,a))}for(var c in n){if(!(c in we))"function"==typeof(a=n[c])&&(a={get:a}),a&&a.get&&(a.getter=a.get,a.setter=a.set,h.Array.ensure(o,c),i[c]=Nn(c,a,!0))}var l=g.createViewModel(r,i,r);return g.afterCreate(l,r,o,!t),l};var Pn={};function jn(e,t,n){return!(e in we)&&("$"===e.charAt(0)?!!n&&(Pn[e]||(Pn[e]=1,h.warn("ms-for中的变量"+e+"不再建议以$为前缀")),!0):null==t?(h.warn("定义vmodel时"+e+"的属性值不能为null undefine"),!0):!/error|date|function|regexp/.test(h.type(t))&&!(t&&t.nodeName&&t.nodeType))}function Nn(e,t,n){var r=null,i=n?Mn:In;return{get:function(){return r||(r=new i(e,t,this)),r.get()},set:function(n){r||(r=new i(e,t,this)),r.set(n)},enumerable:!0,configurable:!0}}function Bn(e){var t=h.type(e);if("array"===t){for(var n=[],r=0;r<e.length;r++)n[r]=Bn(e[r]);return n}if("object"===t&&"string"==typeof e.$track){var i={};return(e.$track.match(/[^☥]+/g)||[]).forEach(function(t){var n=e[t];i[t]=n&&n.$events?Bn(n):n}),i}return e}g.createProxy=function(e,t){return e&&e.$events?e:(Array.isArray(e)?n=g.listFactory(e,!1,t):x(e)&&(n=g.modelFactory(e,t)),n);var n},g.itemFactory=function(e,t){var n=e.$model,r=new On(n),i=h.shadowCopy(r.$accessors,e.$accessors),o=t.data;for(var s in o){var a=n[s]=r[s]=o[s];i[s]=Nn(s,a)}var c=Object.keys(n),l=g.createViewModel(r,i,r);return g.afterCreate(l,r,c),l},g.fuseFactory=function(e,t){var n=h.mix(e.$model,t.$model),r=new On(h.mix(n,{$id:e.$id+t.$id})),i=h.mix(r.$accessors,e.$accessors,t.$accessors),o=Object.keys(n),s=g.createViewModel(r,i,r);return g.afterCreate(s,r,o,!1),s};var Rn={get:function(){return Bn(this)},set:h.noop,enumerable:!1,configurable:!0};g.toJson=Bn,g.modelAccessor=Rn;var Ln=w.splice,Fn={set:function(e,t){if(e>>>0===e&&this[e]!==t){if(e>this.length)throw Error(e+"set方法的第一个参数不能大于原数组长度");this.splice(e,1,t)}},toJSON:function(){return this.$model=g.toJson(this)},contains:function(e){return-1!==this.indexOf(e)},ensure:function(e){return!this.contains(e)&&(this.push(e),!0)},pushArray:function(e){return this.push.apply(this,e)},remove:function(e){return this.removeAt(this.indexOf(e))},removeAt:function(e){return e>>>0===e?this.splice(e,1):[]},clear:function(){return this.removeAll(),this},removeAll:function(e){this.length;var t=Array.isArray(e)?function(t){return-1!==e.indexOf(t)}:"function"==typeof e&&e;if(t)for(var n=this.length-1;n>=0;n--)t(this[n],n)&&Ln.call(this,n,1);else Ln.call(this,0,this.length);this.toJSON(),this.$events.__dep__.notify()}};["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=w[e];Fn[e]=function(){var n=this.$events,r=g.listFactory(arguments,!0,n.__dep__),i=t.apply(this,r);return this.toJSON(),n.__dep__.notify(e),i}}),g.listFactory=function(e,t,n){t||(function(e){for(var t in Fn)g.hideProperty(e,t,Fn[t])}(e),a&&Object.defineProperty(e,"$model",g.modelAccessor),g.hideProperty(e,"$hashcode",h.makeHashCode("$")),g.hideProperty(e,"$events",{__dep__:n||new In}));for(var r=e.$events&&e.$events.__dep__,i=0,o=e.length;i<o;i++){var s=e[i];x(s)&&(e[i]=g.createProxy(s,r))}return e};var Hn=!0;try{Object.defineProperty({},"_",{value:"x"}),delete we.$vbsetter,delete we.$vbthis}catch(e){Hn=!1}var zn={$vbthis:1,$vbsetter:1};function qn(e,t,n){Hn?Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!1,configurable:!0}):zn[t]||(e[t]=n)}function Un(e){return"☥"+e+"☥"}g.hideProperty=qn,g.fireFactory=function(e){return function(t,n){var r=e[t];if(Array.isArray(r))for(var i,o=0;i=r[o++];)i.callback.call(i.vm,n,i.value,i.expr)}},g.watchFactory=function(e){return function(t,n,r){var i=new An(e.__proxy__,{deep:r,type:"user",expr:t},n);return e[t]?e[t].push(i):e[t]=[i],function(){i.dispose(),h.Array.remove(e[t],i),0===e[t].length&&delete e[t]}}},g.afterCreate=function(e,t,n,r){var i=e.$accessors;for(var o in we)h.msie<9&&void 0===t[o]||qn(e,o,t[o]);for(var s=0;s<n.length;s++){var a=n[s];if(!(a in i)){var c=t[a];if(r&&"function"==typeof c){e[a]=c.bind(e),e[a]._orig=c;continue}e[a]=c}}e.$track=n.join("☥"),h.msie<9&&(e.hasOwnProperty=function(t){return Un(e.$track).indexOf(Un(t))>-1}),e.$events.__proxy__=e};var $n,Wn=Object.defineProperties,Vn=new Date-0;if(!Hn&&("__defineGetter__"in h&&($n=function(e,t,n){return"value"in n&&(e[t]=n.value),"get"in n&&e.__defineGetter__(t,n.get),"set"in n&&e.__defineSetter__(t,n.set),e},Wn=function(e,t){for(var n in t)t.hasOwnProperty(n)&&$n(e,n,t[n]);return e}),s<9)){var Kn={};window.execScript(["Function parseVB(code)","\tExecuteGlobal(code)","End Function"].join("\n"),"VBScript");var Gn=function(e,t,n,r){var i=t[n];if(4!==arguments.length)return i.get.call(e);i.set.call(e,r)};Wn=function(e,t,n){var r=[];r.push("\tPrivate [$vbsetter]","\tPublic  [$accessors]","\tPublic Default Function [$vbthis](ac"+Vn+", s"+Vn+")","\t\tSet  [$accessors] = ac"+Vn+": set [$vbsetter] = s"+Vn,"\t\tSet  [$vbthis]    = Me","\tEnd Function");var i={$vbthis:!0,$vbsetter:!0,$accessors:!0};for(e in we)i[e]||(r.push("\tPublic ["+e+"]"),i[e]=!0);for(e in t)i[e]||(i[e]=!0,r.push("\tPublic Property Let ["+e+"](val"+Vn+")",'\t\tCall [$vbsetter](Me, [$accessors], "'+e+'", val'+Vn+")","\tEnd Property","\tPublic Property Set ["+e+"](val"+Vn+")",'\t\tCall [$vbsetter](Me, [$accessors], "'+e+'", val'+Vn+")","\tEnd Property","\tPublic Property Get ["+e+"]","\tOn Error Resume Next","\t\tSet["+e+'] = [$vbsetter](Me, [$accessors],"'+e+'")',"\tIf Err.Number <> 0 Then","\t\t["+e+'] = [$vbsetter](Me, [$accessors],"'+e+'")',"\tEnd If","\tOn Error Goto 0","\tEnd Property"));for(e in n)i[e]||(i[e]=!0,r.push("\tPublic ["+e+"]"));r.push("\tPublic [hasOwnProperty]"),r.push("End Class");var o=r.join("\r\n"),s=Kn[o];return s||(s=h.makeHashCode("VBClass"),window.parseVB("Class "+s+o),window.parseVB(["Function "+s+"Factory(acc, vbm)","\tDim o","\tSet o = (New "+s+")(acc, vbm)","\tSet "+s+"Factory = o","End Function"].join("\r\n")),Kn[o]=s),window[s+"Factory"](t,Gn)}}g.createViewModel=Wn;var Yn=h.directive("important",{priority:1,getScope:function(e,t){var n=h.vmodels[e];if(n)return n;throw"error! no vmodel called "+e},update:function(e,t,n){if(h.inBrowser){var r=h.vdom(e,"toDOM");1===r.nodeType&&(r.removeAttribute(t),h(r).removeClass("ms-controller"));var i=h.vmodels[n];i&&(i.$element=r,i.$render=this,i.$fire("onReady"),delete i.$events.onReady)}}}).update;h.directive("controller",{priority:2,getScope:function(e,t){var n=h.vmodels[e];return n?(n.$render=this,t&&t!==n?g.fuseFactory(t,n):n):t},update:Yn}),h.directive("skip",{delay:!0});var Xn={},Jn=h.directive("css",{diff:function(e,t){if(Object(e)===e){if(e=g.toJson(e),Array.isArray(e)){var n={};e.forEach(function(e){e&&h.shadowCopy(n,e)}),e=n,Xn[this.type]||(h.warn("ms-"+this.type+"指令的值不建议使用数组形式了！"),Xn[this.type]=1)}var r=!1,i={};if(t){if(this.deep){"number"==typeof this.deep&&this.deep;for(var o in e){if(!Qn(e[o],t[o],4))return this.value=e,!0;i[o]=e[o]}}else for(var s in e)e[s]!==t[s]&&(r=!0),i[s]=e[s];for(var a in t)a in i||(r=!0,i[a]="")}else i=e,r=!0;if(r)return this.value=i,!0}return!1},update:function(e,t){var n=e.dom;if(n&&1===n.nodeType){var r=h(n);for(var i in t)r.css(i,t[i])}}}).diff;function Zn(e){var t=[];for(var n in e)t.push(n);return t}function Qn(e,t,n){if(0===n)return e===t;if(null===e&&null===t)return!0;if(void 0===e&&void 0===t)return!0;var r=Array.isArray(e);return r===Array.isArray(t)&&(r?function(e,t,n){if(e.length!==t.length)return!1;for(var r=e.length-1;r>=0;r--)try{if(!Qn(e[r],t[r],n-1))return!1}catch(e){return!1}return!0}(e,t,n):"object"==typeof e&&"object"==typeof t?function(e,t,n){if(null===e||null===t)return!1;if(Zn(e).length!==Zn(t).length)return!1;for(var r in e){if(!(r in t))return!1;try{if(!Qn(e[r],t[r],n-1))return!1}catch(e){return!1}}return!0}(e,t,n):e===t)}var er={TransitionEvent:"transitionend",WebKitTransitionEvent:"webkitTransitionEnd",OTransitionEvent:"oTransitionEnd",otransitionEvent:"otransitionEnd"},tr=void 0,nr=void 0,rr=void 0,ir=void 0,or=void 0,sr=void 0;for(ir in er){if(f[ir]){nr=er[ir];break}try{document.createEvent(ir);nr=er[ir];break}catch(e){}}for(ir in"string"==typeof nr&&(tr=!0,sr=nr),er={AnimationEvent:"animationend",WebKitAnimationEvent:"webkitAnimationEnd"})if(f[ir]){rr=er[ir];break}"string"==typeof rr&&(tr=!0,or=rr);var ar=h.directive("effect",{priority:5,diff:function(e){var t=this.node;"string"==typeof e&&(this.value=e={is:e},h.warn("ms-effect的指令值不再支持字符串,必须是一个对象")),this.value=t.effect=e;var n=this;return!!Jn.call(this,e,this.oldValue)&&(setTimeout(function(){t.animating=!0,ar.update.call(n,t,t.effect)}),t.animating=!1,!0)},update:function(e,t,n){var r=e.dom;if(r&&1===r.nodeType){var i=t||n,o=i.is,s=h.effects[o];if(!s)return void h.warn(o+" effect is undefined");var a={},c=cr[i.action];if("function"!=typeof hr.prototype[c])return void h.warn("action is undefined");var l=new h.Effect(r);return h.mix(a,s,i,{action:c}),a.queue?(lr.push(function(){l[c](a)}),ur()):l[c](a),!0}}}),cr={true:"enter",false:"leave",enter:"enter",leave:"leave",move:"move",undefined:"enter"},lr=[];function ur(){var e=lr[0];e&&e()}function fr(e,t,n){e[t]||(e[t]=n)}h.effects={},h.effect=function(e,t){var n=h.effects[e]=t||{};return tr&&!1!==n.css&&(fr(n,"enterClass",e+"-enter"),fr(n,"enterActiveClass",n.enterClass+"-active"),fr(n,"leaveClass",e+"-leave"),fr(n,"leaveActiveClass",n.leaveClass+"-active")),n};var hr=function(e){this.dom=e};function dr(e,t,n){for(var r,i=[].concat(e[t]),o=0;r=i[o++];)"function"==typeof r&&r(n)}h.Effect=hr,hr.prototype={enter:mr("Enter"),leave:mr("Leave"),move:mr("Move")};var pr=new c(128);function mr(e){var t=e.toLowerCase();return function(n){var r=this.dom,i=h(r),o=isFinite(n.stagger)?1e3*n.stagger:0;if(o&&n.staggerKey){var s=pr.get(n.staggerKey)||pr.put(n.staggerKey,{count:0,items:0});s.count++,s.items++}var a,c,l,u=s&&s.count||0,d=function(t){var i=!1!==t;0==--r.__ms_effect_&&(h.unbind(r,sr),h.unbind(r,or)),clearTimeout(a),dr(n,"on"+e+(i?"Done":"Abort"),r),s&&0==--s.items&&(s.count=0),n.queue&&(lr.shift(),ur())};dr(n,"onBefore"+e,r),n[t]?n[t](r,function(e){d(!1!==e)}):tr&&(i.addClass(n[t+"Class"]),i.removeClass((c=n,l="leave"===(l=t)?"enter":"leave",Array(l+"Class",l+"ActiveClass").map(function(e){return c[e]}).join(" "))),r.__ms_effect_?r.__ms_effect_++:(i.bind(sr,d),i.bind(or,d),r.__ms_effect_=1),setTimeout(function(){var e=h.root.offsetWidth;i.addClass(n[t+"ActiveClass"]),0===!(e=function(e){var t=f.getComputedStyle(e,null),n=t[gr],r=t[vr];return yr(n)||yr(r)}(r))?d(!1):o||(a=setTimeout(function(){d(!1)},e+32))},17+o*u))}}h.applyEffect=function(e,t,n){var r=n.cb,i=t.effect;if(i&&e&&1===e.nodeType){var o=n.hook,s=i[o];r&&(Array.isArray(s)?s.push(r):i[o]=s?[s,r]:[r]),function(e){if(!e.action)e.action=e.hook.replace(/^on/,"").replace(/Done$/,"").toLowerCase()}(n),h.directives.effect.update(t,i,h.shadowCopy({},n))}else r&&r(e)};var gr=h.cssName("transition-duration"),vr=h.cssName("animation-duration"),br=/\d+s$/;function yr(e){var t=br.test(e)?1e3:1;return parseFloat(e)*t}var _r="none";function wr(e,t){var n=e.ownerDocument,r=e.nodeName,i="_"+r;if(!wr[i]){var o=n.body.appendChild(n.createElement(r));t=h.css(o,"display"),n.body.removeChild(o),t===_r&&(t="block"),wr[i]=t}return wr[i]}function kr(e,t){var n=e.innerRender=h.scan(e.fragment,e.vm);h.shadowCopy(t,n.root),delete t.nodeValue}function xr(e,t){e.children&&e.children.forEach(function(e){"option"===e.nodeName?function(e,t){var n=e.props;if(!("disabled"in n)){var r=Sr(e,n);if(r=String(r||"").trim(),n.selected="string"==typeof t?r===t:-1!==t.indexOf(r),e.dom){e.dom.selected=n.selected;e.dom.selected}}}(e,t):xr(e,t)})}function Sr(e,t){if(t&&"value"in t)return t.value+"";var n=[];return e.children.forEach(function(e){"#text"===e.nodeName?n.push(e.nodeValue):"#document-fragment"===e.nodeName&&n.push(Sr(e))}),n.join("")}h.parseDisplay=wr,h.directive("visible",{diff:function(e,t){var n=!!e;if(void 0===t||n!==t)return this.value=n,!0},ready:!0,update:function(e,t){var n=e.dom;if(n&&1===n.nodeType){var r,i=n.style.display;t?(i===_r&&((r=e.displayValue)||(n.style.display="",""===n.style.cssText&&n.removeAttribute("style"))),""===n.style.display&&h(n).css("display")===_r&&h.contains(n.ownerDocument,n)&&(r=wr(n))):i!==_r&&(r=_r,e.displayValue=i);h.applyEffect(n,e,{hook:t?"onEnterDone":"onLeaveDone",cb:function(){void 0!==r&&(n.style.display=r)}})}}}),h.directive("text",{delay:!0,init:function(){var e=this.node;e.isVoidTag&&h.error("自闭合元素不能使用ms-text");var t={nodeName:"#text",nodeValue:this.getValue()};e.children.splice(0,e.children.length,t),n&&(h.clearHTML(e.dom),e.dom.appendChild(h.vdom(t,"toDOM"))),this.node=t;this.type=this.name="expr";var r=h.directives.expr,i=this;this.callback=function(e){r.update.call(i,i.node,e)}}}),h.directive("expr",{update:function(e,t){t=null==t||""===t?"​":t,e.nodeValue=t,e.dom&&(e.dom.data=t)}}),h.directive("attr",{diff:Jn,update:function(e,t){var n=e.props;for(var r in t)!1==!!t[r]?delete n[r]:n[r]=t[r];var i=e.dom;i&&1===i.nodeType&&function(e,t){for(var n in t)try{var r=t[n];if(0===n.indexOf("data-")||ze.test(e))e.setAttribute(n,r);else{var i=Be[n]||n;if("boolean"==typeof e[i]&&("checked"===i&&(e.defaultChecked=!!r),e[i]=!!r),!1===r){e.removeAttribute(i);continue}if(h.msie<8&&/[A-Z]/.test(i)){e[i]=r+"";continue}!h.modern&&(s=void 0,(s=(o=e).nodeName).toLowerCase()===s&&o.scopeName&&""===o.outerText)||$e(e.nodeName,n)?("href"!==n&&"src"!==n||h.msie<8&&(r=String(r).replace(qe,"&")),e[i]=r+""):e.setAttribute(n,r)}}catch(e){h.log(String(e.message).trim(),n,r)}var o,s}(i,t)}}),h.directive("html",{update:function(e,t){this.beforeDispose(),this.innerRender=h.scan('<div class="ms-html-container">'+t+"</div>",this.vm,function(){var t=this.root;e.children&&(e.children.length=0),e.children=t.children,this.root=e,e.dom&&h.clearHTML(e.dom)})},beforeDispose:function(){this.innerRender&&this.innerRender.dispose()},delay:!0}),h.directive("if",{delay:!0,priority:5,init:function(){var e;this.placeholder=(e="if",r.createComment(e));var t=this.node.props;delete t["ms-if"],delete t[":if"],this.fragment=h.vdom(this.node,"toHTML")},diff:function(e,t){var n=!!e;if(void 0===t||n!==t)return this.value=n,!0},update:function(e,t){if(void 0===this.isShow&&t)kr(this,e);else{this.isShow=t;var n=this.placeholder;if(t){var r=n.parentNode;kr(this,e),r&&r.replaceChild(e.dom,n)}else{this.beforeDispose(),e.nodeValue="if",e.nodeName="#comment",delete e.children;var i=e.dom;r=i&&i.parentNode;e.dom=n,r&&r.replaceChild(n,i)}}},beforeDispose:function(){this.innerRender&&this.innerRender.dispose()}}),h.directive("on",{beforeInit:function(){this.getter=h.noop},init:function(){var e=this.node,t=this.name.replace("ms-on-","e").replace("-","_")+"_"+this.expr.replace(/\s/g,"").replace(/[^$a-z]/gi,function(e){return e.charCodeAt(0)}),n=h.eventListeners[t];if(!n){var r=wn(this.expr),i=r[0],o=r[1];i=Sn(i),o&&(o=o.replace(/__value__/g,"$event"),o+="\nif($event.$return){\n\treturn;\n}");var s=["try{","\tvar __vmodel__ = this;","\t"+o,"\treturn "+i,'}catch(e){avalon.log(e, "in on dir")}'].filter(function(e){return/\S/.test(e)});(n=new Function("$event",s.join("\n"))).uuid=t,h.eventListeners[t]=n}var a=h.vdom(e,"toDOM");a._ms_context_=this.vm,this.eventType=this.param.replace(/\-(\d)$/,""),delete this.param,h(a).bind(this.eventType,n)},beforeDispose:function(){h(this.node.dom).unbind(this.eventType)}});var Cr={input:function(e){e=e||"value";var t=this.dom,n=t[e],r=this.parseValue(n);this.value=n,this.setValue(r),Ar(this);var i=this.pos;t.caret&&this.setCaret(t,i)},radio:function(){if(this.isChecked){var e=!this.value;this.setValue(e),Ar(this)}else Cr.input.call(this),this.value=NaN},checkbox:function(){var e=this.value;Array.isArray(e)||(h.warn("ms-duplex应用于checkbox上要对应一个数组"),e=[e]);var t=this.dom.checked?"ensure":"remove";if(e[t]){var n=this.parseValue(this.dom.value);e[t](n),Ar(this)}this.__test__=e},select:function(){var e=this,t=h(e.dom).val();t+""!=this.value+""&&(t=Array.isArray(t)?t.map(function(t){return e.parseValue(t)}):e.parseValue(t),e.setValue(t),Ar(e))},contenteditable:function(){Cr.input.call(this,"innerHTML")}};function Ar(e){e.userCb&&e.userCb.call(e.vm,{type:"changed",target:e.dom})}function Er(e){var t=this._ms_duplex_;if(!this.composing&&this.value!==t.value){if(this.caret)try{var n=t.getCaret(this);t.pos=n}catch(e){}if(t.debounceTime>4){var r=new Date,i=r-t.time||0;t.time=r,i>=t.debounceTime?Cr[t.dtype].call(t):(clearTimeout(t.debounceID),t.debounceID=setTimeout(function(){Cr[t.dtype].call(t)},i))}else t.isChanged?setTimeout(function(){Cr[t.dtype].call(t)},4):Cr[t.dtype].call(t)}}var Tr=/\|\s*change\b/,Ir=/\|\s*debounce(?:\(([^)]+)\))?/;var Dr=!0;try{var Mr={},Or=HTMLInputElement.prototype,Pr=HTMLTextAreaElement.prototype,jr=function(e){Mr[this.tagName].call(this,e);var t=this._ms_duplex_;!this.caret&&t&&t.isString&&t.duplexCb.call(this,{type:"setter"})},Nr=HTMLInputElement.prototype;Object.getOwnPropertyNames(Nr),Mr.INPUT=Object.getOwnPropertyDescriptor(Or,"value").set,Object.defineProperty(Or,"value",{set:jr}),Mr.TEXTAREA=Object.getOwnPropertyDescriptor(Pr,"value").set,Object.defineProperty(Pr,"value",{set:jr}),Dr=!1}catch(e){}function Br(e){for(var t,n=0;t=this.parsers[n++];){var r=h.parsers[t];r&&(e=r.call(this,e))}return e}var Rr={input:function(){var e=this.node,t=this.value+"";e.dom.value=e.props.value=t},updateChecked:function(e,t){e.dom&&(e.dom.defaultChecked=e.dom.checked=t)},radio:function(){var e,t=this.node,n=t.props.value;e=this.isChecked?!!this.value:this.value+""===n,t.props.checked=e,Rr.updateChecked(t,e)},checkbox:function(){var e=this.node,t=e.props,n=t.value+"",r=[].concat(this.value).some(function(e){return e+""===n});t.defaultChecked=t.checked=r,Rr.updateChecked(e,r)},select:function(){var e=Array.isArray(this.value)?this.value.map(String):this.value+"";xr(this.node,e)},contenteditable:function(){for(var e,t=ct(this.value),n=B(),r=0;e=t[r++];){var i=h.vdom(e,"toDOM");n.appendChild(i)}h.clearHTML(this.dom).appendChild(n);var o=this.node.children;o.length=0,Array.prototype.push.apply(o,t),this.duplexCb.call(this.dom)}},Lr=/\s+as\s+([$\w]+)/,Fr=/^[$a-zA-Z_][$a-zA-Z0-9_]*$/,Hr=/^(null|undefined|NaN|window|this|\$index|\$id)$/,zr=/[$\w_]+/g;function qr(e){var t=typeof e;return e&&"object"===t?e.$hashcode:t+":"+e}function Ur(e,t,n){var r={};r[t.keyName]=t.isArray?n:e.key,r[t.valName]=e.val,t.asName&&(r[t.asName]=t.value);var i=e.vm=g.itemFactory(t.vm,{data:r});return t.isArray?i.$watch(t.valName,function(e){t.value&&t.value.set&&t.value.set(i[t.keyName],e)}):i.$watch(t.valName,function(n){t.value[e.key]=n}),e.index=n,e.innerRender=h.scan(t.fragment,i,function(){var t=this.root;w.push.apply(e.children,t.children),this.root=e}),e}function $r(e,t){var n=e[t];if(n){var r=n.arr;if(r){var i=r.pop();return r.length||(n.arr=0),i}return delete e[t],n}}function Wr(e,t){var n=t.key;if(e[n]){var r=e[n];(r.arr||(r.arr=[])).push(t)}else e[n]=t}h.directive("for",{delay:!0,priority:3,beforeInit:function(){var e,t=this.expr,n=(t=t.replace(Lr,function(t,n){return!Fr.test(n)||Hr.test(n)?h.error("alias "+n+" is invalid --- must be a valid JS identifier which is not a reserved name."):e=n,""})).split(" in "),r=n[0].match(zr);1===r.length&&r.unshift("$key"),this.expr=n[1],this.keyName=r[0],this.valName=r[1],this.signature=h.makeHashCode("for"),e&&(this.asName=e),delete this.param},init:function(){var e=this.userCb;if("string"==typeof e&&e){var t=Sn(wn(e,"for")[0]);this.userCb=new Function("$event","var __vmodel__ = this\nreturn "+t)}this.node.forDir=this,this.fragment=["<div>",this.fragment,"\x3c!--",this.signature,"--\x3e</div>"].join(""),this.cache={}},diff:function(e,t){if(!this.updating){this.updating=!0;var n=function(e,t){if(x(t)){var n=Array.isArray(t),r=[],i=[],o=0;return e.isArray=n,e.fragments?(e.preFragments=e.fragments,h.each(t,function(e,t){var s=n?qr(t):e;i.push({key:s,val:t,index:o++}),r.push(s)}),e.fragments=i):(h.each(t,function(e,t){if(!(e in we)){var s=n?qr(t):e;i.push(new Gt([],s,t,o++)),r.push(s)}}),e.fragments=i),r.join(";;")}return NaN}(this,e);return void 0===this.oldTrackIds||(this.oldTrackIds!==n?(this.oldTrackIds=n,!0):void 0)}},update:function(){var e,t,n,r;if(this.preFragments?(function(e){var t=e.cache,n={},r=[],i=e.preFragments;i.forEach(function(e){e._dispose=!0}),e.fragments.forEach(function(i,o){var s,a,c=$r(t,i.key);c?(delete c._dispose,c.oldIndex=c.index,c.index=o,s=c.vm,a=e.keyName,h.config.inProxyMode?s.$accessors[a].value=NaN:s.$accessors[a].set(NaN),c.vm[e.valName]=i.val,c.vm[e.keyName]=e.isArray?o:c.key,Wr(n,c)):r.push(i)}),r.forEach(function(r){var o=function(e){for(var t in e){var n=t;break}if(n)return $r(e,n)}(t,r.key);if(o){o.oldIndex=o.index,o.key=r.key;var s=o.val=r.val,a=o.index=r.index;o.vm[e.valName]=s,o.vm[e.keyName]=e.isArray?a:o.key,delete o._dispose}else r=new Gt([],r.key,r.val,r.index),o=Ur(r,e,r.index),i.push(o);Wr(n,o)}),e.fragments=i,i.sort(function(e,t){return e.index-t.index}),e.cache=n}(this),function(e){for(var t,n=e.begin.dom,r=n.parentNode,i=e.fragments,o=e.end.dom,s=0;t=i[s];s++)if(t._dispose)i.splice(s,1),s--,t.dispose();else{if(t.oldIndex!==t.index){var a=t.toFragment(),c=null===n.nextSibling;r.insertBefore(a,n.nextSibling),c&&!r.contains(o)&&r.insertBefore(o,n.nextSibling)}n=t.split}var l=e.parentChildren,u=l.indexOf(e.begin),f=l.indexOf(e.end);i.splice.apply(l,[u+1,f-u].concat(i)),"SELECT"===r.nodeName&&r._ms_duplex_&&Rr.select.call(r._ms_duplex_)}(this)):(this.fragments=this.fragments||[],t=(e=this).fragments.map(function(t,n){return Ur(t,e,n),Wr(e.cache,t),t}),n=e.parentChildren,r=n.indexOf(e.begin),n.splice.apply(n,[r+1,0].concat(t))),this.userCb){var i=this;setTimeout(function(){i.userCb.call(i.vm,{type:"rendered",target:i.begin.dom,signature:i.signature})},0)}delete this.updating},beforeDispose:function(){this.fragments.forEach(function(e){e.dispose()})}}),h.directive("class",{diff:function(e,t){var n=this.type,r=this.node,i=r.classEvent||{};"hover"===n?(i.mouseenter=Kr,i.mouseleave=Gr):"active"===n&&(i.tabIndex=r.props.tabindex||-1,i.mousedown=Kr,i.mouseup=Gr,i.mouseleave=Gr),r.classEvent=i;var o=function e(){for(var t=[],n=0;n<arguments.length;n++){var r=arguments[n],i=typeof r;if("string"===i||"number"===i||!0===r)t.push(r);else if(Array.isArray(r))t.push(e.apply(null,r));else if("object"===i)for(var o in r)r.hasOwnProperty(o)&&r[o]&&t.push(o)}return t.join(" ")}(e);if(void 0===typeof t||t!==o)return this.value=o,r["change-"+n]=o,!0},update:function(e,t){var n=e.dom;if(n&&1==n.nodeType){var r=this.type,i="change-"+r,o=e.classEvent;if(o){for(var s in o)"tabIndex"===s?n[s]=o[s]:h.bind(n,s,o[s]);e.classEvent={}}["class","hover","active"].forEach(function(e){if(r===e)if("class"===e)n&&function(e,t){var n=e.getAttribute("change-class");n!==t&&(h(e).removeClass(n).addClass(t),e.setAttribute("change-class",t))}(n,t);else{var o=n.getAttribute(i);o&&h(n).removeClass(o);var s="change-"+e;n.setAttribute(s,t)}})}}}),u.active=u.hover=u.class;var Vr={mouseenter:"change-hover",mouseleave:"change-hover",mousedown:"change-active",mouseup:"change-active"};function Kr(e){var t=e.target;h(t).addClass(t.getAttribute(Vr[e.type])||"")}function Gr(e){var t=e.target,n=Vr[e.type];h(t).removeClass(t.getAttribute(n)||""),"change-active"!==n&&h(t).removeClass(t.getAttribute("change-active")||"")}function Yr(e,t){var n={};switch(t.dtype){case"radio":case"checkbox":n.click=Er;break;case"select":n.change=Er;break;case"contenteditable":t.isChanged?n.blur=Er:h.modern?(f.webkitURL?n.webkitEditableContentChanged=Er:f.MutationEvent&&(n.DOMCharacterDataModified=Er),n.input=Er):(n.keydown=ni,n.paste=Jr,n.cut=Jr,n.focus=ti,n.blur=ei);break;case"input":t.isChanged?n.change=Er:s<10?(n.propertychange=Xr,n.paste=Jr,n.cut=Jr,n.keyup=ni):(n.input=Er,n.compositionstart=ei,n.compositionend=ti,/\[native code\]/.test(f.Int8Array)||(n.keydown=ni,n.paste=Jr,n.cut=Jr,f.netscape&&(n.DOMAutoComplete=Er)))}for(var r in/password|text/.test(e.type)&&(n.focus=Zr,n.blur=Qr,t.getCaret=oi,t.setCaret=ii),n)h.bind(e,r,n[r])}function Xr(e){"value"===e.propertyName&&Er.call(this,e)}function Jr(e){var t=this;setTimeout(function(){Er.call(t,e)},0)}function Zr(){this.caret=!0}function Qr(){this.caret=!1}function ei(){this.composing=!0}function ti(e){this.composing=!1,Jr.call(this,e)}function ni(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||Er.call(this,e)}I(Kr),I(Gr),M(Zr),M(Qr),M(ei),M(ti),M(Er),M(Xr),M(Jr),M(ni);var ri=function(e){setTimeout(e,0)};function ii(e,t){var n;e.createTextRange?ri(function(){e.focus(),(n=e.createTextRange()).collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}):(e.focus(),void 0!==e.selectionStart&&e.setSelectionRange(t,t))}function oi(e){var t,n,i,o,s,a=0;return e.selectionStart+e.selectionEnd>-1?a=e.selectionStart:(n=r.selection.createRange())&&n.parentElement()===e&&(o=e.value.length,t=e.value.replace(/\r\n/g,"\n"),(i=e.createTextRange()).moveToBookmark(n.getBookmark()),(s=e.createTextRange()).collapse(!1),i.compareEndPoints("StartToEnd",s)>-1?a=o:(a=-i.moveStart("character",-o),a+=t.slice(0,a).split("\n").length-1)),a}function si(e,t){var n=this.dom;if(this.isString&&t&&!e&&!n.valueHijack){n.valueHijack=Er;var r=setInterval(function(){h.contains(h.root,n)?n.valueHijack({type:"poll"}):clearInterval(r)},30);return r}}if(h.directive("duplex",{priority:9999999,beforeInit:function(){var e=this.expr;Tr.test(e)&&(this.isChanged=!0,e=e.replace(Tr,""));var t=e.match(Ir);t&&(e=e.replace(Ir,""),this.isChanged||(this.debounceTime=parseInt(t[1],10)||300)),this.expr=e},init:function(){this.expr;var e=this.node,t=e.props.type;this.parseValue=Br;var n,r=this.param,i=!1;r=r?r.split("-").map(function(e){return"checked"===e&&(i=!0),e}):[],e.duplex=this,Ie.test(t)&&i&&(r=[],n="radio",this.isChecked=i),this.parsers=r,/input|textarea|select/.test(e.nodeName)?n||(n="select"===e.nodeName?"select":"checkbox"===t?"checkbox":"radio"===t?"radio":"input"):"contenteditable"in e.props&&(n="contenteditable"),this.dtype=n,"input"!==n&&"contenteditable"!==n?(delete this.isChanged,delete this.debounceTime):this.isChecked||(this.isString=!0);var o=e.props["data-duplex-changed"];if(o){var s=Sn(wn(o,"xx")[0]);this.userCb=new Function("$event","var __vmodel__ = this\nreturn "+s)}},diff:function(e,t){if(Array.isArray(e)){if(e+""!==this.compareVal)return this.compareVal=e+"",!0}else if(e=this.parseValue(e),this.isChecked||(this.value=e+=""),e!==this.compareVal)return this.compareVal=e,!0},update:function(e,t){this.dom||function(e,t){var n=e.dom;this.dom=n,this.vdom=e,this.duplexCb=Er,n._ms_duplex_=this,t(n,this)}.call(this,e,Yr),si.call(this,h.msie,Dr),Rr[this.dtype].call(this)}}),h.__pollValue=si,h.msie<8){var ai=Rr.updateChecked;Rr.updateChecked=function(e,t){var n=e.dom;n&&setTimeout(function(){ai(e,t),n.firstCheckedIt=1},n.firstCheckedIt?31:16)}}function ci(e){return"regexp"===h.type(e)}h.directive("rules",{diff:function(e){if(x(e))return this.node.rules=g.toJson(e),!0}});var li=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/i,ui=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/;h.shadowCopy(h.validators,{pattern:{message:"必须匹配{{pattern}}这样的格式",get:function(e,t,n){var r=t.dom,i=t.data;if(!ci(i.pattern)){var o=r.getAttribute("pattern");i.pattern=new RegExp("^(?:"+o+")$")}return n(i.pattern.test(e)),e}},digits:{message:"必须整数",get:function(e,t,n){return n(/^\-?\d+$/.test(e)),e}},number:{message:"必须数字",get:function(e,t,n){return n(!!e&&isFinite(e)),e}},norequired:{message:"",get:function(e,t,n){return n(!0),e}},required:{message:"必须填写",get:function(e,t,n){return n(""!==e),e}},equalto:{message:"密码输入不一致",get:function(e,t,n){var r=String(t.data.equalto);return n(e===(h(document.getElementById(r)).val()||"")),e}},date:{message:"日期格式不正确",get:function(e,t,n){var r=t.data;return ci(r.date)?n(r.date.test(e)):n(function(e){if("string"==typeof e&&e){var t=e.split("-");if(3===t.length&&4===t[0].length){var n=~~t[0],r=~~t[1]-1,i=~~t[2],o=new Date(n,r,i);return o.getFullYear()===n&&o.getMonth()===r&&o.getDate()===i}}return!1}(e)),e}},url:{message:"URL格式不正确",get:function(e,t,n){return n(ui.test(e)),e}},email:{message:"email格式不正确",get:function(e,t,n){return n(li.test(e)),e}},minlength:{message:"最少输入{{minlength}}个字",get:function(e,t,n){var r=parseInt(t.data.minlength,10);return n(e.length>=r),e}},maxlength:{message:"最多输入{{maxlength}}个字",get:function(e,t,n){var r=parseInt(t.data.maxlength,10);return n(e.length<=r),e}},min:{message:"输入值不能小于{{min}}",get:function(e,t,n){var r=parseInt(t.data.min,10);return n(parseFloat(e)>=r),e}},max:{message:"输入值不能大于{{max}}",get:function(e,t,n){var r=parseInt(t.data.max,10);return n(parseFloat(e)<=r),e}},chs:{message:"必须是中文字符",get:function(e,t,n){return n(/^[\u4e00-\u9fa5]+$/.test(e)),e}}});var fi=h.directive("validate",{diff:function(e){var t=this.node;if(!t.validator&&x(e)){for(var n in t.validator=e,(e=g.toJson(e)).vdom=t,e.dom=t.dom,fi.defaults)e.hasOwnProperty(n)||(e[n]=fi.defaults[n]);return e.fields=e.fields||[],t.vmValidator=e,!0}},update:function(e){var t=e.vmValidator,n=e.validator,r=e.dom;r._ms_validate_=t,pi(e.children,t.fields,t);var i=window.netscape?"keypress":"focusin";h.bind(document,i,mi);try{var o=t.onManual=function(){var e=this;e&&fi.validateAll.call(e,e.onValidateAll)}.bind(t);n.onManual=o}catch(e){h.warn("要想使用onManual方法，必须在validate对象预定义一个空的onManual函数")}delete e.vmValidator,r.setAttribute("novalidate","novalidate"),t.validateAllInSubmit&&h.bind(r,"submit",di)},validateAll:function(e){var t=this,n=this.vdom,r=t.fields=[];pi(n.children,r,t);var i="function"==typeof e?e:t.onValidateAll,o=t.fields.filter(function(e){var n=e.dom;return n&&!n.disabled&&t.dom.contains(n)}).map(function(e){return fi.validate(e,!0)}),s={};return Promise.all(o).then(function(e){var r=e.concat.apply([],e);t.deduplicateInValidateAll&&(r=r.filter(function(e){var t=e.element,n=t.uniqueID||(t.uniqueID=setTimeout("1"));return!s[n]&&(s[n]=!0)})),i.call(n.dom,r)})},validate:function(e,t,n){var r=[],i=e.value,o=e.dom;if("function"!=typeof Promise&&h.warn("浏览器不支持原生Promise,请下载并<script src=url>引入\nhttps://github.com/RubyLouvre/avalon/blob/master/test/promise.js"),!o.disabled){var s=e.vdom.rules,a=[],c=!0;if(!s.norequired||""!==i)for(var l in s){var u=s[l];if(!1!==u){var f,d=h.validators[l];r.push(new Promise(function(e,t){f=e}));e.data={},e.data[l]=u,d.get(i,e,function(t){var n={element:o,data:e.data,message:o.getAttribute("data-"+l+"-message")||o.getAttribute("data-message")||d.message,validateRule:l,getMessage:yi};t?f(!0):(c=!1,a.push(n),f(!1))})}}return Promise.all(r).then(function(r){if(!t){var i=e.validator;c?i.onSuccess.call(o,[{data:e.data,element:o}],n):i.onError.call(o,a,n),i.onComplete.call(o,a,n)}return a})}}});function hi(e){for(;"FORM"!==e.tagName;)e=e.parentNode;return e._ms_validate_}function di(e){e.preventDefault();var t=hi(e.target);t&&t.onManual&&t.onManual()}function pi(e,t,n){for(var r,i=0;r=e[i++];){var o=r.rules&&r.duplex;o?(t.push(o),vi(o,n)):r.children?pi(r.children,t,n):Array.isArray(r)&&pi(r,t,n)}}function mi(e){var t=e.target,n=t._ms_duplex_,r=(n||{}).vdom;if(n&&r.rules&&!n.validator){var i=hi(t);i&&h.Array.ensure(i.fields,n)&&vi(n,i)}}function gi(e){var t=e.target._ms_duplex_,n=hi(e.target);n&&n.validate(t,0,e)}function vi(e,t){var n=e.dom;e.validator||(e.validator=t,!t.validateInKeyup||e.isChanged||e.debounceTime||h.bind(n,"keyup",gi),t.validateInBlur&&h.bind(n,"blur",gi),t.resetInFocus&&h.bind(n,"focus",function(e){var t=e.target,n=t._ms_duplex_,r=hi(e.target);r&&r.onReset.call(t,e,n)}))}var bi=/\\?{{([^{}]+)\}}/gm;function yi(){var e=this.data||{};return this.message.replace(bi,function(t,n){return null==e[n]?"":e[n]})}function _i(e,t,r,i){var o=t.type,s=h.directives[o];if(n){var a=h.vdom(r,"toDOM");1===a.nodeType&&a.removeAttribute(t.attrName),r.dom=a}var c=s.update?function(e){!i.mount&&/css|visible|duplex/.test(o)?i.callbacks.push(function(){s.update.call(u,u.node,e)}):s.update.call(u,u.node,e)}:h.noop;for(var l in s)t[l]=s[l];t.node=r;var u=new An(e,t,c);return u.init&&u.init(),u.update(),u}fi.defaults={validate:fi.validate,onError:h.noop,onSuccess:h.noop,onComplete:h.noop,onManual:h.noop,onReset:h.noop,onValidateAll:h.noop,validateInBlur:!0,validateInKeyup:!0,validateAllInSubmit:!0,resetInFocus:!0,deduplicateInValidateAll:!1};var wi=h.oneObject("animationend,blur,change,input,click,dblclick,focus,keydown,keypress,keyup,mousedown,mouseenter,mouseleave,mousemove,mouseout,mouseover,mouseup,scan,scroll,submit","on");function ki(e,t){var n=t[0],r={},i=[],o=!1;for(var s in e){var a=e[s],c=s.split("-");if(s in n.props)var l=s;else l=":"+s.slice(3);wi[c[1]]&&c.splice(1,0,"on"),"on"===c[1]&&(c[3]=parseFloat(c[3])||0);var f=c[1];if("controller"!==f&&"important"!==f&&u[f]){var d={type:f,param:c[2],attrName:l,name:c.join("-"),expr:a,priority:u[f].priority||100*f.charCodeAt(0)};if("if"===f&&(o=!0),"on"===f&&(d.priority+=c[3]),!r[d.name]&&(r[d.name]=a,i.push(d),"for"===f))return[h.mix(d,t[3])]}}if(i.sort(xi),o)for(var p,m=[],g=0;p=i[g++];)if(m.push(p),"if"===p.type)return m;return i}function xi(e,t){return e.priority-t.priority}var Si=/[+-\?]/,Ci=/__value__\)$/;function Ai(e){var t=e.nodeValue.trim().replace(/\n\r?/g,""),n=[];do{var r=t.indexOf(F.openTag);r=-1===r?t.length:r;var i=t.slice(0,r);if(/\S/.test(i)&&n.push(h.quote(h._decode(i))),t=t.slice(r+F.openTag.length)){r=t.indexOf(F.closeTag);i=t.slice(0,r);var o=h.unescapeHTML(i);if(/\|\s*\w/.test(o)){var s=wn(o,"expr");s[1]&&(o=s[1].replace(Ci,s[0]+")"))}Si&&(o="("+o+")"),n.push(o),t=t.slice(r+F.closeTag.length)}}while(t.length);return[{expr:n.join("+"),name:"expr",type:"expr"}]}function Ei(e,t){t&&t.forEach(function(t){if(t){var n=t.children&&function e(t){for(var n,r=0,i=0;n=t[i++];)"#document-fragment"===n.nodeName?r+=e(n.children):r+=1;return r}(t.children);if("#document-fragment"===t.nodeName)var r=B();else{var i=(r=h.vdom(t,"toDOM")).childNodes&&r.childNodes.length;i&&n&&i>n&&(Oi[r.nodeName]||h.clearHTML(r))}if(n&&(Ei(r,t.children),"select"===t.nodeName)){var o=[];!function e(t,n){return t.children.forEach(function(t){"option"===t.nodeName?!0===t.props.selected&&n.push(Sr(t,t.props)):t.children&&e(t,n)}),n}(t,o),xr(t,o)}try{Oi[e.nodeName]||e.appendChild(r)}catch(e){}}})}function Ti(e){if(e)for(var t;t=e.firstChild;)1===t.nodeType&&Ti(t),e.removeChild(t)}function Ii(e,t){var n,r=e.indexOf(t)+1,i=1,o=[];for(o.start=r;t=e[r++];)if(o.push(t),"#comment"===t.nodeName)if(Di(t.nodeValue,"ms-for:"))i++;else if("ms-for-end:"===t.nodeValue&&0===--i){n=t,o.pop();break}return o.end=n,o}function Di(e,t){return 0===e.indexOf(t)}var Mi,Oi={"#text":1,"#comment":1,script:1,style:1,noscript:1};function Pi(e,t,n){this.root=e,this.vm=t,this.beforeReady=n,this.bindings=[],this.callbacks=[],this.directives=[],this.init()}function ji(){var e=this.beforeUpdate(),t=this.value=this.get();if(this.callback&&this.diff(t,e)){this.callback(this.node,this.value);var n=this.vm,r=n.$render,i=n.$events.onViewChange;i&&r&&r.root&&!h.viewChanging&&(Mi&&(clearTimeout(Mi),Mi=null),Mi=setTimeout(function(){i.forEach(function(e){e.callback.call(n,{type:"viewchange",target:r.root,vmodel:n})})}))}this._isScheduled=!1}h.scan=function(e,t,n){return new Pi(e,t,n||h.noop)},Pi.prototype={init:function(){var e;if(this.root&&this.root.nodeType>0)e=Lt(this.root),Ti(this.root);else{if("string"!=typeof this.root)return h.warn("avalon.scan first argument must element or HTML string");e=ct(this.root)}this.root=e[0],this.vnodes=e,this.scanChildren(e,this.vm,!0)},scanChildren:function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];switch(i.nodeName){case"#text":t&&this.scanText(i,t);break;case"#comment":t&&this.scanComment(i,t,e);break;case"#document-fragment":this.scanChildren(i.children,t,!1);break;default:this.scanTag(i,t,e,!1)}}n&&this.complete()},scanText:function(e,t){F.rexpr.test(e.nodeValue)&&this.bindings.push([e,t,{nodeValue:e.nodeValue}])},scanComment:function(e,t,n){Di(e.nodeValue,"ms-for:")&&this.getForBinding(e,t,n)},scanTag:function(e,t,r,i){var o,s,a={},c=e.props;for(var f in c){var d=c[f],p=f;if(":"===f.charAt(0)&&(f="ms-"+f.slice(1)),Di(f,"ms-")){a[f]=d;var m=f.match(/\w+/g)[1];m=wi[m]||m,u[m]||h.warn(f+" has not registered!"),o=!0}"ms-for"===f&&(s=d,delete c[p])}var g=a["ms-important"]||a["ms-controller"];if(g){var v=h.serverTemplates,b=v&&v[g];if(b){h.log("前端再次渲染后端传过来的模板");var y=ct(b)[0];for(var _ in y)e[_]=y[_];return delete v[g],void this.scanTag(e,t,r,i)}var w="ms-"+(m=a["ms-important"]===g?"important":"controller")in c?"ms-"+m:":"+m;n&&delete c[w];var k=u[m];if(!(t=k.getScope.call(this,g,t)))return;var x=c.class;x&&(c.class=(" "+x+" ").replace(" ms-controller ","").trim());var S=this;t.$render=S,this.callbacks.push(function(){k.update.call(S,e,w,g)})}if(s)return e.dom&&e.dom.removeAttribute(p),this.getForBindingByElement(e,t,r,s);/^ms\-/.test(e.nodeName)&&(c.is=e.nodeName),c.is&&(a["ms-widget"]||(a["ms-widget"]="{}"),o=!0),o&&this.bindings.push([e,t,a]);var C=e.children;!Nt[e.nodeName]&&C&&C.length&&!function(e){for(var t in l)if("ms-"+t in e)return!0}(a)&&this.scanChildren(C,t,!1)},complete:function(){if(this.yieldDirectives(),this.beforeReady(),n){var e=this.root;if(n)Ei(h.vdom(e,"toDOM"),e.children)}var t;for(this.mount=!0;t=this.callbacks.pop();)t();this.optimizeDirectives()},yieldDirectives:function(){for(var e;e=this.bindings.shift();){var t=e[0],r=e[1],i=e[2],o=[];"nodeValue"in i?o=Ai(i):"ms-skip"in i||(o=ki(i,e));for(var s,a=0;s=o[a++];){var c=u[s.type];if(n||!/on|duplex|active|hover/.test(s.type)){c.beforeInit&&c.beforeInit.call(s);var l=new _i(r,s,t,this);this.directives.push(l)}}}},optimizeDirectives:function(){for(var e,t=0;e=this.directives[t++];)e.callback=u[e.type].update,e.update=ji,e._isScheduled=!1},update:function(){for(var e,t=0;e=this.directives[t++];)e.update()},dispose:function(){for(var e,t=this.directives||[],n=0;e=t[n++];)e.dispose();for(var r in this)"dispose"!==r&&delete this[r]},getForBinding:function(e,t,n,r){var i=e.nodeValue.replace("ms-for:","").trim();e.nodeValue="ms-for:"+i;var o=Ii(n,e),s=o.end,a=h.vdom(o,"toHTML");n.splice(o.start,o.length),e.props={},this.bindings.push([e,t,{"ms-for":i},{begin:e,end:s,expr:i,userCb:r,fragment:a,parentChildren:n}])},getForBindingByElement:function(e,t,n,r){var i=n.indexOf(e),o=e.props,s={nodeName:"#comment",nodeValue:"ms-for:"+r};o.slot&&(s.slot=o.slot,delete o.slot);n.splice(i,1,s,e,{nodeName:"#comment",nodeValue:"ms-for-end:"}),this.getForBinding(s,t,n,o["data-for-rendered"])}};var Ni=h.oneObject("onInit,onReady,onViewChange,onDispose,onEnter,onLeave");var Bi=[];function Ri(e,t){e.innerRender=t;var n=t.root,r=e.node,i=r.props.slot;for(var o in n)r[o]=n[o];r.props&&i&&(r.props.slot=i),t.root=r,t.vnodes[0]=r}function Li(e,t,n){var r=e.$events["on"+n];r&&r.forEach(function(r){setTimeout(function(){r.callback.call(e,{type:n.toLowerCase(),target:t.dom,vmodel:e})},0)})}function Fi(e,t){for(var n in e)Ni[n]&&"function"==typeof e[n]&&0===n.indexOf("on")&&t.unshift({type:n,cb:e[n]})}function Hi(e,t){var n=t&&t[0]&&t[0].forDir;n&&(n.parentChildren=e)}function zi(e){var t=e.displayName;delete e.displayName;var n={defaults:h.mix(!0,{},this.defaults,e.defaults)};return e.soleSlot&&(n.soleSlot=e.soleSlot),n.template=e.template||this.template,h.component(t,n)}return h.directive("widget",{delay:!0,priority:4,deep:!0,init:function(){var e=this.node;if(this.cacheVm=!!e.props.cached,e.dom&&"#comment"===e.nodeName)var t=e.dom;var n=function(e){if(e=g.toJson(e),Array.isArray(e)){var t={};return e.forEach(function(e){e&&h.shadowCopy(t,e)}),t}return e}(this.getValue()),r=e.props.is||n.is;this.is=r;var i=h.components[r];if(!("fragment"in this))if(e.isVoidTag)this.fragment=!1;else{var o=e.children[0];o&&o.nodeValue?this.fragment=o.nodeValue:this.fragment=h.vdom(e.children,"toHTML")}if(!i)return this.readyState=0,e.nodeName="#comment",e.nodeValue="unresolved component placeholder",delete e.dom,void h.Array.ensure(Bi,this);var s=n.id||n.$id,a=h.vmodels[s],c=!1;if(a)l=a,this.comVm=l,Ri(this,l.$render),c=!0;else{"function"==typeof i&&(i=new i(n));var l=function(e,t,n){var r=[],i=e.defaults;Fi(i,r),Fi(t,r);var o={};for(var s in i){var a=t[s];o[s]=null==a?i[s]:a}o.$id=t.id||t.$id||h.makeHashCode(n),delete o.id;var c=h.mix(!0,{},o),l=h.define(c);return r.forEach(function(e){l.$watch(e.type,e.cb)}),l}(i,n,r);this.readyState=1,Li(l,e,"Init"),this.comVm=l;var u=h.scan(i.template,l);l.$render=u,Ri(this,u);var f=[],d=[];if(this.fragment||i.soleSlot){var p=this.fragment?this.vm:l,m=this.fragment||"{{##"+i.soleSlot+"}}",v=h.scan("<div>"+m+"</div>",p,function(){f=this.root.children});for(var b in d=v.directives,this.childBoss=v,v)delete v[b]}Array.prototype.push.apply(u.directives,d);var y=[],_={};i.soleSlot?y=f:f.forEach(function(e,t){if(e.slot){var n=Ii(f,e);n.push(n.end),n.unshift(e),_[e.slot]=n}else if(e.props){var r=e.props.slot;r&&(delete e.props.slot,Array.isArray(_[r])?_[r].push(e):_[r]=[e])}}),i.soleSlot?function e(t,n){for(var r,i=0;r=t[i];i++){if("slot"===r.nodeName){Hi(t,n),t.splice.apply(t,[i,1].concat(n));break}r.children&&e(r.children,n)}}(u.vnodes,y):function e(t,n){for(var r,i=0;r=t[i];i++)if("slot"!==r.nodeName)r.children&&e(r.children,n);else{var o=r.props.name;Hi(t,n[o]),t.splice.apply(t,[i,1].concat(n[o]))}}(u.vnodes,_)}if(t){var w=h.vdom(e,"toDOM");t.parentNode.replaceChild(w,t),l.$element=u.root.dom=w,delete this.reInit}Ti(e.dom),l.$element=e.dom,Ei(e.dom,e.children),Li(l,e,c?"Enter":"Ready")},diff:function(e,t){if(Jn.call(this,e,t))return!0},update:function(e,t){switch(this.readyState){case 0:this.reInit&&(this.init(),this.readyState++);break;case 1:this.readyState++;break;default:this.readyState++;var n=this.comVm;h.viewChanging=!0,h.transaction(function(){for(var e in t)n.hasOwnProperty(e)&&(Array.isArray(t[e])?n[e]=t[e].concat():n[e]=t[e])}),Li(n,e,"ViewChange"),delete h.viewChanging}this.value=h.mix(!0,{},t)},beforeDispose:function(){var e=this.comVm;this.cacheVm?Li(e,this.node,"Leave"):(Li(e,this.node,"Dispose"),e.$hashcode=!1,delete h.vmodels[e.$id],this.innerRender&&this.innerRender.dispose())}}),h.components={},h.component=function(e,t){return t.extend=zi,function(e,t){h.components[e]=t;for(var n,r=0;n=Bi[r];r++)n.is===e&&(Bi.splice(r,1),n.reInit=!0,delete n.value,n.update(),r--);return t}(e,t)},h})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":111}],50:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":112}],51:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/get-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/get-prototype-of":113}],52:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":114}],53:[function(e,t,n){t.exports={default:e("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":115}],54:[function(e,t,n){t.exports={default:e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":116}],55:[function(e,t,n){t.exports={default:e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":117}],56:[function(e,t,n){"use strict";n.__esModule=!0;var r,i=e("../core-js/promise"),o=(r=i)&&r.__esModule?r:{default:r};n.default=function(e){return function(){var t=e.apply(this,arguments);return new o.default(function(e,n){return function r(i,s){try{var a=t[i](s),c=a.value}catch(e){return void n(e)}if(!a.done)return o.default.resolve(c).then(function(e){r("next",e)},function(e){r("throw",e)});e(c)}("next")})}}},{"../core-js/promise":53}],57:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],58:[function(e,t,n){"use strict";n.__esModule=!0;var r,i=e("../core-js/object/define-property"),o=(r=i)&&r.__esModule?r:{default:r};n.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},{"../core-js/object/define-property":50}],59:[function(e,t,n){"use strict";n.__esModule=!0;var r=s(e("../core-js/object/set-prototype-of")),i=s(e("../core-js/object/create")),o=s(e("../helpers/typeof"));function s(e){return e&&e.__esModule?e:{default:e}}n.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,o.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},{"../core-js/object/create":49,"../core-js/object/set-prototype-of":52,"../helpers/typeof":61}],60:[function(e,t,n){"use strict";n.__esModule=!0;var r,i=e("../helpers/typeof"),o=(r=i)&&r.__esModule?r:{default:r};n.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,o.default)(t))&&"function"!=typeof t?e:t}},{"../helpers/typeof":61}],61:[function(e,t,n){"use strict";n.__esModule=!0;var r=s(e("../core-js/symbol/iterator")),i=s(e("../core-js/symbol")),o="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function s(e){return e&&e.__esModule?e:{default:e}}n.default="function"==typeof i.default&&"symbol"===o(r.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":o(e)}},{"../core-js/symbol":54,"../core-js/symbol/iterator":55}],62:[function(e,t,n){t.exports=e("regenerator-runtime")},{"regenerator-runtime":422}],63:[function(e,t,n){function r(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}t.exports=r,r.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(e){this.ms=e},r.prototype.setMax=function(e){this.max=e},r.prototype.setJitter=function(e){this.jitter=e}},{}],64:[function(e,t,n){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),r=0;r<e.length;r++)t[e.charCodeAt(r)]=r;n.encode=function(t){var n,r=new Uint8Array(t),i=r.length,o="";for(n=0;n<i;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},n.decode=function(e){var n,r,i,o,s,a=.75*e.length,c=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new ArrayBuffer(a),f=new Uint8Array(u);for(n=0;n<c;n+=4)r=t[e.charCodeAt(n)],i=t[e.charCodeAt(n+1)],o=t[e.charCodeAt(n+2)],s=t[e.charCodeAt(n+3)],f[l++]=r<<2|i>>4,f[l++]=(15&i)<<4|o>>2,f[l++]=(3&o)<<6|63&s;return u}}()},{}],65:[function(e,t,n){"use strict";n.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},n.toByteArray=function(e){for(var t,n=l(e),r=n[0],s=n[1],a=new o(function(e,t,n){return 3*(t+n)/4-n}(0,r,s)),c=0,u=s>0?r-4:r,f=0;f<u;f+=4)t=i[e.charCodeAt(f)]<<18|i[e.charCodeAt(f+1)]<<12|i[e.charCodeAt(f+2)]<<6|i[e.charCodeAt(f+3)],a[c++]=t>>16&255,a[c++]=t>>8&255,a[c++]=255&t;2===s&&(t=i[e.charCodeAt(f)]<<2|i[e.charCodeAt(f+1)]>>4,a[c++]=255&t);1===s&&(t=i[e.charCodeAt(f)]<<10|i[e.charCodeAt(f+1)]<<4|i[e.charCodeAt(f+2)]>>2,a[c++]=t>>8&255,a[c++]=255&t);return a},n.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(u(e,s,s+16383>a?a:s+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],66:[function(e,t,n){!function(e){"use strict";var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,o=Math.floor,s="[BigNumber Error] ",a=s+"Number primitive has more than 15 significant digits: ",c=1e14,l=14,u=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,d=1e9;function p(e){var t=0|e;return e>0||e===t?t:t-1}function m(e){for(var t,n,r=1,i=e.length,o=e[0]+"";r<i;){for(t=e[r++]+"",n=l-t.length;n--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function g(e,t){var n,r,i=e.c,o=t.c,s=e.s,a=t.s,c=e.e,l=t.e;if(!s||!a)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-a:s;if(s!=a)return s;if(n=s<0,r=c==l,!i||!o)return r?0:!i^n?1:-1;if(!r)return c>l^n?1:-1;for(a=(c=i.length)<(l=o.length)?c:l,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^n?1:-1;return c==l?0:c>l^n?1:-1}function v(e,t,n,r){if(e<t||e>n||e!==(e<0?i(e):o(e)))throw Error(s+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+e)}function b(e){return"[object Array]"==Object.prototype.toString.call(e)}function y(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function _(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}(n=function e(t){var n,w,k,x,S,C,A,E,T,I=q.prototype,D=new q(1),M=20,O=4,P=-7,j=21,N=-1e7,B=1e7,R=!1,L=1,F=0,H={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0},z="0123456789abcdefghijklmnopqrstuvwxyz";function q(e,t){var n,i,s,c,f,h,d,p=this;if(!(p instanceof q))return new q(e,t);if(null==t){if(e instanceof q)return p.s=e.s,p.e=e.e,void(p.c=(e=e.c)?e.slice():e);if((f="number"==typeof e)&&0*e==0){if(p.s=1/e<0?(e=-e,-1):1,e===~~e){for(s=0,c=e;c>=10;c/=10,s++);return p.e=s,void(p.c=[e])}d=e+""}else{if(!r.test(d=e+""))return k(p,d,f);p.s=45==d.charCodeAt(0)?(d=d.slice(1),-1):1}}else{if(v(t,2,z.length,"Base"),d=e+"",10==t)return V(p=new q(e instanceof q?e:d),M+p.e+1,O);if(f="number"==typeof e){if(0*e!=0)return k(p,d,f,t);if(p.s=1/e<0?(d=d.slice(1),-1):1,d.replace(/^0\.0*|\./,"").length>15)throw Error(a+e);f=!1}else p.s=45===d.charCodeAt(0)?(d=d.slice(1),-1):1,t>10&&t<37&&(d=d.toLowerCase());for(n=z.slice(0,t),s=c=0,h=d.length;c<h;c++)if(n.indexOf(i=d.charAt(c))<0){if("."==i&&c>s){s=h;continue}return k(p,e+"",f,t)}d=w(d,t,10,p.s)}for((s=d.indexOf("."))>-1&&(d=d.replace(".","")),(c=d.search(/e/i))>0?(s<0&&(s=c),s+=+d.slice(c+1),d=d.substring(0,c)):s<0&&(s=d.length),c=0;48===d.charCodeAt(c);c++);for(h=d.length;48===d.charCodeAt(--h););if(d=d.slice(c,h+1)){if(h=d.length,f&&h>15&&(e>u||e!==o(e)))throw Error(a+p.s*e);if((s=s-c-1)>B)p.c=p.e=null;else if(s<N)p.c=[p.e=0];else{if(p.e=s,p.c=[],c=(s+1)%l,s<0&&(c+=l),c<h){for(c&&p.c.push(+d.slice(0,c)),h-=l;c<h;)p.c.push(+d.slice(c,c+=l));d=d.slice(c),c=l-d.length}else c-=h;for(;c--;d+="0");p.c.push(+d)}}else p.c=[p.e=0]}function U(e,t,n,r){var i,o,s,a,c;if(null==n?n=O:v(n,0,8),!e.c)return e.toString();if(i=e.c[0],s=e.e,null==t)c=m(e.c),c=1==r||2==r&&s<=P?y(c,s):_(c,s,"0");else if(o=(e=V(new q(e),t,n)).e,a=(c=m(e.c)).length,1==r||2==r&&(t<=o||o<=P)){for(;a<t;c+="0",a++);c=y(c,o)}else if(t-=s,c=_(c,o,"0"),o+1>a){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=o-a)>0)for(o+1==a&&(c+=".");t--;c+="0");return e.s<0&&i?"-"+c:c}function $(e,t){var n,r,i=0;for(b(e[0])&&(e=e[0]),n=new q(e[0]);++i<e.length;){if(!(r=new q(e[i])).s){n=r;break}t.call(n,r)&&(n=r)}return n}function W(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+n*l-1)>B?e.c=e.e=null:n<N?e.c=[e.e=0]:(e.e=n,e.c=t),e}function V(e,t,n,r){var s,a,u,h,d,p,m,g=e.c,v=f;if(g){e:{for(s=1,h=g[0];h>=10;h/=10,s++);if((a=t-s)<0)a+=l,u=t,m=(d=g[p=0])/v[s-u-1]%10|0;else if((p=i((a+1)/l))>=g.length){if(!r)break e;for(;g.length<=p;g.push(0));d=m=0,s=1,u=(a%=l)-l+1}else{for(d=h=g[p],s=1;h>=10;h/=10,s++);m=(u=(a%=l)-l+s)<0?0:d/v[s-u-1]%10|0}if(r=r||t<0||null!=g[p+1]||(u<0?d:d%v[s-u-1]),r=n<4?(m||r)&&(0==n||n==(e.s<0?3:2)):m>5||5==m&&(4==n||r||6==n&&(a>0?u>0?d/v[s-u]:0:g[p-1])%10&1||n==(e.s<0?8:7)),t<1||!g[0])return g.length=0,r?(t-=e.e+1,g[0]=v[(l-t%l)%l],e.e=-t||0):g[0]=e.e=0,e;if(0==a?(g.length=p,h=1,p--):(g.length=p+1,h=v[l-a],g[p]=u>0?o(d/v[s-u]%v[u])*h:0),r)for(;;){if(0==p){for(a=1,u=g[0];u>=10;u/=10,a++);for(u=g[0]+=h,h=1;u>=10;u/=10,h++);a!=h&&(e.e++,g[0]==c&&(g[0]=1));break}if(g[p]+=h,g[p]!=c)break;g[p--]=0,h=1}for(a=g.length;0===g[--a];g.pop());}e.e>B?e.c=e.e=null:e.e<N&&(e.c=[e.e=0])}return e}return q.clone=e,q.ROUND_UP=0,q.ROUND_DOWN=1,q.ROUND_CEIL=2,q.ROUND_FLOOR=3,q.ROUND_HALF_UP=4,q.ROUND_HALF_DOWN=5,q.ROUND_HALF_EVEN=6,q.ROUND_HALF_CEIL=7,q.ROUND_HALF_FLOOR=8,q.EUCLID=9,q.config=q.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(s+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(v(n=e[t],0,d,t),M=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(v(n=e[t],0,8,t),O=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&(b(n=e[t])?(v(n[0],-d,0,t),v(n[1],0,d,t),P=n[0],j=n[1]):(v(n,-d,d,t),P=-(j=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if(b(n=e[t]))v(n[0],-d,-1,t),v(n[1],1,d,t),N=n[0],B=n[1];else{if(v(n,-d,d,t),!n)throw Error(s+t+" cannot be zero: "+n);N=-(B=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(s+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw R=!n,Error(s+"crypto unavailable");R=n}else R=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(v(n=e[t],0,9,t),L=n),e.hasOwnProperty(t="POW_PRECISION")&&(v(n=e[t],0,d,t),F=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(s+t+" not an object: "+n);H=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.$|\.|(.).*\1/.test(n))throw Error(s+t+" invalid: "+n);z=n}}return{DECIMAL_PLACES:M,ROUNDING_MODE:O,EXPONENTIAL_AT:[P,j],RANGE:[N,B],CRYPTO:R,MODULO_MODE:L,POW_PRECISION:F,FORMAT:H,ALPHABET:z}},q.isBigNumber=function(e){return e instanceof q||e&&!0===e._isBigNumber||!1},q.maximum=q.max=function(){return $(arguments,I.lt)},q.minimum=q.min=function(){return $(arguments,I.gt)},q.random=(x=9007199254740992*Math.random()&2097151?function(){return o(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,a,c,u=0,h=[],p=new q(D);if(null==e?e=M:v(e,0,d),a=i(e/l),R)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(a*=2));u<a;)(c=131072*t[u]+(t[u+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[u]=n[0],t[u+1]=n[1]):(h.push(c%1e14),u+=2);u=a/2}else{if(!crypto.randomBytes)throw R=!1,Error(s+"crypto unavailable");for(t=crypto.randomBytes(a*=7);u<a;)(c=281474976710656*(31&t[u])+1099511627776*t[u+1]+4294967296*t[u+2]+16777216*t[u+3]+(t[u+4]<<16)+(t[u+5]<<8)+t[u+6])>=9e15?crypto.randomBytes(7).copy(t,u):(h.push(c%1e14),u+=7);u=a/7}if(!R)for(;u<a;)(c=x())<9e15&&(h[u++]=c%1e14);for(a=h[--u],e%=l,a&&e&&(c=f[l-e],h[u]=o(a/c)*c);0===h[u];h.pop(),u--);if(u<0)h=[r=0];else{for(r=-1;0===h[0];h.splice(0,1),r-=l);for(u=1,c=h[0];c>=10;c/=10,u++);u<l&&(r-=l-u)}return p.e=r,p.c=h,p}),w=function(){function e(e,t,n,r){for(var i,o,s=[0],a=0,c=e.length;a<c;){for(o=s.length;o--;s[o]*=t);for(s[0]+=r.indexOf(e.charAt(a++)),i=0;i<s.length;i++)s[i]>n-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/n|0,s[i]%=n)}return s.reverse()}return function(t,r,i,o,s){var a,c,l,u,f,h,d,p,g=t.indexOf("."),v=M,b=O;for(g>=0&&(u=F,F=0,t=t.replace(".",""),h=(p=new q(r)).pow(t.length-g),F=u,p.c=e(_(m(h.c),h.e,"0"),10,i,"0123456789"),p.e=p.c.length),l=u=(d=e(t,r,i,s?(a=z,"0123456789"):(a="0123456789",z))).length;0==d[--u];d.pop());if(!d[0])return a.charAt(0);if(g<0?--l:(h.c=d,h.e=l,h.s=o,d=(h=n(h,p,v,b,i)).c,f=h.r,l=h.e),g=d[c=l+v+1],u=i/2,f=f||c<0||null!=d[c+1],f=b<4?(null!=g||f)&&(0==b||b==(h.s<0?3:2)):g>u||g==u&&(4==b||f||6==b&&1&d[c-1]||b==(h.s<0?8:7)),c<1||!d[0])t=f?_(a.charAt(1),-v,a.charAt(0)):a.charAt(0);else{if(d.length=c,f)for(--i;++d[--c]>i;)d[c]=0,c||(++l,d=[1].concat(d));for(u=d.length;!d[--u];);for(g=0,t="";g<=u;t+=a.charAt(d[g++]));t=_(t,l,a.charAt(0))}return t}}(),n=function(){function e(e,t,n){var r,i,o,s,a=0,c=e.length,l=t%h,u=t/h|0;for(e=e.slice();c--;)a=((i=l*(o=e[c]%h)+(r=u*o+(s=e[c]/h|0)*l)%h*h+a)/n|0)+(r/h|0)+u*s,e[c]=i%n;return a&&(e=[a].concat(e)),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,i,s,a,u){var f,h,d,m,g,v,b,y,_,w,k,x,S,C,A,E,T,I=r.s==i.s?1:-1,D=r.c,M=i.c;if(!(D&&D[0]&&M&&M[0]))return new q(r.s&&i.s&&(D?!M||D[0]!=M[0]:M)?D&&0==D[0]||!M?0*I:I/0:NaN);for(_=(y=new q(I)).c=[],I=s+(h=r.e-i.e)+1,u||(u=c,h=p(r.e/l)-p(i.e/l),I=I/l|0),d=0;M[d]==(D[d]||0);d++);if(M[d]>(D[d]||0)&&h--,I<0)_.push(1),m=!0;else{for(C=D.length,E=M.length,d=0,I+=2,(g=o(u/(M[0]+1)))>1&&(M=e(M,g,u),D=e(D,g,u),E=M.length,C=D.length),S=E,k=(w=D.slice(0,E)).length;k<E;w[k++]=0);T=M.slice(),T=[0].concat(T),A=M[0],M[1]>=u/2&&A++;do{if(g=0,(f=t(M,w,E,k))<0){if(x=w[0],E!=k&&(x=x*u+(w[1]||0)),(g=o(x/A))>1)for(g>=u&&(g=u-1),b=(v=e(M,g,u)).length,k=w.length;1==t(v,w,b,k);)g--,n(v,E<b?T:M,b,u),b=v.length,f=1;else 0==g&&(f=g=1),b=(v=M.slice()).length;if(b<k&&(v=[0].concat(v)),n(w,v,k,u),k=w.length,-1==f)for(;t(M,w,E,k)<1;)g++,n(w,E<k?T:M,k,u),k=w.length}else 0===f&&(g++,w=[0]);_[d++]=g,w[0]?w[k++]=D[S]||0:(w=[D[S]],k=1)}while((S++<C||null!=w[0])&&I--);m=null!=w[0],_[0]||_.splice(0,1)}if(u==c){for(d=1,I=_[0];I>=10;I/=10,d++);V(y,s+(y.e=d+h*l-1)+1,a,m)}else y.e=h,y.r=+m;return y}}(),S=/^(-?)0([xbo])(?=\w[\w.]*$)/i,C=/^([^.]+)\.$/,A=/^\.([^.]+)$/,E=/^-?(Infinity|NaN)$/,T=/^\s*\+(?=[\w.])|^\s+|\s+$/g,k=function(e,t,n,r){var i,o=n?t:t.replace(T,"");if(!E.test(o)){if(!n&&(o=o.replace(S,function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t}),r&&(i=r,o=o.replace(C,"$1").replace(A,"0.$1")),t!=o))return new q(o,i);throw Error(s+"Not a"+(r?" base "+r:"")+" number: "+t)}e.s=isNaN(o)?null:o<0?-1:1,e.c=e.e=null},I.absoluteValue=I.abs=function(){var e=new q(this);return e.s<0&&(e.s=1),e},I.comparedTo=function(e,t){return g(this,new q(e,t))},I.decimalPlaces=I.dp=function(e,t){var n,r,i,o=this;if(null!=e)return v(e,0,d),null==t?t=O:v(t,0,8),V(new q(o),e+o.e+1,t);if(!(n=o.c))return null;if(r=((i=n.length-1)-p(this.e/l))*l,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},I.dividedBy=I.div=function(e,t){return n(this,new q(e,t),M,O)},I.dividedToIntegerBy=I.idiv=function(e,t){return n(this,new q(e,t),0,1)},I.isEqualTo=I.eq=function(e,t){return 0===g(this,new q(e,t))},I.integerValue=function(e){var t=new q(this);return null==e?e=O:v(e,0,8),V(t,t.e+1,e)},I.isGreaterThan=I.gt=function(e,t){return g(this,new q(e,t))>0},I.isGreaterThanOrEqualTo=I.gte=function(e,t){return 1===(t=g(this,new q(e,t)))||0===t},I.isFinite=function(){return!!this.c},I.isInteger=function(){return!!this.c&&p(this.e/l)>this.c.length-2},I.isNaN=function(){return!this.s},I.isNegative=function(){return this.s<0},I.isPositive=function(){return this.s>0},I.isZero=function(){return!!this.c&&0==this.c[0]},I.isLessThan=I.lt=function(e,t){return g(this,new q(e,t))<0},I.isLessThanOrEqualTo=I.lte=function(e,t){return-1===(t=g(this,new q(e,t)))||0===t},I.minus=function(e,t){var n,r,i,o,s=this,a=s.s;if(t=(e=new q(e,t)).s,!a||!t)return new q(NaN);if(a!=t)return e.s=-t,s.plus(e);var u=s.e/l,f=e.e/l,h=s.c,d=e.c;if(!u||!f){if(!h||!d)return h?(e.s=-t,e):new q(d?s:NaN);if(!h[0]||!d[0])return d[0]?(e.s=-t,e):new q(h[0]?s:3==O?-0:0)}if(u=p(u),f=p(f),h=h.slice(),a=u-f){for((o=a<0)?(a=-a,i=h):(f=u,i=d),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(r=(o=(a=h.length)<(t=d.length))?a:t,a=t=0;t<r;t++)if(h[t]!=d[t]){o=h[t]<d[t];break}if(o&&(i=h,h=d,d=i,e.s=-e.s),(t=(r=d.length)-(n=h.length))>0)for(;t--;h[n++]=0);for(t=c-1;r>a;){if(h[--r]<d[r]){for(n=r;n&&!h[--n];h[n]=t);--h[n],h[r]+=c}h[r]-=d[r]}for(;0==h[0];h.splice(0,1),--f);return h[0]?W(e,h,f):(e.s=3==O?-1:1,e.c=[e.e=0],e)},I.modulo=I.mod=function(e,t){var r,i,o=this;return e=new q(e,t),!o.c||!e.s||e.c&&!e.c[0]?new q(NaN):!e.c||o.c&&!o.c[0]?new q(o):(9==L?(i=e.s,e.s=1,r=n(o,e,0,3),e.s=i,r.s*=i):r=n(o,e,0,L),o.minus(r.times(e)))},I.multipliedBy=I.times=function(e,t){var n,r,i,o,s,a,u,f,d,m,g,v,b,y,_,w=this,k=w.c,x=(e=new q(e,t)).c;if(!(k&&x&&k[0]&&x[0]))return!w.s||!e.s||k&&!k[0]&&!x||x&&!x[0]&&!k?e.c=e.e=e.s=null:(e.s*=w.s,k&&x?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=p(w.e/l)+p(e.e/l),e.s*=w.s,(u=k.length)<(m=x.length)&&(b=k,k=x,x=b,i=u,u=m,m=i),i=u+m,b=[];i--;b.push(0));for(y=c,_=h,i=m;--i>=0;){for(n=0,g=x[i]%_,v=x[i]/_|0,o=i+(s=u);o>i;)n=((f=g*(f=k[--s]%_)+(a=v*f+(d=k[s]/_|0)*g)%_*_+b[o]+n)/y|0)+(a/_|0)+v*d,b[o--]=f%y;b[o]=n}return n?++r:b.splice(0,1),W(e,b,r)},I.negated=function(){var e=new q(this);return e.s=-e.s||null,e},I.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new q(e,t)).s,!i||!t)return new q(NaN);if(i!=t)return e.s=-t,r.minus(e);var o=r.e/l,s=e.e/l,a=r.c,u=e.c;if(!o||!s){if(!a||!u)return new q(i/0);if(!a[0]||!u[0])return u[0]?e:new q(a[0]?r:0*i)}if(o=p(o),s=p(s),a=a.slice(),i=o-s){for(i>0?(s=o,n=u):(i=-i,n=a),n.reverse();i--;n.push(0));n.reverse()}for((i=a.length)-(t=u.length)<0&&(n=u,u=a,a=n,t=i),i=0;t;)i=(a[--t]=a[t]+u[t]+i)/c|0,a[t]=c===a[t]?0:a[t]%c;return i&&(a=[i].concat(a),++s),W(e,a,s)},I.precision=I.sd=function(e,t){var n,r,i,o=this;if(null!=e&&e!==!!e)return v(e,1,d),null==t?t=O:v(t,0,8),V(new q(o),e,t);if(!(n=o.c))return null;if(r=(i=n.length-1)*l+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&o.e+1>r&&(r=o.e+1),r},I.shiftedBy=function(e){return v(e,-u,u),this.times("1e"+e)},I.squareRoot=I.sqrt=function(){var e,t,r,i,o,s=this,a=s.c,c=s.s,l=s.e,u=M+4,f=new q("0.5");if(1!==c||!a||!a[0])return new q(!c||c<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(c=Math.sqrt(+s))||c==1/0?(((t=m(a)).length+l)%2==0&&(t+="0"),c=Math.sqrt(t),l=p((l+1)/2)-(l<0||l%2),r=new q(t=c==1/0?"1e"+l:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+l)):r=new q(c+""),r.c[0])for((c=(l=r.e)+u)<3&&(c=0);;)if(o=r,r=f.times(o.plus(n(s,o,u,1))),m(o.c).slice(0,c)===(t=m(r.c)).slice(0,c)){if(r.e<l&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(V(r,r.e+M+2,1),e=!r.times(r).eq(s));break}if(!i&&(V(o,o.e+M+2,0),o.times(o).eq(s))){r=o;break}u+=4,c+=4,i=1}return V(r,r.e+M+1,O,e)},I.toExponential=function(e,t){return null!=e&&(v(e,0,d),e++),U(this,e,t,1)},I.toFixed=function(e,t){return null!=e&&(v(e,0,d),e=e+this.e+1),U(this,e,t)},I.toFormat=function(e,t){var n=this.toFixed(e,t);if(this.c){var r,i=n.split("."),o=+H.groupSize,s=+H.secondaryGroupSize,a=H.groupSeparator,c=i[0],l=i[1],u=this.s<0,f=u?c.slice(1):c,h=f.length;if(s&&(r=o,o=s,s=r,h-=r),o>0&&h>0){for(r=h%o||o,c=f.substr(0,r);r<h;r+=o)c+=a+f.substr(r,o);s>0&&(c+=a+f.slice(r)),u&&(c="-"+c)}n=l?c+H.decimalSeparator+((s=+H.fractionGroupSize)?l.replace(new RegExp("\\d{"+s+"}\\B","g"),"$&"+H.fractionGroupSeparator):l):c}return n},I.toFraction=function(e){var t,r,i,o,a,c,u,h,d,p,g,v,b=this,y=b.c;if(null!=e&&(!(h=new q(e)).isInteger()||h.lt(D)))throw Error(s+"Argument "+(h.isInteger()?"out of range: ":"not an integer: ")+e);if(!y)return b.toString();for(r=new q(D),p=i=new q(D),o=d=new q(D),v=m(y),c=r.e=v.length-b.e-1,r.c[0]=f[(u=c%l)<0?l+u:u],e=!e||h.comparedTo(r)>0?c>0?r:p:h,u=B,B=1/0,h=new q(v),d.c[0]=0;g=n(h,r,0,1),1!=(a=i.plus(g.times(o))).comparedTo(e);)i=o,o=a,p=d.plus(g.times(a=p)),d=a,r=h.minus(g.times(a=r)),h=a;return a=n(e.minus(i),o,0,1),d=d.plus(a.times(p)),i=i.plus(a.times(o)),d.s=p.s=b.s,t=n(p,o,c*=2,O).minus(b).abs().comparedTo(n(d,i,c,O).minus(b).abs())<1?[p.toString(),o.toString()]:[d.toString(),i.toString()],B=u,t},I.toNumber=function(){return+this},I.exponentiatedBy=I.pow=function(e,t){var n,r,s,a,c=this;for(v(e,-u,u),null!=t&&(t=new q(t)),t?e>1&&c.gt(D)&&c.isInteger()&&t.gt(D)&&t.isInteger()?c=c.mod(t):(a=t,t=null):F&&(r=i(F/l+2)),s=new q(D),n=o(e<0?-e:e);;){if(n%2){if(!(s=s.times(c)).c)break;r?s.c.length>r&&(s.c.length=r):t&&(s=s.mod(t))}if(!(n=o(n/2)))break;c=c.times(c),r?c.c&&c.c.length>r&&(c.c.length=r):t&&(c=c.mod(t))}return t?s:(e<0&&(s=D.div(s)),a?s.mod(a):r?V(s,F,O):s)},I.toPrecision=function(e,t){return null!=e&&v(e,1,d),U(this,e,t,2)},I.toString=function(e){var t,n=this,r=n.s,i=n.e;return null===i?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(t=m(n.c),null==e?t=i<=P||i>=j?y(t,i):_(t,i,"0"):(v(e,2,z.length,"Base"),t=w(_(t,i,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},I.valueOf=I.toJSON=function(){var e,t=this,n=t.e;return null===n?t.toString():(e=m(t.c),e=n<=P||n>=j?y(e,n):_(e,n,"0"),t.s<0?"-"+e:e)},I._isBigNumber=!0,null!=t&&q.set(t),q}()).default=n.BigNumber=n,"function"==typeof define&&define.amd?define(function(){return n}):void 0!==t&&t.exports?t.exports=n:(e||(e="undefined"!=typeof self?self:Function("return this")()),e.BigNumber=n)}(this)},{}],67:[function(e,t,n){var r=e("safe-buffer").Buffer;t.exports={check:function(e){if(e.length<8)return!1;if(e.length>72)return!1;if(48!==e[0])return!1;if(e[1]!==e.length-2)return!1;if(2!==e[2])return!1;var t=e[3];if(0===t)return!1;if(5+t>=e.length)return!1;if(2!==e[4+t])return!1;var n=e[5+t];return!(0===n||6+t+n!==e.length||128&e[4]||t>1&&0===e[4]&&!(128&e[5])||128&e[t+6]||n>1&&0===e[t+6]&&!(128&e[t+7]))},decode:function(e){if(e.length<8)throw new Error("DER sequence length is too short");if(e.length>72)throw new Error("DER sequence length is too long");if(48!==e[0])throw new Error("Expected DER sequence");if(e[1]!==e.length-2)throw new Error("DER sequence length is invalid");if(2!==e[2])throw new Error("Expected DER integer");var t=e[3];if(0===t)throw new Error("R length is zero");if(5+t>=e.length)throw new Error("R length is too long");if(2!==e[4+t])throw new Error("Expected DER integer (2)");var n=e[5+t];if(0===n)throw new Error("S length is zero");if(6+t+n!==e.length)throw new Error("S length is invalid");if(128&e[4])throw new Error("R value is negative");if(t>1&&0===e[4]&&!(128&e[5]))throw new Error("R value excessively padded");if(128&e[t+6])throw new Error("S value is negative");if(n>1&&0===e[t+6]&&!(128&e[t+7]))throw new Error("S value excessively padded");return{r:e.slice(4,4+t),s:e.slice(6+t)}},encode:function(e,t){var n=e.length,i=t.length;if(0===n)throw new Error("R length is zero");if(0===i)throw new Error("S length is zero");if(n>33)throw new Error("R length is too long");if(i>33)throw new Error("S length is too long");if(128&e[0])throw new Error("R value is negative");if(128&t[0])throw new Error("S value is negative");if(n>1&&0===e[0]&&!(128&e[1]))throw new Error("R value excessively padded");if(i>1&&0===t[0]&&!(128&t[1]))throw new Error("S value excessively padded");var o=r.allocUnsafe(6+n+i);return o[0]=48,o[1]=o.length-2,o[2]=2,o[3]=e.length,e.copy(o,4),o[4+n]=2,o[5+n]=t.length,t.copy(o,6+n),o}}},{"safe-buffer":426}],68:[function(e,t,n){(function(e){var n=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),i=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),o=n&&n.prototype.append&&n.prototype.getBlob;function s(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var i=new Uint8Array(n.byteLength);i.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=i.buffer}e[t]=r}}}function a(e,t){t=t||{};var r=new n;s(e);for(var i=0;i<e.length;i++)r.append(e[i]);return t.type?r.getBlob(t.type):r.getBlob()}function c(e,t){return s(e),new Blob(e,t||{})}t.exports=r?i?e.Blob:c:o?a:void 0}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],69:[function(e,t,n){(function(e,r){!function(e){if("object"==typeof n&&void 0!==t)t.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i;"undefined"!=typeof window?i=window:void 0!==r?i=r:"undefined"!=typeof self&&(i=self),i.Promise=e()}}(function(){var t,n,i;return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var c="function"==typeof _dereq_&&_dereq_;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return i(n||e)},u,u.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof _dereq_&&_dereq_,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){"use strict";t.exports=function(e){var t=e._SomePromiseArray;function n(e){var n=new t(e),r=n.promise();return n.setHowMany(1),n.setUnwrap(),n.init(),r}e.any=function(e){return n(e)},e.prototype.any=function(){return n(this)}}},{}],2:[function(t,n,r){"use strict";var i;try{throw new Error}catch(e){i=e}var o=t("./schedule"),s=t("./queue"),a=t("./util");function c(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new s(16),this._normalQueue=new s(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=o}function l(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()}function u(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()}function f(e){this._normalQueue._pushOne(e),this._queueTick()}c.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},c.prototype.hasCustomScheduler=function(){return this._customScheduler},c.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},c.prototype.disableTrampolineIfNecessary=function(){a.hasDevTools&&(this._trampolineEnabled=!1)},c.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},c.prototype.fatalError=function(t,n){n?(e.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),e.exit(2)):this.throwLater(t)},c.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},a.hasDevTools?(c.prototype.invokeLater=function(e,t,n){this._trampolineEnabled?l.call(this,e,t,n):this._schedule(function(){setTimeout(function(){e.call(t,n)},100)})},c.prototype.invoke=function(e,t,n){this._trampolineEnabled?u.call(this,e,t,n):this._schedule(function(){e.call(t,n)})},c.prototype.settlePromises=function(e){this._trampolineEnabled?f.call(this,e):this._schedule(function(){e._settlePromises()})}):(c.prototype.invokeLater=l,c.prototype.invoke=u,c.prototype.settlePromises=f),c.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var n=e.shift(),r=e.shift();t.call(n,r)}else t._settlePromises()}},c.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},c.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},c.prototype._reset=function(){this._isTickUsed=!1},n.exports=c,n.exports.firstLineError=i},{"./queue":26,"./schedule":29,"./util":36}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){var i=!1,o=function(e,t){this._reject(t)},s=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(o,o,null,this,e)},a=function(e,t){0==(50397184&this._bitField)&&this._resolveCallback(t.target)},c=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(o){i||(i=!0,e.prototype._propagateFrom=r.propagateFromFunction(),e.prototype._boundValue=r.boundValueFunction());var l=n(o),u=new e(t);u._propagateFrom(this,1);var f=this._target();if(u._setBoundTo(l),l instanceof e){var h={promiseRejectionQueued:!1,promise:u,target:f,bindingPromise:l};f._then(t,s,void 0,u,h),l._then(a,c,void 0,u,h),u._setOnCancel(l)}else u._resolveCallback(f);return u},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},e.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},e.bind=function(t,n){return e.resolve(n).bind(t)}}},{}],4:[function(e,t,n){"use strict";var r;"undefined"!=typeof Promise&&(r=Promise);var i=e("./promise")();i.noConflict=function(){try{Promise===i&&(Promise=r)}catch(e){}return i},t.exports=i},{"./promise":22}],5:[function(e,t,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}t.exports=function(t){var n,r=e("./util"),i=r.canEvaluate;r.isIdentifier;function o(e,n){var i;if(null!=e&&(i=e[n]),"function"!=typeof i){var o="Object "+r.classString(e)+" has no method '"+r.toString(n)+"'";throw new t.TypeError(o)}return i}function s(e){return o(e,this.pop()).apply(e,this)}function a(e){return e[this]}function c(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}t.prototype.call=function(e){var t=[].slice.call(arguments,1);return t.push(e),this._then(s,void 0,void 0,t,void 0)},t.prototype.get=function(e){var t;if("number"==typeof e)t=c;else if(i){var r=n(e);t=null!==r?r:a}else t=a;return this._then(t,void 0,void 0,e,void 0)}}},{"./util":36}],6:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var o=e("./util"),s=o.tryCatch,a=o.errorObj,c=t._async;t.prototype.break=t.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=n}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),c.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){if(o.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(void 0!==e)if("function"==typeof e){if(!t){var r=s(e).call(this._boundValue());r===a&&(this._attachExtraTrace(r.e),c.throwLater(r.e))}}else e._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),c.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,n){"use strict";t.exports=function(t){var n=e("./util"),r=e("./es5").keys,i=n.tryCatch,o=n.errorObj;return function(e,s,a){return function(c){var l=a._boundValue();e:for(var u=0;u<e.length;++u){var f=e[u];if(f===Error||null!=f&&f.prototype instanceof Error){if(c instanceof f)return i(s).call(l,c)}else if("function"==typeof f){var h=i(f).call(l,c);if(h===o)return h;if(h)return i(s).call(l,c)}else if(n.isObject(c)){for(var d=r(f),p=0;p<d.length;++p){var m=d[p];if(f[m]!=c[m])continue e}return i(s).call(l,c)}}return t}}}},{"./es5":13,"./util":36}],8:[function(e,t,n){"use strict";t.exports=function(e){var t=!1,n=[];function r(){this._trace=new r.CapturedTrace(i())}function i(){var e=n.length-1;if(e>=0)return n[e]}return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},r.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,n.push(this._trace))},r.prototype._popContext=function(){if(void 0!==this._trace){var e=n.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},r.CapturedTrace=null,r.create=function(){if(t)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var n=e.prototype._pushContext,o=e.prototype._popContext,s=e._peekContext,a=e.prototype._peekContext,c=e.prototype._promiseCreated;r.deactivateLongStackTraces=function(){e.prototype._pushContext=n,e.prototype._popContext=o,e._peekContext=s,e.prototype._peekContext=a,e.prototype._promiseCreated=c,t=!1},t=!0,e.prototype._pushContext=r.prototype._pushContext,e.prototype._popContext=r.prototype._popContext,e._peekContext=e.prototype._peekContext=i,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},r}},{}],9:[function(t,n,r){"use strict";n.exports=function(n,r){var i,o,s,a=n._getDomain,c=n._async,l=t("./errors").Warning,u=t("./util"),f=u.canAttachTrace,h=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,d=/\((?:timers\.js):\d+:\d+\)/,p=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,m=null,g=null,v=!1,b=!(0==u.env("BLUEBIRD_DEBUG")),y=!(0==u.env("BLUEBIRD_WARNINGS")||!b&&!u.env("BLUEBIRD_WARNINGS")),_=!(0==u.env("BLUEBIRD_LONG_STACK_TRACES")||!b&&!u.env("BLUEBIRD_LONG_STACK_TRACES")),w=0!=u.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(y||!!u.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},n.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var e=this;setTimeout(function(){e._notifyUnhandledRejection()},1)}},n.prototype._notifyUnhandledRejectionIsHandled=function(){U("rejectionHandled",i,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),U("unhandledRejection",o,e,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(e,t,n){return F(e,t,n||this)},n.onPossiblyUnhandledRejection=function(e){var t=a();o="function"==typeof e?null===t?e:u.domainBind(t,e):void 0},n.onUnhandledRejectionHandled=function(e){var t=a();i="function"==typeof e?null===t?e:u.domainBind(t,e):void 0};var k=function(){};n.longStackTraces=function(){if(c.haveItemsQueued()&&!J.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!J.longStackTraces&&W()){var e=n.prototype._captureStackTrace,t=n.prototype._attachExtraTrace;J.longStackTraces=!0,k=function(){if(c.haveItemsQueued()&&!J.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=e,n.prototype._attachExtraTrace=t,r.deactivateLongStackTraces(),c.enableTrampoline(),J.longStackTraces=!1},n.prototype._captureStackTrace=R,n.prototype._attachExtraTrace=L,r.activateLongStackTraces(),c.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return J.longStackTraces&&W()};var x=function(){try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return u.global.dispatchEvent(e),function(e,t){var n=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:!0});return!u.global.dispatchEvent(n)}}if("function"==typeof Event){e=new Event("CustomEvent");return u.global.dispatchEvent(e),function(e,t){var n=new Event(e.toLowerCase(),{cancelable:!0});return n.detail=t,!u.global.dispatchEvent(n)}}return(e=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),u.global.dispatchEvent(e),function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e.toLowerCase(),!1,!0,t),!u.global.dispatchEvent(n)}}catch(e){}return function(){return!1}}(),S=u.isNode?function(){return e.emit.apply(e,arguments)}:u.global?function(e){var t="on"+e.toLowerCase(),n=u.global[t];return!!n&&(n.apply(u.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function C(e,t){return{promise:t}}var A={promiseCreated:C,promiseFulfilled:C,promiseRejected:C,promiseResolved:C,promiseCancelled:C,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:C},E=function(e){var t=!1;try{t=S.apply(null,arguments)}catch(e){c.throwLater(e),t=!0}var n=!1;try{n=x(e,A[e].apply(null,arguments))}catch(e){c.throwLater(e),n=!0}return n||t};function T(){return!1}function I(e,t,n){var r=this;try{e(t,n,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+u.toString(e));r._attachCancellationCallback(e)})}catch(e){return e}}function D(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?u.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function M(){return this._onCancelField}function O(e){this._onCancelField=e}function P(){this._cancellationParent=void 0,this._onCancelField=void 0}function j(e,t){if(0!=(1&t)){this._cancellationParent=e;var n=e._branchesRemainingToCancel;void 0===n&&(n=0),e._branchesRemainingToCancel=n+1}0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}n.config=function(e){if("longStackTraces"in(e=Object(e))&&(e.longStackTraces?n.longStackTraces():!e.longStackTraces&&n.hasLongStackTraces()&&k()),"warnings"in e){var t=e.warnings;J.warnings=!!t,w=J.warnings,u.isObject(t)&&"wForgottenReturn"in t&&(w=!!t.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!J.cancellation){if(c.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=P,n.prototype._propagateFrom=j,n.prototype._onCancel=M,n.prototype._setOnCancel=O,n.prototype._attachCancellationCallback=D,n.prototype._execute=I,N=j,J.cancellation=!0}return"monitoring"in e&&(e.monitoring&&!J.monitoring?(J.monitoring=!0,n.prototype._fireEvent=E):!e.monitoring&&J.monitoring&&(J.monitoring=!1,n.prototype._fireEvent=T)),n},n.prototype._fireEvent=T,n.prototype._execute=function(e,t,n){try{e(t,n)}catch(e){return e}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(e){},n.prototype._attachCancellationCallback=function(e){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(e,t){};var N=function(e,t){0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)};function B(){var e=this._boundTo;return void 0!==e&&e instanceof n?e.isFulfilled()?e.value():void 0:e}function R(){this._trace=new Y(this._peekContext())}function L(e,t){if(f(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var r=z(e);u.notEnumerableProp(e,"stack",r.message+"\n"+r.stack.join("\n")),u.notEnumerableProp(e,"__stackCleaned__",!0)}}}function F(e,t,r){if(J.warnings){var i,o=new l(e);if(t)r._attachExtraTrace(o);else if(J.longStackTraces&&(i=n._peekContext()))i.attachExtraTrace(o);else{var s=z(o);o.stack=s.message+"\n"+s.stack.join("\n")}E("warning",o)||q(o,"",!0)}}function H(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],i="    (No stack trace)"===r||m.test(r),o=i&&V(r);i&&!o&&(v&&" "!==r.charAt(0)&&(r="    "+r),t.push(r))}return t}function z(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?function(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var r=t[n];if("    (No stack trace)"===r||m.test(r))break}return n>0&&"SyntaxError"!=e.name&&(t=t.slice(n)),t}(e):["    (No stack trace)"],{message:n,stack:"SyntaxError"==e.name?t:H(t)}}function q(e,t,n){if("undefined"!=typeof console){var r;if(u.isObject(e)){var i=e.stack;r=t+g(i,e)}else r=t+String(e);"function"==typeof s?s(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function U(e,t,n,r){var i=!1;try{"function"==typeof t&&(i=!0,"rejectionHandled"===e?t(r):t(n,r))}catch(e){c.throwLater(e)}"unhandledRejection"===e?E(e,n,r)||i||q(n,"Unhandled rejection "):E(e,r)}function $(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e&&"function"==typeof e.toString?e.toString():u.toString(e);if(/\[object [a-zA-Z0-9$_]+\]/.test(t))try{t=JSON.stringify(e)}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+function(e){if(e.length<41)return e;return e.substr(0,38)+"..."}(t)+">, no stack trace)"}function W(){return"function"==typeof X}var V=function(){return!1},K=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function G(e){var t=e.match(K);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function Y(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);X(this,Y),t>32&&this.uncycle()}u.inherits(Y,Error),r.CapturedTrace=Y,Y.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],n={},r=0,i=this;void 0!==i;++r)t.push(i),i=i._parent;for(r=(e=this._length=r)-1;r>=0;--r){var o=t[r].stack;void 0===n[o]&&(n[o]=r)}for(r=0;r<e;++r){var s=n[t[r].stack];if(void 0!==s&&s!==r){s>0&&(t[s-1]._parent=void 0,t[s-1]._length=1),t[r]._parent=void 0,t[r]._length=1;var a=r>0?t[r-1]:this;s<e-1?(a._parent=t[s+1],a._parent.uncycle(),a._length=a._parent._length+1):(a._parent=void 0,a._length=1);for(var c=a._length+1,l=r-2;l>=0;--l)t[l]._length=c,c++;return}}}},Y.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=z(e),n=t.message,r=[t.stack],i=this;void 0!==i;)r.push(H(i.stack.split("\n"))),i=i._parent;!function(e){for(var t=e[0],n=1;n<e.length;++n){for(var r=e[n],i=t.length-1,o=t[i],s=-1,a=r.length-1;a>=0;--a)if(r[a]===o){s=a;break}for(a=s;a>=0;--a){var c=r[a];if(t[i]!==c)break;t.pop(),i--}t=r}}(r),function(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}(r),u.notEnumerableProp(e,"stack",function(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}(n,r)),u.notEnumerableProp(e,"__stackCleaned__",!0)}};var X=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():$(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,m=e,g=t;var n=Error.captureStackTrace;return V=function(e){return h.test(e)},function(e,t){Error.stackTraceLimit+=6,n(e,t),Error.stackTraceLimit-=6}}var r,i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return m=/@/,g=t,v=!0,function(e){e.stack=(new Error).stack};try{throw new Error}catch(e){r="stack"in e}return"stack"in i||!r||"number"!=typeof Error.stackTraceLimit?(g=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?$(t):t.toString()},null):(m=e,g=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(s=function(e){console.warn(e)},u.isNode&&e.stderr.isTTY?s=function(e,t){var n=t?ole.warn(n+e+".colors[n][0]+"m"+e+".colors[n][1]+"m":e}function l(e,t){return e}function u(e,t,r){if(e.customInspect&&t&&x(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return v(i)||(i=u(e,i,r)),i}var o=function(e,t){if(b(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(g(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,t);if(o)return o;var s=Object.keys(t),a=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),k(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(t);if(0===s.length){if(x(t)){var c=t.name?": "+t.name:"";return e.stylize("[Function"+c+"]","special")}if(y(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(w(t))return e.stylize(Date.prototype.toString.call(t),"date");if(k(t))return f(t)}var l,_="",S=!1,C=["{","}"];(d(t)&&(S=!0,C=["[","]"]),x(t))&&(_=" [Function"+(t.name?": "+t.name:"")+"]");return y(t)&&(_=" "+RegExp.prototype.toString.call(t)),w(t)&&(_=" "+Date.prototype.toUTCString.call(t)),k(t)&&(_=" "+f(t)),0!==s.length||S&&0!=t.length?r<0?y(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),l=S?function(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)E(t,String(s))?o.push(h(e,t,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(e,t,n,r,i,!0))}),o}(e,t,r,a,s):s.map(function(n){return h(e,t,r,a,n,S)}),e.seen.pop(),function(e,t,n){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(l,_,C)):C[0]+_+C[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,i,o){var s,a,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),E(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(c.value)<0?(a=m(n)?u(e,c.value,null):u(e,c.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),b(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function d(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return"number"==typeof e}function v(e){return"string"==typeof e}function b(e){return void 0===e}function y(e){return _(e)&&"[object RegExp]"===S(e)}function _(e){return"object"==typeof e&&null!==e}function w(e){return _(e)&&"[object Date]"===S(e)}function k(e){return _(e)&&("[object Error]"===S(e)||e instanceof Error)}function x(e){return"function"==typeof e}function S(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}n.debuglog=function(e){if(b(o)&&(o=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!s[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var r=t.pid;s[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else s[e]=function(){};return s[e]},n.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=d,n.isBoolean=p,n.isNull=m,n.isNullOrUndefined=function(e){return null==e},n.isNumber=g,n.isString=v,n.isSymbol=function(e){return"symbol"==typeof e},n.isUndefined=b,n.isRegExp=y,n.isObject=_,n.isDate=w,n.isError=k,n.isFunction=x,n.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},n.isBuffer=e("./support/isBuffer");var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.log=function(){var e,t;console.log("%s - %s",(e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":"),[e.getDate(),A[e.getMonth()],t].join(" ")),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":472,_process:102,inherits:471}],474:[function(e,t,n){(function(e){var n,r=e.crypto||e.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);n=function(){return r.getRandomValues(i),i}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],475:[function(e,t,n){for(var r=e("./lib/rng"),i=[],o={},s=0;s<256;++s)i[s]=(s+256).toString(16).substr(1),o[i[s]]=s;function a(e,t){var n=t||0,r=i;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}var c=r(),l=[1|c[0],c[1],c[2],c[3],c[4],c[5]],u=16383&(c[6]<<8|c[7]),f=0,h=0;function d(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[i+s]=o[s];return t||a(o)}var p=d;p.v1=function(e,t,n){var r=t&&n||0,i=t||[],o=void 0!==(e=e||{}).clockseq?e.clockseq:u,s=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:h+1,d=s-f+(c-h)/1e4;if(d<0&&void 0===e.clockseq&&(o=o+1&16383),(d<0||s>f)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=s,h=c,u=o;var p=(1e4*(268435455&(s+=122192928e5))+c)%4294967296;i[r++]=p>>>24&255,i[r++]=p>>>16&255,i[r++]=p>>>8&255,i[r++]=255&p;var m=s/4294967296*1e4&268435455;i[r++]=m>>>8&255,i[r++]=255&m,i[r++]=m>>>24&15|16,i[r++]=m>>>16&255,i[r++]=o>>>8|128,i[r++]=255&o;for(var g=e.node||l,v=0;v<6;++v)i[r+v]=g[v];return t||a(i)},p.v4=d,t.exports=p},{"./lib/rng":474}],476:[function(e,t,n){!function(e){"use strict";var n=-1,r={onVisible:function(e){var t=r.isSupported();if(!t||!r.hidden())return e(),t;var n=r.change(function(t,i){r.hidden()||(r.unbind(n),e())});return n},change:function(e){if(!r.isSupported())return!1;var t=n+=1;return r._callbacks[t]=e,r._listen(),t},unbind:function(e){delete r._callbacks[e]},afterPrerendering:function(e){var t=r.isSupported();if(!t||"prerender"!=r.state())return e(),t;var n=r.change(function(t,i){"prerender"!=i&&(r.unbind(n),e())});return n},hidden:function(){return!(!r._doc.hidden&&!r._doc.webkitHidden)},state:function(){return r._doc.visibilityState||r._doc.webkitVisibilityState||"visible"},isSupported:function(){return!(!r._doc.visibilityState&&!r._doc.webkitVisibilityState)},_doc:document||{},_callbacks:{},_change:function(e){var t=r.state();for(var n in r._callbacks)r._callbacks[n].call(r._doc,e,t)},_listen:function(){if(!r._init){var e="visibilitychange";r._doc.webkitVisibilityState&&(e="webkit"+e);var t=function(){r._change.apply(r,arguments)};r._doc.addEventListener?r._doc.addEventListener(e,t):r._doc.attachEvent(e,t),r._init=!0}}};void 0!==t&&t.exports?t.exports=r:e.Visibility=r}(this)},{}],477:[function(require,module,exports){var indexOf=require("indexof"),Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow,r=n.eval,i=n.execScript;!r&&i&&(i.call(n,"null"),r=n.eval),forEach(Object_keys(e),function(t){n[t]=e[t]}),forEach(globals,function(t){e[t]&&(n[t]=e[t])});var o=Object_keys(n),s=r.call(n,this.code);return forEach(Object_keys(n),function(t){(t in e||-1===indexOf(o,t))&&(e[t]=n[t])}),forEach(globals,function(t){t in e||defineProp(e,t,n[t])}),document.body.removeChild(t),s},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),n=this.runInContext(t);return forEach(Object_keys(t),function(n){e[n]=t[n]}),n},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var n=Script(t);return n[e].apply(n,[].slice.call(arguments,1))}}),exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(n){t[n]=e[n]}),t}},{indexof:322}],478:[function(e,t,n){const r=e("events").EventEmitter,i=e("util").inherits,o=e("ethereumjs-util"),s=e("eth-block-tracker"),a=e("async/map"),c=e("async/eachSeries"),l=e("./util/stoplight.js");e("./util/rpc-cache-utils.js"),e("./util/create-payload.js");function u(e){const t=this;r.call(t),t.setMaxListeners(30),e=e||{};const n={sendAsync:t._handleAsync.bind(t)},i=e.blockTrackerProvider||n;var a;t._blockTracker=e.blockTracker||new s({provider:i,pollingInterval:e.pollingInterval||4e3}),t._blockTracker.on("block",e=>{const n=(e=e,{number:o.toBuffer(e.number),hash:o.toBuffer(e.hash),parentHash:o.toBuffer(e.parentHash),nonce:o.toBuffer(e.nonce),sha3Uncles:o.toBuffer(e.sha3Uncles),logsBloom:o.toBuffer(e.logsBloom),transactionsRoot:o.toBuffer(e.transactionsRoot),stateRoot:o.toBuffer(e.stateRoot),receiptsRoot:o.toBuffer(e.receiptRoot||e.receiptsRoot),miner:o.toBuffer(e.miner),difficulty:o.toBuffer(e.difficulty),totalDifficulty:o.toBuffer(e.totalDifficulty),size:o.toBuffer(e.size),extraData:o.toBuffer(e.extraData),gasLimit:o.toBuffer(e.gasLimit),gasUsed:o.toBuffer(e.gasUsed),timestamp:o.toBuffer(e.timestamp),transactions:e.transactions});t._setCurrentBlock(n)}),t._blockTracker.on("block",t.emit.bind(t,"rawBlock")),t._blockTracker.on("sync",t.emit.bind(t,"sync")),t._blockTracker.on("latest",t.emit.bind(t,"latest")),t._ready=new l,t._blockTracker.once("block",()=>{t._ready.go()}),t.currentBlock=null,t._providers=[]}t.exports=u,i(u,r),u.prototype.start=function(){this._blockTracker.start()},u.prototype.stop=function(){this._blockTracker.stop()},u.prototype.addProvider=function(e){this._providers.push(e),e.setEngine(this)},u.prototype.send=function(e){throw new Error("Web3ProviderEngine does not support synchronous requests.")},u.prototype.sendAsync=function(e,t){const n=this;n._ready.await(function(){Array.isArray(e)?a(e,n._handleAsync.bind(n),t):n._handleAsync(e,t)})},u.prototype._handleAsync=function(e,t){var n=this,r=-1,i=null,o=null,s=[];function a(n,r){o=n,i=r,c(s,function(e,t){e?e(o,i,t):t()},function(){var n={id:e.id,jsonrpc:e.jsonrpc,result:i};null!=o?(n.error={message:o.stack||o.message||o,code:-32e3},t(o,n)):t(null,n)})}!function t(i){r+=1;s.unshift(i);if(r>=n._providers.length)a(new Error('Request for method "'+e.method+'" not handled by any subprovider. Please check your subprovider configuration to ensure this method is handled.'));else try{var o=n._providers[r];o.handleRequest(e,t,a)}catch(e){a(e)}}()},u.prototype._setCurrentBlock=function(e){this.currentBlock=e,this.emit("block",e)}},{"./util/create-payload.js":491,"./util/rpc-cache-utils.js":494,"./util/stoplight.js":495,"async/eachSeries":28,"async/map":44,"eth-block-tracker":288,"ethereumjs-util":298,events:300,util:473}],479:[function(e,t,n){t.exports={_from:"web3-provider-engine@^13.6.5",_id:"web3-provider-engine@13.8.0",_inBundle:!1,_integrity:"sha1-THwa0q9fH+EDQ7imVJWHmi+cAN8=",_location:"/web3-provider-engine",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"web3-provider-engine@^13.6.5",name:"web3-provider-engine",escapedName:"web3-provider-engine",rawSpec:"^13.6.5",saveSpec:null,fetchSpec:"^13.6.5"},_requiredBy:["/"],_resolved:"http://registry.npm.taobao.org/web3-provider-engine/download/web3-provider-engine-13.8.0.tgz",_shasum:"4c7c1ad2af5f1fe10343b8a65495879a2f9c00df",_spec:"web3-provider-engine@^13.6.5",_where:"/var/lib/jenkins/workspace/ETHERC-Frontend",author:"",browser:{request:!1},bugs:{url:"https://github.com/MetaMask/provider-engine/issues"},bundleDependencies:!1,dependencies:{async:"^2.5.0",clone:"^2.0.0","eth-block-tracker":"^2.2.2","eth-sig-util":"^1.4.2","ethereumjs-block":"^1.2.2","ethereumjs-tx":"^1.2.0","ethereumjs-util":"^5.1.1","ethereumjs-vm":"^2.0.2","fetch-ponyfill":"^4.0.0","json-rpc-error":"^2.0.0","json-stable-stringify":"^1.0.1","promise-to-callback":"^1.0.0","readable-stream":"^2.2.9",request:"^2.67.0",semaphore:"^1.0.3",solc:"^0.4.2",tape:"^4.4.0",xhr:"^2.2.0",xtend:"^4.0.1"},deprecated:!1,description:"[![Greenkeeper badge](https://badges.greenkeeper.io/MetaMask/provider-engine.svg)](https://greenkeeper.io/)",devDependencies:{"babel-preset-es2015":"^6.24.1","babel-preset-stage-0":"^6.24.1",browserify:"^14.0.0"},homepage:"https://github.com/MetaMask/provider-engine#readme",license:"ISC",main:"index.js",name:"web3-provider-engine",repository:{type:"git",url:"git+https://github.com/MetaMask/provider-engine.git"},scripts:{bundle:"mkdir -p ./dist && npm run bundle-engine && npm run bundle-zero","bundle-engine":"browserify -s ProviderEngine -e index.js > dist/ProviderEngine.js","bundle-zero":"browserify -s ZeroClientProvider -e zero.js > dist/ZeroClientProvider.js",test:"node test/index.js"},version:"13.8.0"}},{}],480:[function(e,t,n){const r=e("util").inherits,i=e("ethereumjs-util"),o=i.BN,s=e("clone"),a=e("../util/rpc-cache-utils.js"),c=e("../util/stoplight.js"),l=e("./subprovider.js");function u(e){e=e||{},this._ready=new c,this.strategies={perma:new h({eth_getTransactionByHash:p,eth_getTransactionReceipt:p}),block:new d(this),fork:new d(this)}}function f(){var e=this;e.cache={};var t=setInterval(function(){e.cache={}},6e5);t.unref&&t.unref()}function h(e){this.strategy=new f,this.conditionals=e}function d(){this.cache={}}function p(e){if(!e)return!1;if(!e.blockHash)return!1;var t;return(t=e.blockHash,new o(i.toBuffer(t))).gt(new o(0))}t.exports=u,r(u,l),u.prototype.setEngine=function(e){const t=this;function n(e){var n=t.currentBlock;t.currentBlock=e,n&&(t.strategies.block.cacheRollOff(n),t.strategies.fork.cacheRollOff(n))}t.engine=e,e.once("block",function(r){t.currentBlock=r,t._ready.go(),e.on("block",n)})},u.prototype.handleRequest=function(e,t,n){const r=this;return e.skipCache?t():"eth_getBlockByNumber"===e.method&&"latest"===e.params[0]?t():void r._ready.await(function(){r._handleRequest(e,t,n)})},u.prototype._handleRequest=function(e,t,n){const r=this;var o=a.cacheTypeForPayload(e),s=this.strategies[o];if(!s)return t();if(!s.canCache(e))return t();var c,l=a.blockTagForPayload(e);l||(l="latest"),c="earliest"===l?"0x00":"latest"===l?i.bufferToHex(r.currentBlock.number):l,s.hitCheck(e,c,n,function(){t(function(t,n,r){if(t)return r();s.cacheResult(e,n,c,r)})})},f.prototype.hitCheck=function(e,t,n,r){var i,o,c,l,u=a.cacheIdentifierForPayload(e),f=this.cache[u];return f&&(i=t,o=f.blockNumber,c=parseInt(i,16),l=parseInt(o,16),(c===l?0:c>l?1:-1)>=0)?n(null,s(f.result)):r()},f.prototype.cacheResult=function(e,t,n,r){var i=a.cacheIdentifierForPayload(e);if(t){var o=s(t);this.cache[i]={blockNumber:n,result:o}}r()},f.prototype.canCache=function(e){return a.canCache(e)},h.prototype.hitCheck=function(e,t,n,r){return this.strategy.hitCheck(e,t,n,r)},h.prototype.cacheResult=function(e,t,n,r){var i=this.conditionals[e.method];i?i(t)?this.strategy.cacheResult(e,t,n,r):r():this.strategy.cacheResult(e,t,n,r)},h.prototype.canCache=function(e){return this.strategy.canCache(e)},d.prototype.getBlockCacheForPayload=function(e,t){a.blockTagForPayload(e);var n=this.cache[t];return n||(n=this.cache[t]={}),n},d.prototype.hitCheck=function(e,t,n,r){var i=this.getBlockCacheForPayload(e,t);if(!i)return r();var o=i[a.cacheIdentifierForPayload(e)];return o?n(null,o):r()},d.prototype.cacheResult=function(e,t,n,r){t&&(this.getBlockCacheForPayload(e,n)[a.cacheIdentifierForPayload(e)]=t);r()},d.prototype.canCache=function(e){return!!a.canCache(e)&&"pending"!==a.blockTagForPayload(e)},d.prototype.cacheRollOff=function(e){var t=i.bufferToHex(e.number);delete this.cache[t]}},{"../util/rpc-cache-utils.js":494,"../util/stoplight.js":495,"./subprovider.js":490,clone:107,"ethereumjs-util":298,util:473}],481:[function(e,t,n){const r=e("util").inherits,i=e("xtend"),o=e("./fixture.js"),s=e("../package.json").version;function a(e){var t=i({web3_clientVersion:"ProviderEngine/v"+s+"/javascript",net_listening:!0,eth_hashrate:"0x00",eth_mining:!1},e=e||{});o.call(this,t)}t.exports=a,r(a,o)},{"../package.json":479,"./fixture.js":484,util:473,xtend:550}],482:[function(e,t,n){(function(n){const r=n.fetch||e("fetch-ponyfill")().fetch,i=e("util").inherits,o=e("async/retry"),s=e("async/waterfall"),a=e("async/asyncify"),c=e("json-rpc-error"),l=e("promise-to-callback"),u=e("../util/create-payload.js"),f=e("./subprovider.js"),h=["Gateway timeout","ETIMEDOUT","SyntaxError"];function d(e){this.rpcUrl=e.rpcUrl,this.originHttpHeaderKey=e.originHttpHeaderKey}function p(e){const t=e.toString();return h.some(e=>t.includes(e))}t.exports=d,i(d,f),d.prototype.handleRequest=function(e,t,n){const r=this,i=e.origin,s=u(e);delete s.origin;const a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)};r.originHttpHeaderKey&&i&&(a.headers[r.originHttpHeaderKey]=i),o({times:5,interval:1e3,errorFilter:p},e=>r._submitRequest(a,e),(e,t)=>{if(e&&p(e)){const t=`FetchSubprovider - cannot complete request. All retries exhausted.\nOriginal Error:\n${e.toString()}\n\n`,r=new Error(t);return n(r)}return n(e,t)})},d.prototype._submitRequest=function(e,t){const n=this.rpcUrl;l(r(n,e))((e,n)=>{if(e)return t(e);s([function(e){switch(n.status){case 405:return e(new c.MethodNotFound);case 418:return e(function(){const e=new Error("Request is being rate limited.");return new c.InternalError(e)}());case 503:case 504:return e(function(){let e="Gateway timeout. The request took too long to process. ";e+="This can happen when querying logs over too wide a block range.";const t=new Error(e);return new c.InternalError(t)}());default:return e()}},e=>l(n.text())(e),a(e=>JSON.parse(e)),function(e,t){if(200!==n.status)return t(new c.InternalError(e));if(e.error)return t(new c.InternalError(e.error));t(null,e.result)}],t)})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/create-payload.js":491,"./subprovider.js":490,"async/asyncify":23,"async/retry":46,"async/waterfall":47,"fetch-ponyfill":302,"json-rpc-error":330,"promise-to-callback":398,util:473}],483:[function(e,t,n){const r=e("async"),i=e("util").inherits,o=e("ethereumjs-util"),s=e("./subprovider.js"),a=e("../util/stoplight.js"),c=e("events").EventEmitter;function l(e){e=e||{};const t=this;t.filterIndex=0,t.filters={},t.filterDestroyHandlers={},t.asyncBlockHandlers={},t.asyncPendingBlockHandlers={},t._ready=new a,t._ready.go(),t.pendingBlockTimeout=e.pendingBlockTimeout||4e3,t.checkForPendingBlocksActive=!1,setTimeout(function(){t.engine.on("block",function(e){t._ready.stop();var n=v(t.asyncBlockHandlers).map(function(t){return t.bind(null,e)});r.parallel(n,function(e){e&&console.error(e),t._ready.go()})})})}function u(e){c.apply(this),this.type="block",this.engine=e.engine,this.blockNumber=e.blockNumber,this.updates=[]}function f(e){var t;c.apply(this),this.type="log",this.fromBlock=e.fromBlock||"latest",this.toBlock=e.toBlock||"latest",this.address=e.address?"0x"===(t=e.address).slice(0,2)?t:"0x"+t:e.address,this.topics=e.topics||[],this.updates=[],this.allResults=[]}function h(){c.apply(this),this.type="pendingTx",this.updates=[],this.allResults=[]}function d(e){return o.intToHex(e)}function p(e){return Number(e)}function m(e){return function(e){let t=o.stripHexPrefix(e);for(;"0"===t[0];)t=t.substr(1);return`0x${t}`}(e.toString("hex"))}function g(e){return e&&-1===["earliest","latest","pending"].indexOf(e)}function v(e){return Object.keys(e).map(function(t){return e[t]})}t.exports=l,i(l,s),l.prototype.handleRequest=function(e,t,n){const r=this;switch(e.method){case"eth_newBlockFilter":return void r.newBlockFilter(n);case"eth_newPendingTransactionFilter":return r.newPendingTransactionFilter(n),void r.checkForPendingBlocks();case"eth_newFilter":return void r.newLogFilter(e.params[0],n);case"eth_getFilterChanges":return void r._ready.await(function(){r.getFilterChanges(e.params[0],n)});case"eth_getFilterLogs":return void r._ready.await(function(){r.getFilterLogs(e.params[0],n)});case"eth_uninstallFilter":return void r._ready.await(function(){r.uninstallFilter(e.params[0],n)});default:return void t()}},l.prototype.newBlockFilter=function(e){const t=this;t._getBlockNumber(function(n,r){if(n)return e(n);var i=new u({blockNumber:r}),o=i.update.bind(i);t.engine.on("block",o);t.filterIndex++;var s=d(t.filterIndex);t.filters[s]=i,t.filterDestroyHandlers[s]=function(){t.engine.removeListener("block",o)},e(null,s)})},l.prototype.newLogFilter=function(e,t){const n=this;n._getBlockNumber(function(r,i){if(r)return t(r);var o=new f(e),s=o.update.bind(o);n.filterIndex++;var a=d(n.filterIndex);n.asyncBlockHandlers[a]=function(e,t){n._logsForBlock(e,function(e,n){if(e)return t(e);s(n),t()})},n.filters[a]=o,t(null,a)})},l.prototype.newPendingTransactionFilter=function(e){const t=this;var n=new h,r=n.update.bind(n);t.filterIndex++;var i=d(t.filterIndex);t.asyncPendingBlockHandlers[i]=function(e,n){t._txHashesForBlock(e,function(e,t){if(e)return n(e);r(t),n()})},t.filters[i]=n,e(null,i)},l.prototype.getFilterChanges=function(e,t){var n=this.filters[e];if(n||console.warn("FilterSubprovider - no filter with that id:",e),!n)return t(null,[]);var r=n.getChanges();n.clearChanges(),t(null,r)},l.prototype.getFilterLogs=function(e,t){const n=this;var r=n.filters[e];if(r||console.warn("FilterSubprovider - no filter with that id:",e),!r)return t(null,[]);if("log"===r.type)n.emitPayload({method:"eth_getLogs",params:[{fromBlock:r.fromBlock,toBlock:r.toBlock,address:r.address,topics:r.topics}]},function(e,n){if(e)return t(e);t(null,n.result)});else{var i=r.getAllResults();t(null,i)}},l.prototype.uninstallFilter=function(e,t){if(this.filters[e]){this.filters[e].removeAllListeners();var n=this.filterDestroyHandlers[e];delete this.filters[e],delete this.asyncBlockHandlers[e],delete this.asyncPendingBlockHandlers[e],delete this.filterDestroyHandlers[e],n&&n(),t(null,!0)}else t(null,!1)},l.prototype.checkForPendingBlocks=function(){const e=this;e.checkForPendingBlocksActive||!!Object.keys(e.asyncPendingBlockHandlers).length&&(e.checkForPendingBlocksActive=!0,e.emitPayload({method:"eth_getBlockByNumber",params:["pending",!0]},function(t,n){if(t)return e.checkForPendingBlocksActive=!1,void console.error(t);e.onNewPendingBlock(n.result,function(t){t&&console.error(t),e.checkForPendingBlocksActive=!1,setTimeout(e.checkForPendingBlocks.bind(e),e.pendingBlockTimeout)})}))},l.prototype.onNewPendingBlock=function(e,t){var n=v(this.asyncPendingBlockHandlers).map(function(t){return t.bind(null,e)});r.parallel(n,t)},l.prototype._getBlockNumber=function(e){e(null,m(this.engine.currentBlock.number))},l.prototype._logsForBlock=function(e,t){var n=m(e.number);this.emitPayload({method:"eth_getLogs",params:[{fromBlock:n,toBlock:n}]},function(e,n){return e?t(e):n.error?t(n.error):void t(null,n.result)})},l.prototype._txHashesForBlock=function(e,t){var n=e.transactions;if(0===n.length)return t(null,[]);"string"==typeof n[0]?t(null,n):t(null,n.map(e=>e.hash))},i(u,c),u.prototype.update=function(e){var t="0x"+e.hash.toString("hex");this.updates.push(t),this.emit("data",e)},u.prototype.getChanges=function(){return this.updates},u.prototype.clearChanges=function(){this.updates=[]},i(f,c),f.prototype.validateLog=function(e){return!(g(this.fromBlock)&&p(this.fromBlock)>=p(e.blockNumber))&&(!(g(this.toBlock)&&p(this.toBlock)<=p(e.blockNumber))&&((!this.address||this.address===e.address)&&this.topics.reduce(function(t,n,r){if(!t)return!1;if(!n)return!0;var i=e.topics[r];return!!i&&(Array.isArray(n)?n:[n]).filter(function(e){return i===e}).length>0},!0)))},f.prototype.update=function(e){const t=this;var n=[];e.forEach(function(e){t.validateLog(e)&&(n.push(e),t.updates.push(e),t.allResults.push(e))}),n.length>0&&t.emit("data",n)},f.prototype.getChanges=function(){return this.updates},f.prototype.getAllResults=function(){return this.allResults},f.prototype.clearChanges=function(){this.updates=[]},i(h,c),h.prototype.validateUnique=function(e){return-1===this.allResults.indexOf(e)},h.prototype.update=function(e){const t=this;var n=[];e.forEach(function(e){t.validateUnique(e)&&(n.push(e),t.updates.push(e),t.allResults.push(e))}),n.length>0&&t.emit("data",n)},h.prototype.getChanges=function(){return this.updates},h.prototype.getAllResults=function(){return this.allResults},h.prototype.clearChanges=function(){this.updates=[]}},{"../util/stoplight.js":495,"./subprovider.js":490,async:24,"ethereumjs-util":298,events:300,util:473}],484:[function(e,t,n){const r=e("util").inherits,i=e("./subprovider.js");function o(e){e=e||{},this.staticResponses=e}t.exports=o,r(o,i),o.prototype.handleRequest=function(e,t,n){var r=this.staticResponses[e.method];"function"==typeof r?r(e,t,n):void 0!==r?setTimeout(()=>n(null,r)):t()}},{"./subprovider.js":490,util:473}],485:[function(e,t,n){const r=e("async/waterfall"),i=e("async/parallel"),o=e("util").inherits,s=e("ethereumjs-util"),a=e("eth-sig-util"),c=e("xtend"),l=e("semaphore"),u=e("./subprovider.js"),f=e("../util/estimate-gas.js"),h=/^[0-9A-Fa-f]+$/g;function d(e){if(this.nonceLock=l(1),!e.getAccounts)throw new Error('ProviderEngine - HookedWalletSubprovider - did not provide "getAccounts" fn in constructor options');this.getAccounts=e.getAccounts,e.processTransaction&&(this.processTransaction=e.processTransaction),e.processMessage&&(this.processMessage=e.processMessage),e.processPersonalMessage&&(this.processPersonalMessage=e.processPersonalMessage),e.processTypedMessage&&(this.processTypedMessage=e.processTypedMessage),this.approveTransaction=e.approveTransaction||this.autoApprove,this.approveMessage=e.approveMessage||this.autoApprove,this.approvePersonalMessage=e.approvePersonalMessage||this.autoApprove,this.approveTypedMessage=e.approveTypedMessage||this.autoApprove,e.signTransaction&&(this.signTransaction=e.signTransaction),e.signMessage&&(this.signMessage=e.signMessage),e.signPersonalMessage&&(this.signPersonalMessage=e.signPersonalMessage),e.signTypedMessage&&(this.signTypedMessage=e.signTypedMessage),e.recoverPersonalSignature&&(this.recoverPersonalSignature=e.recoverPersonalSignature),e.publishTransaction&&(this.publishTransaction=e.publishTransaction)}function p(e){return e.toLowerCase()}function m(e){return"string"==typeof e&&("0x"===e.slice(0,2)&&e.slice(2).match(h))}t.exports=d,o(d,u),d.prototype.handleRequest=function(e,t,n){const i=this;switch(e.method){case"eth_coinbase":return void i.getAccounts(function(e,t){if(e)return n(e);var r=t[0]||null;n(null,r)});case"eth_accounts":return void i.getAccounts(function(e,t){if(e)return n(e);n(null,t)});case"eth_sendTransaction":var o=e.params[0];return void r([e=>i.validateTransaction(o,e),e=>i.processTransaction(o,e)],n);case"eth_signTransaction":o=e.params[0];return void r([e=>i.validateTransaction(o,e),e=>i.processSignTransaction(o,e)],n);case"eth_sign":var a=e.params[0],l=e.params[1],u=e.params[2]||{},f=c(u,{from:a,data:l});return void r([e=>i.validateMessage(f,e),e=>i.processMessage(f,e)],n);case"personal_sign":const d=e.params[0];if(function(e){const t=s.addHexPrefix(e);return!s.isValidAddress(t)&&m(e)}(e.params[1])&&function(e){const t=s.addHexPrefix(e);return s.isValidAddress(t)}(d)){let t="The eth_personalSign method requires params ordered ";t+="[message, address]. This was previously handled incorrectly, ",t+="and has been corrected automatically. ",t+="Please switch this param order for smooth behavior in the future.",console.warn(t),a=e.params[0],l=e.params[1]}else l=e.params[0],a=e.params[1];u=e.params[2]||{},f=c(u,{from:a,data:l});return void r([e=>i.validatePersonalMessage(f,e),e=>i.processPersonalMessage(f,e)],n);case"personal_ecRecover":l=e.params[0];var h=e.params[1];u=e.params[2]||{},f=c(u,{sig:h,data:l});return void i.recoverPersonalSignature(f,n);case"eth_signTypedData":l=e.params[0],a=e.params[1];u=e.params[2]||{},f=c(u,{from:a,data:l});return void r([e=>i.validateTypedMessage(f,e),e=>i.processTypedMessage(f,e)],n);default:return void t()}},d.prototype.processTransaction=function(e,t){const n=this;r([t=>n.approveTransaction(e,t),(e,t)=>n.checkApproval("transaction",e,t),t=>n.finalizeAndSubmitTx(e,t)],t)},d.prototype.processSignTransaction=function(e,t){const n=this;r([t=>n.approveTransaction(e,t),(e,t)=>n.checkApproval("transaction",e,t),t=>n.finalizeTx(e,t)],t)},d.prototype.processMessage=function(e,t){const n=this;r([t=>n.approveMessage(e,t),(e,t)=>n.checkApproval("message",e,t),t=>n.signMessage(e,t)],t)},d.prototype.processPersonalMessage=function(e,t){const n=this;r([t=>n.approvePersonalMessage(e,t),(e,t)=>n.checkApproval("message",e,t),t=>n.signPersonalMessage(e,t)],t)},d.prototype.processTypedMessage=function(e,t){const n=this;r([t=>n.approveTypedMessage(e,t),(e,t)=>n.checkApproval("message",e,t),t=>n.signTypedMessage(e,t)],t)},d.prototype.autoApprove=function(e,t){t(null,!0)},d.prototype.checkApproval=function(e,t,n){n(t?null:new Error("User denied "+e+" signature."))},d.prototype.signTransaction=function(e,t){t(new Error('ProviderEngine - HookedWalletSubprovider - Must provide "signTransaction" fn in constructor options'))},d.prototype.signMessage=function(e,t){t(new Error('ProviderEngine - HookedWalletSubprovider - Must provide "signMessage" fn in constructor options'))},d.prototype.signPersonalMessage=function(e,t){t(new Error('ProviderEngine - HookedWalletSubprovider - Must provide "signPersonalMessage" fn in constructor options'))},d.prototype.signTypedMessage=function(e,t){t(new Error('ProviderEngine - HookedWalletSubprovider - Must provide "signTypedMessage" fn in constructor options'))},d.prototype.recoverPersonalSignature=function(e,t){let n;try{n=a.recoverPersonalSignature(e)}catch(e){return t(e)}t(null,n)},d.prototype.validateTransaction=function(e,t){if(void 0===e.from)return t(new Error("Undefined address - from address required to sign transaction."));this.validateSender(e.from,function(n,r){return n?t(n):r?void t():t(new Error(`Unknown address - unable to sign transaction for this address: "${e.from}"`))})},d.prototype.validateMessage=function(e,t){if(void 0===e.from)return t(new Error("Undefined address - from address required to sign message."));this.validateSender(e.from,function(n,r){return n?t(n):r?void t():t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`))})},d.prototype.validatePersonalMessage=function(e,t){return void 0===e.from?t(new Error("Undefined address - from address required to sign personal message.")):void 0===e.data?t(new Error("Undefined message - message required to sign personal message.")):m(e.data)?void this.validateSender(e.from,function(n,r){return n?t(n):r?void t():t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`))}):t(new Error("HookedWalletSubprovider - validateMessage - message was not encoded as hex."))},d.prototype.validateTypedMessage=function(e,t){return void 0===e.from?t(new Error("Undefined address - from address required to sign typed data.")):void 0===e.data?t(new Error("Undefined data - message required to sign typed data.")):void this.validateSender(e.from,function(n,r){return n?t(n):r?void t():t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`))})},d.prototype.validateSender=function(e,t){if(!e)return t(null,!1);this.getAccounts(function(n,r){if(n)return t(n);var i=-1!==r.map(p).indexOf(e.toLowerCase());t(null,i)})},d.prototype.finalizeAndSubmitTx=function(e,t){const n=this;n.nonceLock.take(function(){r([n.fillInTxExtras.bind(n,e),n.signTransaction.bind(n),n.publishTransaction.bind(n)],function(e,r){if(n.nonceLock.leave(),e)return t(e);t(null,r)})})},d.prototype.finalizeTx=function(e,t){const n=this;n.nonceLock.take(function(){r([n.fillInTxExtras.bind(n,e),n.signTransaction.bind(n)],function(r,i){if(n.nonceLock.leave(),r)return t(r);t(null,{raw:i,tx:e})})})},d.prototype.publishTransaction=function(e,t){this.emitPayload({method:"eth_sendRawTransaction",params:[e]},function(e,n){if(e)return t(e);t(null,n.result)})},d.prototype.fillInTxExtras=function(e,t){const n=this;var r=e.from,o={};void 0===e.gasPrice&&(o.gasPrice=n.emitPayload.bind(n,{method:"eth_gasPrice",params:[]})),void 0===e.nonce&&(o.nonce=n.emitPayload.bind(n,{method:"eth_getTransactionCount",params:[r,"pending"]})),void 0===e.gas&&(o.gas=f.bind(null,n.engine,function(e){return{from:e.from,to:e.to,value:e.value,data:e.data,gas:e.gas,gasPrice:e.gasPrice,nonce:e.nonce}}(e))),i(o,function(n,r){if(n)return t(n);var i={};r.gasPrice&&(i.gasPrice=r.gasPrice.result),r.nonce&&(i.nonce=r.nonce.result),r.gas&&(i.gas=r.gas),t(null,c(i,e))})}},{"../util/estimate-gas.js":492,"./subprovider.js":490,"async/parallel":45,"async/waterfall":47,"eth-sig-util":290,"ethereumjs-util":298,semaphore:433,util:473,xtend:550}],486:[function(e,t,n){const r=e("../util/rpc-cache-utils.js").cacheIdentifierForPayload,i=e("./subprovider.js");t.exports=class extends i{constructor(e){super(),this.inflightRequests={}}addEngine(e){this.engine=e}handleRequest(e,t,n){const i=r(e,{includeBlockRef:!0});if(!i)return t();let o=this.inflightRequests[i];o?o.push(n):(o=[],this.inflightRequests[i]=o,t((e,t,n)=>{delete this.inflightRequests[i],o.forEach(n=>n(e,t)),n(e,t)}))}}},{"../util/rpc-cache-utils.js":494,"./subprovider.js":490}],487:[function(e,t,n){(function(n){const r=e("util").inherits,i=e("ethereumjs-tx"),o=e("ethereumjs-util"),s=e("./subprovider.js"),a=e("../util/rpc-cache-utils").blockTagForPayload;function c(e){this.nonceCache={}}t.exports=c,r(c,s),c.prototype.handleRequest=function(e,t,r){const s=this;switch(e.method){case"eth_getTransactionCount":var c=a(e),l=e.params[0].toLowerCase(),u=s.nonceCache[l];return void("pending"===c?u?r(null,u):t(function(e,t,n){if(e)return n();void 0===s.nonceCache[l]&&(s.nonceCache[l]=t),n()}):t());case"eth_sendRawTransaction":return void t(function(t,r,a){if(t)return a();var c=e.params[0],l=(o.stripHexPrefix(c),new n(o.stripHexPrefix(c),"hex"),new i(new n(o.stripHexPrefix(c),"hex"))),u="0x"+l.getSenderAddress().toString("hex").toLowerCase(),f=o.bufferToInt(l.nonce),h=(++f).toString(16);h.length%2&&(h="0"+h),h="0x"+h,s.nonceCache[u]=h,a()});default:return void t()}}}).call(this,e("buffer").Buffer)},{"../util/rpc-cache-utils":494,"./subprovider.js":490,buffer:105,"ethereumjs-tx":297,"ethereumjs-util":298,util:473}],488:[function(e,t,n){(function(n,r){const i=n.browser||r.XMLHttpRequest?e("xhr"):e("request"),o=e("util").inherits,s=e("../util/create-payload.js"),a=e("./subprovider.js"),c=e("json-rpc-error");function l(e){this.rpcUrl=e.rpcUrl}t.exports=l,o(l,a),l.prototype.handleRequest=function(e,t,n){const r=this.rpcUrl;let o=s(e);i({uri:r,method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o),rejectUnauthorized:!1},function(e,t,r){if(e)return n(new c.InternalError(e));switch(t.statusCode){case 405:return n(new c.MethodNotFound);case 504:let e="Gateway timeout. The request took too long to process. ";const r=new Error(e+="This can happen when querying logs over too wide a block range.");return n(new c.InternalError(r));default:if(200!=t.statusCode)return n(new c.InternalError(t.body))}let i;try{i=JSON.parse(r)}catch(e){return console.error(e.stack),n(new c.InternalError(e))}if(i.error)return n(i.error);n(null,i.result)})}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/create-payload.js":491,"./subprovider.js":490,_process:102,"json-rpc-error":330,request:72,util:473,xhr:548}],489:[function(e,t,n){const r=e("util").inherits,i=e("./subprovider.js"),o=(e("xtend"),e("ethereumjs-util"));function s(e){}t.exports=s,r(s,i),s.prototype.handleRequest=function(e,t,n){var r=e.params[0];if("object"==typeof r&&!Array.isArray(r)){var i=function(e){return a.reduce(function(t,n){return n in e&&(Array.isArray(e[n])?t[n]=e[n].map(function(e){return c(e)}):t[n]=c(e[n])),t},{})}(r);e.params[0]=i}t()};var a=["from","to","value","data","gas","gasPrice","nonce","fromBlock","toBlock","address","topics"];function c(e){switch(e){case"latest":case"pending":case"earliest":return e;default:return"string"==typeof e?o.addHexPrefix(e.toLowerCase()):e}}},{"./subprovider.js":490,"ethereumjs-util":298,util:473,xtend:550}],490:[function(e,t,n){const r=e("../util/create-payload.js");function i(){}t.exports=i,i.prototype.setEngine=function(e){const t=this;t.engine=e,e.on("block",function(e){t.currentBlock=e})},i.prototype.handleRequest=function(e,t,n){throw new Error("Subproviders should override `handleRequest`.")},i.prototype.emitPayload=function(e,t){this.engine.sendAsync(r(e),t)}},{"../util/create-payload.js":491}],491:[function(e,t,n){const r=e("./random-id.js"),i=e("xtend");t.exports=function(e){return i({id:r(),jsonrpc:"2.0",params:[]},e)}},{"./random-id.js":493,xtend:550}],492:[function(e,t,n){const r=e("./create-payload.js");t.exports=function(e,t,n){e.sendAsync(r({method:"eth_estimateGas",params:[t]}),function(e,t){if(e)return"no contract code at given address"===e.message?n(null,"0xcf08"):n(e);n(null,t.result)})}},{"./create-payload.js":491}],493:[function(e,t,n){const r=3;t.exports=function(){var e=(new Date).getTime()*Math.pow(10,r),t=Math.floor(Math.random()*Math.pow(10,r));return e+t}},{}],494:[function(e,t,n){const r=e("json-stable-stringify");function i(e){return"never"!==a(e)}function o(e){var t=s(e);return t>=e.params.length?e.params:"eth_getBlockByNumber"===e.method?e.params.slice(1):e.params.slice(0,t)}function s(e){switch(e.method){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":return 1;case"eth_getBlockByNumber":return 0;default:return}}function a(e){switch(e.method){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":return"perma";case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":return"fork";case"eth_gasPrice":case"eth_blockNumber":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"net_peerCount":return"block";case"net_version":case"net_peerCount":case"net_listening":case"eth_syncing":case"eth_sign":case"eth_coinbase":case"eth_mining":case"eth_hashrate":case"eth_accounts":case"eth_sendTransaction":case"eth_sendRawTransaction":case"eth_newFilter":case"eth_newBlockFilter":case"eth_newPendingTransactionFilter":case"eth_uninstallFilter":case"eth_getFilterChanges":case"eth_getWork":case"eth_submitWork":case"eth_submitHashrate":case"db_putString":case"db_getString":case"db_putHex":case"db_getHex":case"shh_post":case"shh_newIdentity":case"shh_hasIdentity":case"shh_newGroup":case"shh_addToGroup":case"shh_newFilter":case"shh_uninstallFilter":case"shh_getFilterChanges":case"shh_getMessages":return"never"}}t.exports={cacheIdentifierForPayload:function(e,t={}){if(!i(e))return null;const{includeBlockRef:n}=t,s=n?e.params:o(e);return e.method+":"+r(s)},canCache:i,blockTagForPayload:function(e){var t=s(e);if(t>=e.params.length)return null;return e.params[t]},paramsWithoutBlockTag:o,blockTagParamIndex:s,cacheTypeForPayload:a}},{"json-stable-stringify":333}],495:[function(e,t,n){const r=e("events").EventEmitter,i=e("util").inherits;function o(){r.call(this),this.isLocked=!0}t.exports=o,i(o,r),o.prototype.go=function(){this.isLocked=!1,this.emit("unlock")},o.prototype.stop=function(){this.isLocked=!0,this.emit("lock")},o.prototype.await=function(e){const t=this;t.isLocked?t.once("unlock",e):setTimeout(e)}},{events:300,util:473}],496:[function(e,t,n){const r=e("./index.js"),i=e("./subproviders/default-fixture.js"),o=e("./subproviders/nonce-tracker.js"),s=e("./subproviders/cache.js"),a=e("./subproviders/filters.js"),c=e("./subproviders/inflight-cache"),l=e("./subproviders/hooked-wallet.js"),u=e("./subproviders/sanitizer.js"),f=(e("./subproviders/rpc.js"),e("./subproviders/fetch.js"));t.exports=function(e){const t=new r((e=e||{}).engineParams),n=new i(e.static);t.addProvider(n),t.addProvider(new o);const h=new u;t.addProvider(h);const d=new s;t.addProvider(d);const p=new a;t.addProvider(p);const m=new c;t.addProvider(m);const g=new l({getAccounts:e.getAccounts,processTransaction:e.processTransaction,approveTransaction:e.approveTransaction,signTransaction:e.signTransaction,publishTransaction:e.publishTransaction,processMessage:e.processMessage,approveMessage:e.approveMessage,signMessage:e.signMessage,processPersonalMessage:e.processPersonalMessage,processTypedMessage:e.processTypedMessage,approvePersonalMessage:e.approvePersonalMessage,approveTypedMessage:e.approveTypedMessage,signPersonalMessage:e.signPersonalMessage,signTypedMessage:e.signTypedMessage,personalRecoverSigner:e.personalRecoverSigner});t.addProvider(g);const v=e.dataSubprovider||new f({rpcUrl:e.rpcUrl||"https://mainnet.infura.io/",originHttpHeaderKey:e.originHttpHeaderKey});return t.addProvider(v),t.start(),t}},{"./index.js":478,"./subproviders/cache.js":480,"./subproviders/default-fixture.js":481,"./subproviders/fetch.js":482,"./subproviders/filters.js":483,"./subproviders/hooked-wallet.js":485,"./subproviders/inflight-cache":486,"./subproviders/nonce-tracker.js":487,"./subproviders/rpc.js":488,"./subproviders/sanitizer.js":489}],497:[function(e,t,n){var r=e("./lib/web3");"undefined"!=typeof window&&void 0===window.Web3&&(window.Web3=r),t.exports=r},{"./lib/web3":519}],498:[function(e,t,n){t.exports=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"name",outputs:[{name:"o_name",type:"bytes32"}],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"owner",outputs:[{name:"",type:"address"}],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"content",outputs:[{name:"",type:"bytes32"}],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"addr",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"}],name:"reserve",outputs:[],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"subRegistrar",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_newOwner",type:"address"}],name:"transfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_registrar",type:"address"}],name:"setSubRegistrar",outputs:[],type:"function"},{constant:!1,inputs:[],name:"Registrar",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_a",type:"address"},{name:"_primary",type:"bool"}],name:"setAddress",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_content",type:"bytes32"}],name:"setContent",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"}],name:"disown",outputs:[],type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"_name",type:"bytes32"},{indexed:!1,name:"_winner",type:"address"}],name:"AuctionEnded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_name",type:"bytes32"},{indexed:!1,name:"_bidder",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"NewBid",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"name",type:"bytes32"}],name:"Changed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"name",type:"bytes32"},{indexed:!0,name:"addr",type:"address"}],name:"PrimaryChanged",type:"event"}]},{}],499:[function(e,t,n){t.exports=[{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"owner",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_refund",type:"address"}],name:"disown",outputs:[],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"addr",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"}],name:"reserve",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_newOwner",type:"address"}],name:"transfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_a",type:"address"}],name:"setAddr",outputs:[],type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"name",type:"bytes32"}],name:"Changed",type:"event"}]},{}],500:[function(e,t,n){t.exports=[{constant:!1,inputs:[{name:"from",type:"bytes32"},{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"from",type:"bytes32"},{name:"to",type:"address"},{name:"indirectId",type:"bytes32"},{name:"value",type:"uint256"}],name:"icapTransfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"to",type:"bytes32"}],name:"deposit",outputs:[],payable:!0,type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"AnonymousDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"bytes32"},{indexed:!1,name:"value",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"bytes32"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"bytes32"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"indirectId",type:"bytes32"},{indexed:!1,name:"value",type:"uint256"}],name:"IcapTransfer",type:"event"}]},{}],501:[function(e,t,n){var r=e("./formatters"),i=e("./type"),o=function(){this._inputFormatter=r.formatInputInt,this._outputFormatter=r.formatOutputAddress};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(e){return!!e.match(/address(\[([0-9]*)\])?/)},t.exports=o},{"./formatters":506,"./type":511}],502:[function(e,t,n){var r=e("./formatters"),i=e("./type"),o=function(){this._inputFormatter=r.formatInputBool,this._outputFormatter=r.formatOutputBool};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(e){return!!e.match(/^bool(\[([0-9]*)\])*$/)},t.exports=o},{"./formatters":506,"./type":511}],503:[function(e,t,n){var r=e("./formatters"),i=e("./type"),o=function(){this._inputFormatter=r.formatInputBytes,this._outputFormatter=r.formatOutputBytes};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(e){return!!e.match(/^bytes([0-9]{1,})(\[([0-9]*)\])*$/)},t.exports=o},{"./formatters":506,"./type":511}],504:[function(e,t,n){var r=e("./formatters"),i=e("./address"),o=e("./bool"),s=e("./int"),a=e("./uint"),c=e("./dynamicbytes"),l=e("./string"),u=e("./real"),f=e("./ureal"),h=e("./bytes"),d=function(e,t){return e.isDynamicType(t)||e.isDynamicArray(t)},p=function(e){this._types=e};p.prototype._requireType=function(e){var t=this._types.filter(function(t){return t.isType(e)})[0];if(!t)throw Error("invalid solidity type!: "+e);return t},p.prototype.encodeParam=function(e,t){return this.encodeParams([e],[t])},p.prototype.encodeParams=function(e,t){var n=this.getSolidityTypes(e),r=n.map(function(n,r){return n.encode(t[r],e[r])}),i=n.reduce(function(t,r,i){var o=r.staticPartLength(e[i]),s=32*Math.floor((o+31)/32);return t+(d(n[i],e[i])?32:s)},0);return this.encodeMultiWithOffset(e,n,r,i)},p.prototype.encodeMultiWithOffset=function(e,t,n,i){var o="",s=this;return e.forEach(function(a,c){if(d(t[c],e[c])){o+=r.formatInputInt(i).encode();var l=s.encodeWithOffset(e[c],t[c],n[c],i);i+=l.length/2}else o+=s.encodeWithOffset(e[c],t[c],n[c],i)}),e.forEach(function(r,a){if(d(t[a],e[a])){var c=s.encodeWithOffset(e[a],t[a],n[a],i);i+=c.length/2,o+=c}}),o},p.prototype.encodeWithOffset=function(e,t,n,i){var o=1,s=2,a=3,c=t.isDynamicArray(e)?o:t.isStaticArray(e)?s:a;if(c!==a){var l=t.nestedName(e),u=t.staticPartLength(l),f=c===o?n[0]:"";if(t.isDynamicArray(l))for(var h=c===o?2:0,d=0;d<n.length;d++)c===o?h+=+n[d-1][0]||0:c===s&&(h+=+(n[d-1]||[])[0]||0),f+=r.formatInputInt(i+d*u+32*h).encode();for(var p=c===o?n.length-1:n.length,m=0;m<p;m++){var g=f/2;c===o?f+=this.encodeWithOffset(l,t,n[m+1],i+g):c===s&&(f+=this.encodeWithOffset(l,t,n[m],i+g))}return f}return n},p.prototype.decodeParam=function(e,t){return this.decodeParams([e],t)[0]},p.prototype.decodeParams=function(e,t){var n=this.getSolidityTypes(e),r=this.getOffsets(e,n);return n.map(function(n,i){return n.decode(t,r[i],e[i],i)})},p.prototype.getOffsets=function(e,t){for(var n=t.map(function(t,n){return t.staticPartLength(e[n])}),r=1;r<n.length;r++)n[r]+=n[r-1];return n.map(function(n,r){return n-t[r].staticPartLength(e[r])})},p.prototype.getSolidityTypes=function(e){var t=this;return e.map(function(e){return t._requireType(e)})};var m=new p([new i,new o,new s,new a,new c,new h,new l,new u,new f]);t.exports=m},{"./address":501,"./bool":502,"./bytes":503,"./dynamicbytes":505,"./formatters":506,"./int":507,"./real":509,"./string":510,"./uint":512,"./ureal":513}],505:[function(e,t,n){var r=e("./formatters"),i=e("./type"),o=function(){this._inputFormatter=r.formatInputDynamicBytes,this._outputFormatter=r.formatOutputDynamicBytes};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(e){return!!e.match(/^bytes(\[([0-9]*)\])*$/)},o.prototype.isDynamicType=function(){return!0},t.exports=o},{"./formatters":506,"./type":511}],506:[function(e,t,n){var r=e("bignumber.js"),i=e("../utils/utils"),o=e("../utils/config"),s=e("./param"),a=function(e){r.config(o.ETH_BIGNUMBER_ROUNDING_MODE);var t=i.padLeft(i.toTwosComplement(e).toString(16),64);return new s(t)},c=function(e){var t=e.staticPart()||"0";return function(e){return"1"===new r(e.substr(0,1),16).toString(2).substr(0,1)}(t)?new r(t,16).minus(new r("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16)).minus(1):new r(t,16)},l=function(e){var t=e.staticPart()||"0";return new r(t,16)};t.exports={formatInputInt:a,formatInputBytes:function(e){var t=i.toHex(e).substr(2),n=Math.floor((t.length+63)/64);return t=i.padRight(t,64*n),new s(t)},formatInputDynamicBytes:function(e){var t=i.toHex(e).substr(2),n=t.length/2,r=Math.floor((t.length+63)/64);return t=i.padRight(t,64*r),new s(a(n).value+t)},formatInputString:function(e){var t=i.fromUtf8(e).substr(2),n=t.length/2,r=Math.floor((t.length+63)/64);return t=i.padRight(t,64*r),new s(a(n).value+t)},formatInputBool:function(e){return new s("000000000000000000000000000000000000000000000000000000000000000"+(e?"1":"0"))},formatInputReal:function(e){return a(new r(e).times(new r(2).pow(128)))},formatOutputInt:c,formatOutputUInt:l,formatOutputReal:function(e){return c(e).dividedBy(new r(2).pow(128))},formatOutputUReal:function(e){return l(e).dividedBy(new r(2).pow(128))},formatOutputBool:function(e){return"0000000000000000000000000000000000000000000000000000000000000001"===e.staticPart()},formatOutputBytes:function(e,t){var n=t.match(/^bytes([0-9]*)/),r=parseInt(n[1]);return"0x"+e.staticPart().slice(0,2*r)},formatOutputDynamicBytes:function(e){var t=2*new r(e.dynamicPart().slice(0,64),16).toNumber();return"0x"+e.dynamicPart().substr(64,t)},formatOutputString:function(e){var t=2*new r(e.dynamicPart().slice(0,64),16).toNumber();return i.toUtf8(e.dynamicPart().substr(64,t))},formatOutputAddress:function(e){var t=e.staticPart();return"0x"+t.slice(t.length-40,t.length)}}},{"../utils/config":515,"../utils/utils":517,"./param":508,"bignumber.js":547}],507:[function(e,t,n){var r=e("./formatters"),i=e("./type"),o=function(){this._inputFormatter=r.formatInputInt,this._outputFormatter=r.formatOutputInt};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(e){return!!e.match(/^int([0-9]*)?(\[([0-9]*)\])*$/)},t.exports=o},{"./formatters":506,"./type":511}],508:[function(e,t,n){var r=e("../utils/utils"),i=function(e,t){this.value=e||"",this.offset=t};i.prototype.dynamicPartLength=function(){return this.dynamicPart().length/2},i.prototype.withOffset=function(e){return new i(this.value,e)},i.prototype.combine=function(e){return new i(this.value+e.value)},i.prototype.isDynamic=function(){return void 0!==this.offset},i.prototype.offsetAsBytes=function(){return this.isDynamic()?r.padLeft(r.toTwosComplement(this.offset).toString(16),64):""},i.prototype.staticPart=function(){return this.isDynamic()?this.offsetAsBytes():this.value},i.prototype.dynamicPart=function(){return this.isDynamic()?this.value:""},i.prototype.encode=function(){return this.staticPart()+this.dynamicPart()},i.encodeList=function(e){var t=32*e.length,n=e.map(function(e){if(!e.isDynamic())return e;var n=t;return t+=e.dynamicPartLength(),e.withOffset(n)});return n.reduce(function(e,t){return e+t.dynamicPart()},n.reduce(function(e,t){return e+t.staticPart()},""))},t.exports=i},{"../utils/utils":517}],509:[function(e,t,n){var r=e("./formatters"),i=e("./type"),o=function(){this._inputFormatter=r.formatInputReal,this._outputFormatter=r.formatOutputReal};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(e){return!!e.match(/real([0-9]*)?(\[([0-9]*)\])?/)},t.exports=o},{"./formatters":506,"./type":511}],510:[function(e,t,n){var r=e("./formatters"),i=e("./type"),o=function(){this._inputFormatter=r.formatInputString,this._outputFormatter=r.formatOutputString};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(e){return!!e.match(/^string(\[([0-9]*)\])*$/)},o.prototype.isDynamicType=function(){return!0},t.exports=o},{"./formatters":506,"./type":511}],511:[function(e,t,n){var r=e("./formatters"),i=e("./param"),o=function(e){this._inputFormatter=e.inputFormatter,this._outputFormatter=e.outputFormatter};o.prototype.isType=function(e){throw"this method should be overrwritten for type "+e},o.prototype.staticPartLength=function(e){return(this.nestedTypes(e)||["[1]"]).map(function(e){return parseInt(e.slice(1,-1),10)||1}).reduce(function(e,t){return e*t},32)},o.prototype.isDynamicArray=function(e){var t=this.nestedTypes(e);return!!t&&!t[t.length-1].match(/[0-9]{1,}/g)},o.prototype.isStaticArray=function(e){var t=this.nestedTypes(e);return!!t&&!!t[t.length-1].match(/[0-9]{1,}/g)},o.prototype.staticArrayLength=function(e){var t=this.nestedTypes(e);return t?parseInt(t[t.length-1].match(/[0-9]{1,}/g)||1):1},o.prototype.nestedName=function(e){var t=this.nestedTypes(e);return t?e.substr(0,e.length-t[t.length-1].length):e},o.prototype.isDynamicType=function(){return!1},o.prototype.nestedTypes=function(e){return e.match(/(\[[0-9]*\])/g)},o.prototype.encode=function(e,t){var n,i,o,s=this;return this.isDynamicArray(t)?(n=e.length,i=s.nestedName(t),(o=[]).push(r.formatInputInt(n).encode()),e.forEach(function(e){o.push(s.encode(e,i))}),o):this.isStaticArray(t)?function(){for(var n=s.staticArrayLength(t),r=s.nestedName(t),i=[],o=0;o<n;o++)i.push(s.encode(e[o],r));return i}():this._inputFormatter(e,t).encode()},o.prototype.decode=function(e,t,n){var r=this;if(this.isDynamicArray(n))return function(){for(var i=parseInt("0x"+e.substr(2*t,64)),o=parseInt("0x"+e.substr(2*i,64)),s=i+32,a=r.nestedName(n),c=r.staticPartLength(a),l=32*Math.floor((c+31)/32),u=[],f=0;f<o*l;f+=l)u.push(r.decode(e,s+f,a));return u}();if(this.isStaticArray(n))return function(){for(var i=r.staticArrayLength(n),o=t,s=r.nestedName(n),a=r.staticPartLength(s),c=32*Math.floor((a+31)/32),l=[],u=0;u<i*c;u+=c)l.push(r.decode(e,o+u,s));return l}();if(this.isDynamicType(n))return function(){var o=parseInt("0x"+e.substr(2*t,64)),s=parseInt("0x"+e.substr(2*o,64)),a=Math.floor((s+31)/32),c=new i(e.substr(2*o,64*(1+a)),0);return r._outputFormatter(c,n)}();var o=this.staticPartLength(n),s=new i(e.substr(2*t,2*o));return this._outputFormatter(s,n)},t.exports=o},{"./formatters":506,"./param":508}],512:[function(e,t,n){var r=e("./formatters"),i=e("./type"),o=function(){this._inputFormatter=r.formatInputInt,this._outputFormatter=r.formatOutputUInt};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(e){return!!e.match(/^uint([0-9]*)?(\[([0-9]*)\])*$/)},t.exports=o},{"./formatters":506,"./type":511}],513:[function(e,t,n){var r=e("./formatters"),i=e("./type"),o=function(){this._inputFormatter=r.formatInputReal,this._outputFormatter=r.formatOutputUReal};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(e){return!!e.match(/^ureal([0-9]*)?(\[([0-9]*)\])*$/)},t.exports=o},{"./formatters":506,"./type":511}],514:[function(e,t,n){"use strict";"undefined"==typeof XMLHttpRequest?n.XMLHttpRequest={}:n.XMLHttpRequest=XMLHttpRequest},{}],515:[function(e,t,n){var r=e("bignumber.js");t.exports={ETH_PADDING:32,ETH_SIGNATURE_LENGTH:4,ETH_UNITS:["wei","kwei","Mwei","Gwei","szabo","finney","femtoether","picoether","nanoether","microether","milliether","nano","micro","milli","ether","grand","Mether","Gether","Tether","Pether","Eether","Zether","Yether","Nether","Dether","Vether","Uether"],ETH_BIGNUMBER_ROUNDING_MODE:{ROUNDING_MODE:r.ROUND_DOWN},ETH_POLLING_TIMEOUT:500,defaultBlock:"latest",defaultAccount:void 0}},{"bignumber.js":547}],516:[function(e,t,n){var r=e("crypto-js"),i=e("crypto-js/sha3");t.exports=function(e,t){return t&&"hex"===t.encoding&&(e.length>2&&"0x"===e.substr(0,2)&&(e=e.substr(2)),e=r.enc.Hex.parse(e)),i(e,{outputLength:256}).toString()}},{"crypto-js":220,"crypto-js/sha3":241}],517:[function(e,t,n){var r=e("bignumber.js"),i=e("./sha3.js"),o=e("utf8"),s={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"},a=function(e,t,n){return new Array(t-e.length+1).join(n||"0")+e},c=function(e,t){e=o.encode(e);for(var n="",r=0;r<e.length;r++){var i=e.charCodeAt(r);if(0===i){if(!t)break;n+="00"}else{var s=i.toString(16);n+=s.length<2?"0"+s:s}}return"0x"+n},l=function(e){var t=h(e),n=t.toString(16);return t.lessThan(0)?"-0x"+n.substr(1):"0x"+n},u=function(e){if(v(e))return l(+e);if(m(e))return l(e);if("object"==typeof e)return c(JSON.stringify(e));if(g(e)){if(0===e.indexOf("-0x"))return l(e);if(0===e.indexOf("0x"))return e;if(!isFinite(e))return c(e,1)}return l(e)},f=function(e){e=e?e.toLowerCase():"ether";var t=s[e];if(void 0===t)throw new Error("This unit doesn't exists, please use the one of the following units"+JSON.stringify(s,null,2));return new r(t,10)},h=function(e){return m(e=e||0)?e:!g(e)||0!==e.indexOf("0x")&&0!==e.indexOf("-0x")?new r(e.toString(10),10):new r(e.replace("0x",""),16)},d=function(e){return/^0x[0-9a-f]{40}$/i.test(e)},p=function(e){e=e.replace("0x","");for(var t=i(e.toLowerCase()),n=0;n<40;n++)if(parseInt(t[n],16)>7&&e[n].toUpperCase()!==e[n]||parseInt(t[n],16)<=7&&e[n].toLowerCase()!==e[n])return!1;return!0},m=function(e){return e instanceof r||e&&e.constructor&&"BigNumber"===e.constructor.name},g=function(e){return"string"==typeof e||e&&e.constructor&&"String"===e.constructor.name},v=function(e){return"boolean"==typeof e};t.exports={padLeft:a,padRight:function(e,t,n){return e+new Array(t-e.length+1).join(n||"0")},toHex:u,toDecimal:function(e){return h(e).toNumber()},fromDecimal:l,toUtf8:function(e){var t="",n=0,r=e.length;for("0x"===e.substring(0,2)&&(n=2);n<r;n+=2){var i=parseInt(e.substr(n,2),16);if(0===i)break;t+=String.fromCharCode(i)}return o.decode(t)},toAscii:function(e){var t="",n=0,r=e.length;for("0x"===e.substring(0,2)&&(n=2);n<r;n+=2){var i=parseInt(e.substr(n,2),16);t+=String.fromCharCode(i)}return t},fromUtf8:c,fromAscii:function(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n).toString(16);t+=r.length<2?"0"+r:r}return"0x"+t},transformToFullName:function(e){if(-1!==e.name.indexOf("("))return e.name;var t=e.inputs.map(function(e){return e.type}).join();return e.name+"("+t+")"},extractDisplayName:function(e){var t=e.indexOf("("),n=e.indexOf(")");return-1!==t&&-1!==n?e.substr(0,t):e},extractTypeName:function(e){var t=e.indexOf("("),n=e.indexOf(")");return-1!==t&&-1!==n?e.substr(t+1,n-t-1).replace(" ",""):""},toWei:function(e,t){var n=h(e).times(f(t));return m(e)?n:n.toString(10)},fromWei:function(e,t){var n=h(e).dividedBy(f(t));return m(e)?n:n.toString(10)},toBigNumber:h,toTwosComplement:function(e){var t=h(e).round();return t.lessThan(0)?new r("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16).plus(t).plus(1):t},toAddress:function(e){return d(e)?e:/^[0-9a-f]{40}$/.test(e)?"0x"+e:"0x"+a(u(e).substr(2),40)},isBigNumber:m,isStrictAddress:d,isAddress:function(e){return!!/^(0x)?[0-9a-f]{40}$/i.test(e)&&(!(!/^(0x)?[0-9a-f]{40}$/.test(e)&&!/^(0x)?[0-9A-F]{40}$/.test(e))||p(e))},isChecksumAddress:p,toChecksumAddress:function(e){if(void 0===e)return"";e=e.toLowerCase().replace("0x","");for(var t=i(e),n="0x",r=0;r<e.length;r++)parseInt(t[r],16)>7?n+=e[r].toUpperCase():n+=e[r];return n},isFunction:function(e){return"function"==typeof e},isString:g,isObject:function(e){return null!==e&&!Array.isArray(e)&&"object"==typeof e},isBoolean:v,isArray:function(e){return Array.isArray(e)},isJson:function(e){try{return!!JSON.parse(e)}catch(e){return!1}},isBloom:function(e){return!(!/^(0x)?[0-9a-f]{512}$/i.test(e)||!/^(0x)?[0-9a-f]{512}$/.test(e)&&!/^(0x)?[0-9A-F]{512}$/.test(e))},isTopic:function(e){return!(!/^(0x)?[0-9a-f]{64}$/i.test(e)||!/^(0x)?[0-9a-f]{64}$/.test(e)&&!/^(0x)?[0-9A-F]{64}$/.test(e))}}},{"./sha3.js":516,"bignumber.js":547,utf8:469}],518:[function(e,t,n){t.exports={version:"0.20.6"}},{}],519:[function(e,t,n){var r=e("./web3/requestmanager"),i=e("./web3/iban"),o=e("./web3/methods/eth"),s=e("./web3/methods/db"),a=e("./web3/methods/shh"),c=e("./web3/methods/net"),l=e("./web3/methods/personal"),u=e("./web3/methods/swarm"),f=e("./web3/settings"),h=e("./version.json"),d=e("./utils/utils"),p=e("./utils/sha3"),m=e("./web3/extend"),g=e("./web3/batch"),v=e("./web3/property"),b=e("./web3/httpprovider"),y=e("./web3/ipcprovider"),_=e("bignumber.js");function w(e){this._requestManager=new r(e),this.currentProvider=e,this.eth=new o(this),this.db=new s(this),this.shh=new a(this),this.net=new c(this),this.personal=new l(this),this.bzz=new u(this),this.settings=new f,this.version={api:h.version},this.providers={HttpProvider:b,IpcProvider:y},this._extend=m(this),this._extend({properties:k()})}w.providers={HttpProvider:b,IpcProvider:y},w.prototype.setProvider=function(e){this._requestManager.setProvider(e),this.currentProvider=e},w.prototype.reset=function(e){this._requestManager.reset(e),this.settings=new f},w.prototype.BigNumber=_,w.prototype.toHex=d.toHex,w.prototype.toAscii=d.toAscii,w.prototype.toUtf8=d.toUtf8,w.prototype.fromAscii=d.fromAscii,w.prototype.fromUtf8=d.fromUtf8,w.prototype.toDecimal=d.toDecimal,w.prototype.fromDecimal=d.fromDecimal,w.prototype.toBigNumber=d.toBigNumber,w.prototype.toWei=d.toWei,w.prototype.fromWei=d.fromWei,w.prototype.isAddress=d.isAddress,w.prototype.isChecksumAddress=d.isChecksumAddress,w.prototype.toChecksumAddress=d.toChecksumAddress,w.prototype.isIBAN=d.isIBAN,w.prototype.padLeft=d.padLeft,w.prototype.padRight=d.padRight,w.prototype.sha3=function(e,t){return"0x"+p(e,t)},w.prototype.fromICAP=function(e){return new i(e).address()};var k=function(){return[new v({name:"version.node",getter:"web3_clientVersion"}),new v({name:"version.network",getter:"net_version",inputFormatter:d.toDecimal}),new v({name:"version.ethereum",getter:"eth_protocolVersion",inputFormatter:d.toDecimal}),new v({name:"version.whisper",getter:"shh_version",inputFormatter:d.toDecimal})]};w.prototype.isConnected=function(){return this.currentProvider&&this.currentProvider.isConnected()},w.prototype.createBatch=function(){return new g(this)},t.exports=w},{"./utils/sha3":516,"./utils/utils":517,"./version.json":518,"./web3/batch":521,"./web3/extend":525,"./web3/httpprovider":529,"./web3/iban":530,"./web3/ipcprovider":531,"./web3/methods/db":534,"./web3/methods/eth":535,"./web3/methods/net":536,"./web3/methods/personal":537,"./web3/methods/shh":538,"./web3/methods/swarm":539,"./web3/property":542,"./web3/requestmanager":543,"./web3/settings":544,"bignumber.js":547}],520:[function(e,t,n){var r=e("../utils/sha3"),i=e("./event"),o=e("./formatters"),s=e("../utils/utils"),a=e("./filter"),c=e("./methods/watches"),l=function(e,t,n){this._requestManager=e,this._json=t,this._address=n};l.prototype.encode=function(e){e=e||{};var t={};return["fromBlock","toBlock"].filter(function(t){return void 0!==e[t]}).forEach(function(n){t[n]=o.inputBlockNumberFormatter(e[n])}),t.address=this._address,t},l.prototype.decode=function(e){e.data=e.data||"";var t=s.isArray(e.topics)&&s.isString(e.topics[0])?e.topics[0].slice(2):"",n=this._json.filter(function(e){return t===r(s.transformToFullName(e))})[0];return n?new i(this._requestManager,n,this._address).decode(e):o.outputLogFormatter(e)},l.prototype.execute=function(e,t){s.isFunction(arguments[arguments.length-1])&&(t=arguments[arguments.length-1],1===arguments.length&&(e=null));var n=this.encode(e),r=this.decode.bind(this);return new a(n,"eth",this._requestManager,c.eth(),r,t)},l.prototype.attachToContract=function(e){var t=this.execute.bind(this);e.allEvents=t},t.exports=l},{"../utils/sha3":516,"../utils/utils":517,"./event":524,"./filter":526,"./formatters":527,"./methods/watches":540}],521:[function(e,t,n){var r=e("./jsonrpc"),i=e("./errors"),o=function(e){this.requestManager=e._requestManager,this.requests=[]};o.prototype.add=function(e){this.requests.push(e)},o.prototype.execute=function(){var e=this.requests;this.requestManager.sendBatch(e,function(t,n){n=n||[],e.map(function(e,t){return n[t]||{}}).forEach(function(t,n){if(e[n].callback){if(!r.isValidResponse(t))return e[n].callback(i.InvalidResponse(t));e[n].callback(null,e[n].format?e[n].format(t.result):t.result)}})})},t.exports=o},{"./errors":523,"./jsonrpc":532}],522:[function(e,t,n){var r=e("../utils/utils"),i=e("../solidity/coder"),o=e("./event"),s=e("./function"),a=e("./allevents"),c=function(e,t){return e.filter(function(e){return"constructor"===e.type&&e.inputs.length===t.length}).map(function(e){return e.inputs.map(function(e){return e.type})}).map(function(e){return i.encodeParams(e,t)})[0]||""},l=function(e){e.abi.filter(function(e){return"function"===e.type}).map(function(t){return new s(e._eth,t,e.address)}).forEach(function(t){t.attachToContract(e)})},u=function(e){var t=e.abi.filter(function(e){return"event"===e.type});new a(e._eth._requestManager,t,e.address).attachToContract(e),t.map(function(t){return new o(e._eth._requestManager,t,e.address)}).forEach(function(t){t.attachToContract(e)})},f=function(e,t){var n=0,r=!1,i=e._eth.filter("latest",function(o){if(!o&&!r)if(++n>50){if(i.stopWatching(function(){}),r=!0,!t)throw new Error("Contract transaction couldn't be found after 50 blocks");t(new Error("Contract transaction couldn't be found after 50 blocks"))}else e._eth.getTransactionReceipt(e.transactionHash,function(n,o){o&&o.blockHash&&!r&&e._eth.getCode(o.contractAddress,function(n,s){if(!r&&s)if(i.stopWatching(function(){}),r=!0,s.length>3)e.address=o.contractAddress,l(e),u(e),t&&t(null,e);else{if(!t)throw new Error("The contract code couldn't be stored, please check your gas amount.");t(new Error("The contract code couldn't be stored, please check your gas amount."))}})})})},h=function(e,t){this.eth=e,this.abi=t,this.new=function(){var e,n=new d(this.eth,this.abi),i={},o=Array.prototype.slice.call(arguments);r.isFunction(o[o.length-1])&&(e=o.pop());var s=o[o.length-1];if((r.isObject(s)&&!r.isArray(s)&&(i=o.pop()),i.value>0)&&!(t.filter(function(e){return"constructor"===e.type&&e.inputs.length===o.length})[0]||{}).payable)throw new Error("Cannot send value to non-payable constructor");var a=c(this.abi,o);if(i.data+=a,e)this.eth.sendTransaction(i,function(t,r){t?e(t):(n.transactionHash=r,e(null,n),f(n,e))});else{var l=this.eth.sendTransaction(i);n.transactionHash=l,f(n)}return n},this.new.getData=this.getData.bind(this)};h.prototype.at=function(e,t){var n=new d(this.eth,this.abi,e);return l(n),u(n),t&&t(null,n),n},h.prototype.getData=function(){var e={},t=Array.prototype.slice.call(arguments),n=t[t.length-1];r.isObject(n)&&!r.isArray(n)&&(e=t.pop());var i=c(this.abi,t);return e.data+=i,e.data};var d=function(e,t,n){this._eth=e,this.transactionHash=null,this.address=n,this.abi=t};t.exports=h},{"../solidity/coder":504,"../utils/utils":517,"./allevents":520,"./event":524,"./function":528}],523:[function(e,t,n){t.exports={InvalidNumberOfSolidityArgs:function(){return new Error("Invalid number of arguments to Solidity function")},InvalidNumberOfRPCParams:function(){return new Error("Invalid number of input parameters to RPC method")},InvalidConnection:function(e){return new Error("CONNECTION ERROR: Couldn't connect to node "+e+".")},InvalidProvider:function(){return new Error("Provider not set or invalid")},InvalidResponse:function(e){var t=e&&e.error&&e.error.message?e.error.message:"Invalid JSON RPC response: "+JSON.stringify(e);return new Error(t)},ConnectionTimeout:function(e){return new Error("CONNECTION TIMEOUT: timeout of "+e+" ms achived")}}},{}],524:[function(e,t,n){var r=e("../utils/utils"),i=e("../solidity/coder"),o=e("./formatters"),s=e("../utils/sha3"),a=e("./filter"),c=e("./methods/watches"),l=function(e,t,n){this._requestManager=e,this._params=t.inputs,this._name=r.transformToFullName(t),this._address=n,this._anonymous=t.anonymous};l.prototype.types=function(e){return this._params.filter(function(t){return t.indexed===e}).map(function(e){return e.type})},l.prototype.displayName=function(){return r.extractDisplayName(this._name)},l.prototype.typeName=function(){return r.extractTypeName(this._name)},l.prototype.signature=function(){return s(this._name)},l.prototype.encode=function(e,t){e=e||{},t=t||{};var n={};["fromBlock","toBlock"].filter(function(e){return void 0!==t[e]}).forEach(function(e){n[e]=o.inputBlockNumberFormatter(t[e])}),n.topics=[],n.address=this._address,this._anonymous||n.topics.push("0x"+this.signature());var s=this._params.filter(function(e){return!0===e.indexed}).map(function(t){var n=e[t.name];return void 0===n||null===n?null:r.isArray(n)?n.map(function(e){return"0x"+i.encodeParam(t.type,e)}):"0x"+i.encodeParam(t.type,n)});return n.topics=n.topics.concat(s),n},l.prototype.decode=function(e){e.data=e.data||"",e.topics=e.topics||[];var t=(this._anonymous?e.topics:e.topics.slice(1)).map(function(e){return e.slice(2)}).join(""),n=i.decodeParams(this.types(!0),t),r=e.data.slice(2),s=i.decodeParams(this.types(!1),r),a=o.outputLogFormatter(e);return a.event=this.displayName(),a.address=e.address,a.args=this._params.reduce(function(e,t){return e[t.name]=t.indexed?n.shift():s.shift(),e},{}),delete a.data,delete a.topics,a},l.prototype.execute=function(e,t,n){r.isFunction(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],2===arguments.length&&(t=null),1===arguments.length&&(t=null,e={}));var i=this.encode(e,t),o=this.decode.bind(this);return new a(i,"eth",this._requestManager,c.eth(),o,n)},l.prototype.attachToContract=function(e){var t=this.execute.bind(this),n=this.displayName();e[n]||(e[n]=t),e[n][this.typeName()]=this.execute.bind(this,e)},t.exports=l},{"../solidity/coder":504,"../utils/sha3":516,"../utils/utils":517,"./filter":526,"./formatters":527,"./methods/watches":540}],525:[function(e,t,n){var r=e("./formatters"),i=e("./../utils/utils"),o=e("./method"),s=e("./property");t.exports=function(e){var t=function(t){var n;t.property?(e[t.property]||(e[t.property]={}),n=e[t.property]):n=e,t.methods&&t.methods.forEach(function(t){t.attachToObject(n),t.setRequestManager(e._requestManager)}),t.properties&&t.properties.forEach(function(t){t.attachToObject(n),t.setRequestManager(e._requestManager)})};return t.formatters=r,t.utils=i,t.Method=o,t.Property=s,t}},{"./../utils/utils":517,"./formatters":527,"./method":533,"./property":542}],526:[function(e,t,n){var r=e("./formatters"),i=e("../utils/utils"),o=function(e){return null===e||void 0===e?null:0===(e=String(e)).indexOf("0x")?e:i.fromUtf8(e)},s=function(e,t){i.isString(e.options)||e.get(function(e,n){e&&t(e),i.isArray(n)&&n.forEach(function(e){t(null,e)})})},a=function(e){e.requestManager.startPolling({method:e.implementation.poll.call,params:[e.filterId]},e.filterId,function(t,n){if(t)return e.callbacks.forEach(function(e){e(t)});i.isArray(n)&&n.forEach(function(t){t=e.formatter?e.formatter(t):t,e.callbacks.forEach(function(e){e(null,t)})})},e.stopWatching.bind(e))},c=function(e,t,n,c,l,u,f){var h=this,d={};return c.forEach(function(e){e.setRequestManager(n),e.attachToObject(d)}),this.requestManager=n,this.options=function(e,t){if(i.isString(e))return e;switch(e=e||{},t){case"eth":return e.topics=e.topics||[],e.topics=e.topics.map(function(e){return i.isArray(e)?e.map(o):o(e)}),{topics:e.topics,from:e.from,to:e.to,address:e.address,fromBlock:r.inputBlockNumberFormatter(e.fromBlock),toBlock:r.inputBlockNumberFormatter(e.toBlock)};case"shh":return e}}(e,t),this.implementation=d,this.filterId=null,this.callbacks=[],this.getLogsCallbacks=[],this.pollFilters=[],this.formatter=l,this.implementation.newFilter(this.options,function(e,t){if(e)h.callbacks.forEach(function(t){t(e)}),"function"==typeof f&&f(e);else if(h.filterId=t,h.getLogsCallbacks.forEach(function(e){h.get(e)}),h.getLogsCallbacks=[],h.callbacks.forEach(function(e){s(h,e)}),h.callbacks.length>0&&a(h),"function"==typeof u)return h.watch(u)}),this};c.prototype.watch=function(e){return this.callbacks.push(e),this.filterId&&(s(this,e),a(this)),this},c.prototype.stopWatching=function(e){if(this.requestManager.stopPolling(this.filterId),this.callbacks=[],!e)return this.implementation.uninstallFilter(this.filterId);this.implementation.uninstallFilter(this.filterId,e)},c.prototype.get=function(e){var t=this;if(!i.isFunction(e)){if(null===this.filterId)throw new Error("Filter ID Error: filter().get() can't be chained synchronous, please provide a callback for the get() method.");return this.implementation.getLogs(this.filterId).map(function(e){return t.formatter?t.formatter(e):e})}return null===this.filterId?this.getLogsCallbacks.push(e):this.implementation.getLogs(this.filterId,function(n,r){n?e(n):e(null,r.map(function(e){return t.formatter?t.formatter(e):e}))}),this},t.exports=c},{"../utils/utils":517,"./formatters":527}],527:[function(e,t,n){"use strict";var r=e("../utils/utils"),i=e("../utils/config"),o=e("./iban"),s=function(e){if(void 0!==e)return function(e){return"latest"===e||"pending"===e||"earliest"===e}(e)?e:r.toHex(e)},a=function(e){return null!==e.blockNumber&&(e.blockNumber=r.toDecimal(e.blockNumber)),null!==e.transactionIndex&&(e.transactionIndex=r.toDecimal(e.transactionIndex)),e.nonce=r.toDecimal(e.nonce),e.gas=r.toDecimal(e.gas),e.gasPrice=r.toBigNumber(e.gasPrice),e.value=r.toBigNumber(e.value),e},c=function(e){return e.blockNumber&&(e.blockNumber=r.toDecimal(e.blockNumber)),e.transactionIndex&&(e.transactionIndex=r.toDecimal(e.transactionIndex)),e.logIndex&&(e.logIndex=r.toDecimal(e.logIndex)),e},l=function(e){var t=new o(e);if(t.isValid()&&t.isDirect())return"0x"+t.address();if(r.isStrictAddress(e))return e;if(r.isAddress(e))return"0x"+e;throw new Error("invalid address")};t.exports={inputDefaultBlockNumberFormatter:function(e){return void 0===e?i.defaultBlock:s(e)},inputBlockNumberFormatter:s,inputCallFormatter:function(e){return e.from=e.from||i.defaultAccount,e.from&&(e.from=l(e.from)),e.to&&(e.to=l(e.to)),["gasPrice","gas","value","nonce"].filter(function(t){return void 0!==e[t]}).forEach(function(t){e[t]=r.fromDecimal(e[t])}),e},inputTransactionFormatter:function(e){return e.from=e.from||i.defaultAccount,e.from=l(e.from),e.to&&(e.to=l(e.to)),["gasPrice","gas","value","nonce"].filter(function(t){return void 0!==e[t]}).forEach(function(t){e[t]=r.fromDecimal(e[t])}),e},inputAddressFormatter:l,inputPostFormatter:function(e){return e.ttl=r.fromDecimal(e.ttl),e.workToProve=r.fromDecimal(e.workToProve),e.priority=r.fromDecimal(e.priority),r.isArray(e.topics)||(e.topics=e.topics?[e.topics]:[]),e.topics=e.topics.map(function(e){return 0===e.indexOf("0x")?e:r.fromUtf8(e)}),e},outputBigNumberFormatter:function(e){return r.toBigNumber(e)},outputTransactionFormatter:a,outputTransactionReceiptFormatter:function(e){return null!==e.blockNumber&&(e.blockNumber=r.toDecimal(e.blockNumber)),null!==e.transactionIndex&&(e.transactionIndex=r.toDecimal(e.transactionIndex)),e.cumulativeGasUsed=r.toDecimal(e.cumulativeGasUsed),e.gasUsed=r.toDecimal(e.gasUsed),r.isArray(e.logs)&&(e.logs=e.logs.map(function(e){return c(e)})),e},outputBlockFormatter:function(e){return e.gasLimit=r.toDecimal(e.gasLimit),e.gasUsed=r.toDecimal(e.gasUsed),e.size=r.toDecimal(e.size),e.timestamp=r.toDecimal(e.timestamp),null!==e.number&&(e.number=r.toDecimal(e.number)),e.difficulty=r.toBigNumber(e.difficulty),e.totalDifficulty=r.toBigNumber(e.totalDifficulty),r.isArray(e.transactions)&&e.transactions.forEach(function(e){if(!r.isString(e))return a(e)}),e},outputLogFormatter:c,outputPostFormatter:function(e){return e.expiry=r.toDecimal(e.expiry),e.sent=r.toDecimal(e.sent),e.ttl=r.toDecimal(e.ttl),e.workProved=r.toDecimal(e.workProved),e.topics||(e.topics=[]),e.topics=e.topics.map(function(e){return r.toAscii(e)}),e},outputSyncingFormatter:function(e){return e?(e.startingBlock=r.toDecimal(e.startingBlock),e.currentBlock=r.toDecimal(e.currentBlock),e.highestBlock=r.toDecimal(e.highestBlock),e.knownStates&&(e.knownStates=r.toDecimal(e.knownStates),e.pulledStates=r.toDecimal(e.pulledStates)),e):e}}},{"../utils/config":515,"../utils/utils":517,"./iban":530}],528:[function(e,t,n){var r=e("../solidity/coder"),i=e("../utils/utils"),o=e("./errors"),s=e("./formatters"),a=e("../utils/sha3"),c=function(e,t,n){this._eth=e,this._inputTypes=t.inputs.map(function(e){return e.type}),this._outputTypes=t.outputs.map(function(e){return e.type}),this._constant=t.constant,this._payable=t.payable,this._name=i.transformToFullName(t),this._address=n};c.prototype.extractCallback=function(e){if(i.isFunction(e[e.length-1]))return e.pop()},c.prototype.extractDefaultBlock=function(e){if(e.length>this._inputTypes.length&&!i.isObject(e[e.length-1]))return s.inputDefaultBlockNumberFormatter(e.pop())},c.prototype.validateArgs=function(e){if(e.filter(function(e){return!(!0===i.isObject(e)&&!1===i.isArray(e)&&!1===i.isBigNumber(e))}).length!==this._inputTypes.length)throw o.InvalidNumberOfSolidityArgs()},c.prototype.toPayload=function(e){var t={};return e.length>this._inputTypes.length&&i.isObject(e[e.length-1])&&(t=e[e.length-1]),this.validateArgs(e),t.to=this._address,t.data="0x"+this.signature()+r.encodeParams(this._inputTypes,e),t},c.prototype.signature=function(){return a(this._name).slice(0,8)},c.prototype.unpackOutput=function(e){if(e){e=e.length>=2?e.slice(2):e;var t=r.decodeParams(this._outputTypes,e);return 1===t.length?t[0]:t}},c.prototype.call=function(){var e=Array.prototype.slice.call(arguments).filter(function(e){return void 0!==e}),t=this.extractCallback(e),n=this.extractDefaultBlock(e),r=this.toPayload(e);if(!t){var i=this._eth.call(r,n);return this.unpackOutput(i)}var o=this;this._eth.call(r,n,function(e,n){if(e)return t(e,null);var r=null;try{r=o.unpackOutput(n)}catch(t){e=t}t(e,r)})},c.prototype.sendTransaction=function(){var e=Array.prototype.slice.call(arguments).filter(function(e){return void 0!==e}),t=this.extractCallback(e),n=this.toPayload(e);if(n.value>0&&!this._payable)throw new Error("Cannot send value to non-payable function");if(!t)return this._eth.sendTransaction(n);this._eth.sendTransaction(n,t)},c.prototype.estimateGas=function(){var e=Array.prototype.slice.call(arguments),t=this.extractCallback(e),n=this.toPayload(e);if(!t)return this._eth.estimateGas(n);this._eth.estimateGas(n,t)},c.prototype.getData=function(){var e=Array.prototype.slice.call(arguments);return this.toPayload(e).data},c.prototype.displayName=function(){return i.extractDisplayName(this._name)},c.prototype.typeName=function(){return i.extractTypeName(this._name)},c.prototype.request=function(){var e=Array.prototype.slice.call(arguments),t=this.extractCallback(e),n=this.toPayload(e),r=this.unpackOutput.bind(this);return{method:this._constant?"eth_call":"eth_sendTransaction",callback:t,params:[n],format:r}},c.prototype.execute=function(){return!this._constant?this.sendTransaction.apply(this,Array.prototype.slice.call(arguments)):this.call.apply(this,Array.prototype.slice.call(arguments))},c.prototype.attachToContract=function(e){var t=this.execute.bind(this);t.request=this.request.bind(this),t.call=this.call.bind(this),t.sendTransaction=this.sendTransaction.bind(this),t.estimateGas=this.estimateGas.bind(this),t.getData=this.getData.bind(this);var n=this.displayName();e[n]||(e[n]=t),e[n][this.typeName()]=t},t.exports=c},{"../solidity/coder":504,"../utils/sha3":516,"../utils/utils":517,"./errors":523,"./formatters":527}],529:[function(e,t,n){(function(n){var r=e("./errors");"undefined"!=typeof window&&window.XMLHttpRequest?XMLHttpRequest=window.XMLHttpRequest:XMLHttpRequest=e("xmlhttprequest").XMLHttpRequest;var i=e("xhr2"),o=function(e,t,n,r,i){this.host=e||"http://localhost:8545",this.timeout=t||0,this.user=n,this.password=r,this.headers=i};o.prototype.prepareRequest=function(e){var t;if(e?(t=new i).timeout=this.timeout:t=new XMLHttpRequest,t.open("POST",this.host,e),this.user&&this.password){var r="Basic "+new n(this.user+":"+this.password).toString("base64");t.setRequestHeader("Authorization",r)}return t.setRequestHeader("Content-Type","application/json"),this.headers&&this.headers.forEach(function(e){t.setRequestHeader(e.name,e.value)}),t},o.prototype.send=function(e){var t=this.prepareRequest(!1);try{t.send(JSON.stringify(e))}catch(e){throw r.InvalidConnection(this.host)}var n=t.responseText;try{n=JSON.parse(n)}catch(e){throw r.InvalidResponse(t.responseText)}return n},o.prototype.sendAsync=function(e,t){var n=this.prepareRequest(!0);n.onreadystatechange=function(){if(4===n.readyState&&1!==n.timeout){var e=n.responseText,i=null;try{e=JSON.parse(e)}catch(e){i=r.InvalidResponse(n.responseText)}t(i,e)}},n.ontimeout=function(){t(r.ConnectionTimeout(this.timeout))};try{n.send(JSON.stringify(e))}catch(e){t(r.InvalidConnection(this.host))}},o.prototype.isConnected=function(){try{return this.send({id:9999999999,jsonrpc:"2.0",method:"net_listening",params:[]}),!0}catch(e){return!1}},t.exports=o}).call(this,e("buffer").Buffer)},{"./errors":523,buffer:105,xhr2:549,xmlhttprequest:514}],530:[function(e,t,n){var r=e("bignumber.js"),i=function(e,t){for(var n=e;n.length<2*t;)n="0"+n;return n},o=function(e){var t="A".charCodeAt(0),n="Z".charCodeAt(0);return(e=(e=e.toUpperCase()).substr(4)+e.substr(0,4)).split("").map(function(e){var r=e.charCodeAt(0);return r>=t&&r<=n?r-t+10:e}).join("")},s=function(e){for(var t,n=e;n.length>2;)t=n.slice(0,9),n=parseInt(t,10)%97+n.slice(t.length);return parseInt(n,10)%97},a=function(e){this._iban=e};a.fromAddress=function(e){var t=new r(e,16).toString(36),n=i(t,15);return a.fromBban(n.toUpperCase())},a.fromBban=function(e){var t=("0"+(98-s(o("XE00"+e)))).slice(-2);return new a("XE"+t+e)},a.createIndirect=function(e){return a.fromBban("ETH"+e.institution+e.identifier)},a.isValid=function(e){return new a(e).isValid()},a.prototype.isValid=function(){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(this._iban)&&1===s(o(this._iban))},a.prototype.isDirect=function(){return 34===this._iban.length||35===this._iban.length},a.prototype.isIndirect=function(){return 20===this._iban.length},a.prototype.checksum=function(){return this._iban.substr(2,2)},a.prototype.institution=function(){return this.isIndirect()?this._iban.substr(7,4):""},a.prototype.client=function(){return this.isIndirect()?this._iban.substr(11):""},a.prototype.address=function(){if(this.isDirect()){var e=this._iban.substr(4),t=new r(e,36);return i(t.toString(16),20)}return""},a.prototype.toString=function(){return this._iban},t.exports=a},{"bignumber.js":547}],531:[function(e,t,n){"use strict";var r=e("../utils/utils"),i=e("./errors"),o=function(e,t){var n=this;this.responseCallbacks={},this.path=e,this.connection=t.connect({path:this.path}),this.connection.on("error",function(e){console.error("IPC Connection Error",e),n._timeout()}),this.connection.on("end",function(){n._timeout()}),this.connection.on("data",function(e){n._parseResponse(e.toString()).forEach(function(e){var t=null;r.isArray(e)?e.forEach(function(e){n.responseCallbacks[e.id]&&(t=e.id)}):t=e.id,n.responseCallbacks[t]&&(n.responseCallbacks[t](null,e),delete n.responseCallbacks[t])})})};o.prototype._parseResponse=function(e){var t=this,n=[];return e.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(function(e){t.lastChunk&&(e=t.lastChunk+e);var r=null;try{r=JSON.parse(e)}catch(n){return t.lastChunk=e,clearTimeout(t.lastChunkTimeout),void(t.lastChunkTimeout=setTimeout(function(){throw t._timeout(),i.InvalidResponse(e)},15e3))}clearTimeout(t.lastChunkTimeout),t.lastChunk=null,r&&n.push(r)}),n},o.prototype._addResponseCallback=function(e,t){var n=e.id||e[0].id,r=e.method||e[0].method;this.responseCallbacks[n]=t,this.responseCallbacks[n].method=r},o.prototype._timeout=function(){for(var e in this.responseCallbacks)this.responseCallbacks.hasOwnProperty(e)&&(this.responseCallbacks[e](i.InvalidConnection("on IPC")),delete this.responseCallbacks[e])},o.prototype.isConnected=function(){return this.connection.writable||this.connection.connect({path:this.path}),!!this.connection.writable},o.prototype.send=function(e){if(this.connection.writeSync){var t;this.connection.writable||this.connection.connect({path:this.path});var n=this.connection.writeSync(JSON.stringify(e));try{t=JSON.parse(n)}catch(e){throw i.InvalidResponse(n)}return t}throw new Error('You tried to send "'+e.method+'" synchronously. Synchronous requests are not supported by the IPC provider.')},o.prototype.sendAsync=function(e,t){this.connection.writable||this.connection.connect({path:this.path}),this.connection.write(JSON.stringify(e)),this._addResponseCallback(e,t)},t.exports=o},{"../utils/utils":517,"./errors":523}],532:[function(e,t,n){var r={messageId:0,toPayload:function(e,t){return e||console.error("jsonrpc method should be specified!"),r.messageId++,{jsonrpc:"2.0",id:r.messageId,method:e,params:t||[]}},isValidResponse:function(e){return Array.isArray(e)?e.every(t):t(e);function t(e){return!!e&&!e.error&&"2.0"===e.jsonrpc&&"number"==typeof e.id&&void 0!==e.result}},toBatchPayload:function(e){return e.map(function(e){return r.toPayload(e.method,e.params)})}};t.exports=r},{}],533:[function(e,t,n){var r=e("../utils/utils"),i=e("./errors"),o=function(e){this.name=e.name,this.call=e.call,this.params=e.params||0,this.inputFormatter=e.inputFormatter,this.outputFormatter=e.outputFormatter,this.requestManager=null};o.prototype.setRequestManager=function(e){this.requestManager=e},o.prototype.getCall=function(e){return r.isFunction(this.call)?this.call(e):this.call},o.prototype.extractCallback=function(e){if(r.isFunction(e[e.length-1]))return e.pop()},o.prototype.validateArgs=function(e){if(e.length!==this.params)throw i.InvalidNumberOfRPCParams()},o.prototype.formatInput=function(e){return this.inputFormatter?this.inputFormatter.map(function(t,n){return t?t(e[n]):e[n]}):e},o.prototype.formatOutput=function(e){return this.outputFormatter&&e?this.outputFormatter(e):e},o.prototype.toPayload=function(e){var t=this.getCall(e),n=this.extractCallback(e),r=this.formatInput(e);return this.validateArgs(r),{method:t,params:r,callback:n}},o.prototype.attachToObject=function(e){var t=this.buildCall();t.call=this.call;var n=this.name.split(".");n.length>1?(e[n[0]]=e[n[0]]||{},e[n[0]][n[1]]=t):e[n[0]]=t},o.prototype.buildCall=function(){var e=this,t=function(){var t=e.toPayload(Array.prototype.slice.call(arguments));return t.callback?e.requestManager.sendAsync(t,function(n,r){t.callback(n,e.formatOutput(r))}):e.formatOutput(e.requestManager.send(t))};return t.request=this.request.bind(this),t},o.prototype.request=function(){var e=this.toPayload(Array.prototype.slice.call(arguments));return e.format=this.formatOutput.bind(this),e},t.exports=o},{"../utils/utils":517,"./errors":523}],534:[function(e,t,n){var r=e("../method"),i=function(){return[new r({name:"putString",call:"db_putString",params:3}),new r({name:"getString",call:"db_getString",params:2}),new r({name:"putHex",call:"db_putHex",params:3}),new r({name:"getHex",call:"db_getHex",params:2})]};t.exports=function(e){this._requestManager=e._requestManager;var t=this;i().forEach(function(n){n.attachToObject(t),n.setRequestManager(e._requestManager)})}},{"../method":533}],535:[function(e,t,n){"use strict";var r=e("../formatters"),i=e("../../utils/utils"),o=e("../method"),s=e("../property"),a=e("../../utils/config"),c=e("../contract"),l=e("./watches"),u=e("../filter"),f=e("../syncing"),h=e("../namereg"),d=e("../iban"),p=e("../transfer"),m=function(e){return i.isString(e[0])&&0===e[0].indexOf("0x")?"eth_getBlockByHash":"eth_getBlockByNumber"},g=function(e){return i.isString(e[0])&&0===e[0].indexOf("0x")?"eth_getTransactionByBlockHashAndIndex":"eth_getTransactionByBlockNumberAndIndex"},v=function(e){return i.isString(e[0])&&0===e[0].indexOf("0x")?"eth_getUncleByBlockHashAndIndex":"eth_getUncleByBlockNumberAndIndex"},b=function(e){return i.isString(e[0])&&0===e[0].indexOf("0x")?"eth_getBlockTransactionCountByHash":"eth_getBlockTransactionCountByNumber"},y=function(e){return i.isString(e[0])&&0===e[0].indexOf("0x")?"eth_getUncleCountByBlockHash":"eth_getUncleCountByBlockNumber"};function _(e){this._requestManager=e._requestManager;var t=this;w().forEach(function(e){e.attachToObject(t),e.setRequestManager(t._requestManager)}),k().forEach(function(e){e.attachToObject(t),e.setRequestManager(t._requestManager)}),this.iban=d,this.sendIBANTransaction=p.bind(null,this)}Object.defineProperty(_.prototype,"defaultBlock",{get:function(){return a.defaultBlock},set:function(e){return a.defaultBlock=e,e}}),Object.defineProperty(_.prototype,"defaultAccount",{get:function(){return a.defaultAccount},set:function(e){return a.defaultAccount=e,e}});var w=function(){var e=new o({name:"getBalance",call:"eth_getBalance",params:2,inputFormatter:[r.inputAddressFormatter,r.inputDefaultBlockNumberFormatter],outputFormatter:r.outputBigNumberFormatter}),t=new o({name:"getStorageAt",call:"eth_getStorageAt",params:3,inputFormatter:[null,i.toHex,r.inputDefaultBlockNumberFormatter]}),n=new o({name:"getCode",call:"eth_getCode",params:2,inputFormatter:[r.inputAddressFormatter,r.inputDefaultBlockNumberFormatter]}),s=new o({name:"getBlock",call:m,params:2,inputFormatter:[r.inputBlockNumberFormatter,function(e){return!!e}],outputFormatter:r.outputBlockFormatter}),a=new o({name:"getUncle",call:v,params:2,inputFormatter:[r.inputBlockNumberFormatter,i.toHex],outputFormatter:r.outputBlockFormatter}),c=new o({name:"getCompilers",call:"eth_getCompilers",params:0}),l=new o({name:"getBlockTransactionCount",call:b,params:1,inputFormatter:[r.inputBlockNumberFormatter],outputFormatter:i.toDecimal}),u=new o({name:"getBlockUncleCount",call:y,params:1,inputFormatter:[r.inputBlockNumberFormatter],outputFormatter:i.toDecimal}),f=new o({name:"getTransaction",call:"eth_getTransactionByHash",params:1,outputFormatter:r.outputTransactionFormatter}),h=new o({name:"getTransactionFromBlock",call:g,params:2,inputFormatter:[r.inputBlockNumberFormatter,i.toHex],outputFormatter:r.outputTransactionFormatter}),d=new o({name:"getTransactionReceipt",call:"eth_getTransactionReceipt",params:1,outputFormatter:r.outputTransactionReceiptFormatter}),p=new o({name:"getTransactionCount",call:"eth_getTransactionCount",params:2,inputFormatter:[null,r.inputDefaultBlockNumberFormatter],outputFormatter:i.toDecimal}),_=new o({name:"sendRawTransaction",call:"eth_sendRawTransaction",params:1,inputFormatter:[null]}),w=new o({name:"sendTransaction",call:"eth_sendTransaction",params:1,inputFormatter:[r.inputTransactionFormatter]}),k=new o({name:"signTransaction",call:"eth_signTransaction",params:1,inputFormatter:[r.inputTransactionFormatter]}),x=new o({name:"sign",call:"eth_sign",params:2,inputFormatter:[r.inputAddressFormatter,null]});return[e,t,n,s,a,c,l,u,f,h,d,p,new o({name:"call",call:"eth_call",params:2,inputFormatter:[r.inputCallFormatter,r.inputDefaultBlockNumberFormatter]}),new o({name:"estimateGas",call:"eth_estimateGas",params:1,inputFormatter:[r.inputCallFormatter],outputFormatter:i.toDecimal}),_,k,w,x,new o({name:"compile.solidity",call:"eth_compileSolidity",params:1}),new o({name:"compile.lll",call:"eth_compileLLL",params:1}),new o({name:"compile.serpent",call:"eth_compileSerpent",params:1}),new o({name:"submitWork",call:"eth_submitWork",params:3}),new o({name:"getWork",call:"eth_getWork",params:0})]},k=function(){return[new s({name:"coinbase",getter:"eth_coinbase"}),new s({name:"mining",getter:"eth_mining"}),new s({name:"hashrate",getter:"eth_hashrate",outputFormatter:i.toDecimal}),new s({name:"syncing",getter:"eth_syncing",outputFormatter:r.outputSyncingFormatter}),new s({name:"gasPrice",getter:"eth_gasPrice",outputFormatter:r.outputBigNumberFormatter}),new s({name:"accounts",getter:"eth_accounts"}),new s({name:"blockNumber",getter:"eth_blockNumber",outputFormatter:i.toDecimal}),new s({name:"protocolVersion",getter:"eth_protocolVersion"})]};_.prototype.contract=function(e){return new c(this,e)},_.prototype.filter=function(e,t,n){return new u(e,"eth",this._requestManager,l.eth(),r.outputLogFormatter,t,n)},_.prototype.namereg=function(){return this.contract(h.global.abi).at(h.global.address)},_.prototype.icapNamereg=function(){return this.contract(h.icap.abi).at(h.icap.address)},_.prototype.isSyncing=function(e){return new f(this._requestManager,e)},t.exports=_},{"../../utils/config":515,"../../utils/utils":517,"../contract":522,"../filter":526,"../formatters":527,"../iban":530,"../method":533,"../namereg":541,"../property":542,"../syncing":545,"../transfer":546,"./watches":540}],536:[function(e,t,n){var r=e("../../utils/utils"),i=e("../property"),o=function(){return[new i({name:"listening",getter:"net_listening"}),new i({name:"peerCount",getter:"net_peerCount",outputFormatter:r.toDecimal})]};t.exports=function(e){this._requestManager=e._requestManager;var t=this;o().forEach(function(n){n.attachToObject(t),n.setRequestManager(e._requestManager)})}},{"../../utils/utils":517,"../property":542}],537:[function(e,t,n){"use strict";var r=e("../method"),i=e("../property"),o=e("../formatters");var s=function(){var e=new r({name:"newAccount",call:"personal_newAccount",params:1,inputFormatter:[null]}),t=new r({name:"importRawKey",call:"personal_importRawKey",params:2}),n=new r({name:"sign",call:"personal_sign",params:3,inputFormatter:[null,o.inputAddressFormatter,null]}),i=new r({name:"ecRecover",call:"personal_ecRecover",params:2});return[e,t,new r({name:"unlockAccount",call:"personal_unlockAccount",params:3,inputFormatter:[o.inputAddressFormatter,null,null]}),i,n,new r({name:"sendTransaction",call:"personal_sendTransaction",params:2,inputFormatter:[o.inputTransactionFormatter,null]}),new r({name:"lockAccount",call:"personal_lockAccount",params:1,inputFormatter:[o.inputAddressFormatter]})]},a=function(){return[new i({name:"listAccounts",getter:"personal_listAccounts"})]};t.exports=function(e){this._requestManager=e._requestManager;var t=this;s().forEach(function(e){e.attachToObject(t),e.setRequestManager(t._requestManager)}),a().forEach(function(e){e.attachToObject(t),e.setRequestManager(t._requestManager)})}},{"../formatters":527,"../method":533,"../property":542}],538:[function(e,t,n){var r=e("../method"),i=e("../filter"),o=e("./watches"),s=function(e){this._requestManager=e._requestManager;var t=this;a().forEach(function(e){e.attachToObject(t),e.setRequestManager(t._requestManager)})};s.prototype.newMessageFilter=function(e,t,n){return new i(e,"shh",this._requestManager,o.shh(),null,t,n)};var a=function(){return[new r({name:"version",call:"shh_version",params:0}),new r({name:"info",call:"shh_info",params:0}),new r({name:"setMaxMessageSize",call:"shh_setMaxMessageSize",params:1}),new r({name:"setMinPoW",call:"shh_setMinPoW",params:1}),new r({name:"markTrustedPeer",call:"shh_markTrustedPeer",params:1}),new r({name:"newKeyPair",call:"shh_newKeyPair",params:0}),new r({name:"addPrivateKey",call:"shh_addPrivateKey",params:1}),new r({name:"deleteKeyPair",call:"shh_deleteKeyPair",params:1}),new r({name:"hasKeyPair",call:"shh_hasKeyPair",params:1}),new r({name:"getPublicKey",call:"shh_getPublicKey",params:1}),new r({name:"getPrivateKey",call:"shh_getPrivateKey",params:1}),new r({name:"newSymKey",call:"shh_newSymKey",params:0}),new r({name:"addSymKey",call:"shh_addSymKey",params:1}),new r({name:"generateSymKeyFromPassword",call:"shh_generateSymKeyFromPassword",params:1}),new r({name:"hasSymKey",call:"shh_hasSymKey",params:1}),new r({name:"getSymKey",call:"shh_getSymKey",params:1}),new r({name:"deleteSymKey",call:"shh_deleteSymKey",params:1}),new r({name:"post",call:"shh_post",params:1,inputFormatter:[null]})]};t.exports=s},{"../filter":526,"../method":533,"./watches":540}],539:[function(e,t,n){"use strict";var r=e("../method"),i=e("../property");var o=function(){return[new r({name:"blockNetworkRead",call:"bzz_blockNetworkRead",params:1,inputFormatter:[null]}),new r({name:"syncEnabled",call:"bzz_syncEnabled",params:1,inputFormatter:[null]}),new r({name:"swapEnabled",call:"bzz_swapEnabled",params:1,inputFormatter:[null]}),new r({name:"download",call:"bzz_download",params:2,inputFormatter:[null,null]}),new r({name:"upload",call:"bzz_upload",params:2,inputFormatter:[null,null]}),new r({name:"retrieve",call:"bzz_retrieve",params:1,inputFormatter:[null]}),new r({name:"store",call:"bzz_store",params:2,inputFormatter:[null,null]}),new r({name:"get",call:"bzz_get",params:1,inputFormatter:[null]}),new r({name:"put",call:"bzz_put",params:2,inputFormatter:[null,null]}),new r({name:"modify",call:"bzz_modify",params:4,inputFormatter:[null,null,null,null]})]},s=function(){return[new i({name:"hive",getter:"bzz_hive"}),new i({name:"info",getter:"bzz_info"})]};t.exports=function(e){this._requestManager=e._requestManager;var t=this;o().forEach(function(e){e.attachToObject(t),e.setRequestManager(t._requestManager)}),s().forEach(function(e){e.attachToObject(t),e.setRequestManager(t._requestManager)})}},{"../method":533,"../property":542}],540:[function(e,t,n){var r=e("../method");t.exports={eth:function(){return[new r({name:"newFilter",call:function(e){switch(e[0]){case"latest":return e.shift(),this.params=0,"eth_newBlockFilter";case"pending":return e.shift(),this.params=0,"eth_newPendingTransactionFilter";default:return"eth_newFilter"}},params:1}),new r({name:"uninstallFilter",call:"eth_uninstallFilter",params:1}),new r({name:"getLogs",call:"eth_getFilterLogs",params:1}),new r({name:"poll",call:"eth_getFilterChanges",params:1})]},shh:function(){return[new r({name:"newFilter",call:"shh_newMessageFilter",params:1}),new r({name:"uninstallFilter",call:"shh_deleteMessageFilter",params:1}),new r({name:"getLogs",call:"shh_getFilterMessages",params:1}),new r({name:"poll",call:"shh_getFilterMessages",params:1})]}}},{"../method":533}],541:[function(e,t,n){var r=e("../contracts/GlobalRegistrar.json"),i=e("../contracts/ICAPRegistrar.json");t.exports={global:{abi:r,address:"0xc6d9d2cd449a754c494264e1809c50e34d64562b"},icap:{abi:i,address:"0xa1a111bc074c9cfa781f0c38e63bd51c91b8af00"}}},{"../contracts/GlobalRegistrar.json":498,"../contracts/ICAPRegistrar.json":499}],542:[function(e,t,n){var r=e("../utils/utils"),i=function(e){this.name=e.name,this.getter=e.getter,this.setter=e.setter,this.outputFormatter=e.outputFormatter,this.inputFormatter=e.inputFormatter,this.requestManager=null};i.prototype.setRequestManager=function(e){this.requestManager=e},i.prototype.formatInput=function(e){return this.inputFormatter?this.inputFormatter(e):e},i.prototype.formatOutput=function(e){return this.outputFormatter&&null!==e&&void 0!==e?this.outputFormatter(e):e},i.prototype.extractCallback=function(e){if(r.isFunction(e[e.length-1]))return e.pop()},i.prototype.attachToObject=function(e){var t={get:this.buildGet(),enumerable:!0},n=this.name.split("."),r=n[0];n.length>1&&(e[n[0]]=e[n[0]]||{},e=e[n[0]],r=n[1]),Object.defineProperty(e,r,t),e[o(r)]=this.buildAsyncGet()};var o=function(e){return"get"+e.charAt(0).toUpperCase()+e.slice(1)};i.prototype.buildGet=function(){var e=this;return function(){return e.formatOutput(e.requestManager.send({method:e.getter}))}},i.prototype.buildAsyncGet=function(){var e=this,t=function(t){e.requestManager.sendAsync({method:e.getter},function(n,r){t(n,e.formatOutput(r))})};return t.request=this.request.bind(this),t},i.prototype.request=function(){var e={method:this.getter,params:[],callback:this.extractCallback(Array.prototype.slice.call(arguments))};return e.format=this.formatOutput.bind(this),e},t.exports=i},{"../utils/utils":517}],543:[function(e,t,n){var r=e("./jsonrpc"),i=e("../utils/utils"),o=e("../utils/config"),s=e("./errors"),a=function(e){this.provider=e,this.polls={},this.timeout=null};a.prototype.send=function(e){if(!this.provider)return console.error(s.InvalidProvider()),null;var t=r.toPayload(e.method,e.params),n=this.provider.send(t);if(!r.isValidResponse(n))throw s.InvalidResponse(n);return n.result},a.prototype.sendAsync=function(e,t){if(!this.provider)return t(s.InvalidProvider());var n=r.toPayload(e.method,e.params);this.provider.sendAsync(n,function(e,n){return e?t(e):r.isValidResponse(n)?void t(null,n.result):t(s.InvalidResponse(n))})},a.prototype.sendBatch=function(e,t){if(!this.provider)return t(s.InvalidProvider());var n=r.toBatchPayload(e);this.provider.sendAsync(n,function(e,n){return e?t(e):i.isArray(n)?void t(e,n):t(s.InvalidResponse(n))})},a.prototype.setProvider=function(e){this.provider=e},a.prototype.startPolling=function(e,t,n,r){this.polls[t]={data:e,id:t,callback:n,uninstall:r},this.timeout||this.poll()},a.prototype.stopPolling=function(e){delete this.polls[e],0===Object.keys(this.polls).length&&this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},a.prototype.reset=function(e){for(var t in this.polls)e&&-1!==t.indexOf("syncPoll_")||(this.polls[t].uninstall(),delete this.polls[t]);0===Object.keys(this.polls).length&&this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},a.prototype.poll=function(){if(this.timeout=setTimeout(this.poll.bind(this),o.ETH_POLLING_TIMEOUT),0!==Object.keys(this.polls).length)if(this.provider){var e=[],t=[];for(var n in this.polls)e.push(this.polls[n].data),t.push(n);if(0!==e.length){var a=r.toBatchPayload(e),c={};a.forEach(function(e,n){c[e.id]=t[n]});var l=this;this.provider.sendAsync(a,function(e,t){if(!e){if(!i.isArray(t))throw s.InvalidResponse(t);t.map(function(e){var t=c[e.id];return!!l.polls[t]&&(e.callback=l.polls[t].callback,e)}).filter(function(e){return!!e}).filter(function(e){var t=r.isValidResponse(e);return t||e.callback(s.InvalidResponse(e)),t}).forEach(function(e){e.callback(null,e.result)})}})}}else console.error(s.InvalidProvider())},t.exports=a},{"../utils/config":515,"../utils/utils":517,"./errors":523,"./jsonrpc":532}],544:[function(e,t,n){t.exports=function(){this.defaultBlock="latest",this.defaultAccount=void 0}},{}],545:[function(e,t,n){var r=e("./formatters"),i=e("../utils/utils"),o=1,s=function(e,t){var n;return this.requestManager=e,this.pollId="syncPoll_"+o++,this.callbacks=[],this.addCallback(t),this.lastSyncState=!1,(n=this).requestManager.startPolling({method:"eth_syncing",params:[]},n.pollId,function(e,t){if(e)return n.callbacks.forEach(function(t){t(e)});i.isObject(t)&&t.startingBlock&&(t=r.outputSyncingFormatter(t)),n.callbacks.forEach(function(e){n.lastSyncState!==t&&(!n.lastSyncState&&i.isObject(t)&&e(null,!0),setTimeout(function(){e(null,t)},0),n.lastSyncState=t)})},n.stopWatching.bind(n)),this};s.prototype.addCallback=function(e){return e&&this.callbacks.push(e),this},s.prototype.stopWatching=function(){this.requestManager.stopPolling(this.pollId),this.callbacks=[]},t.exports=s},{"../utils/utils":517,"./formatters":527}],546:[function(e,t,n){var r=e("./iban"),i=e("../contracts/SmartExchange.json"),o=function(e,t,n,r,i){return e.sendTransaction({address:n,from:t,value:r},i)},s=function(e,t,n,r,o,s){var a=i;return e.contract(a).at(n).deposit(o,{from:t,value:r},s)};t.exports=function(e,t,n,i,a){var c=new r(n);if(!c.isValid())throw new Error("invalid iban address");if(c.isDirect())return o(e,t,c.address(),i,a);if(!a){var l=e.icapNamereg().addr(c.institution());return s(e,t,l,i,c.client())}e.icapNamereg().addr(c.institution(),function(n,r){return s(e,t,r,i,c.client(),a)})}},{"../contracts/SmartExchange.json":500,"./iban":530}],547:[function(e,t,n){!function(n){"use strict";var r,i,o,s=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,a=Math.ceil,c=Math.floor,l=" not a boolean or binary digit",u="rounding mode",f="number type has more than 15 significant digits",h="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",d=1e14,p=14,m=9007199254740991,g=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],v=1e7,b=1e9;function y(e){var t=0|e;return e>0||e===t?t:t-1}function _(e){for(var t,n,r=1,i=e.length,o=e[0]+"";r<i;){for(t=e[r++]+"",n=p-t.length;n--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function w(e,t){var n,r,i=e.c,o=t.c,s=e.s,a=t.s,c=e.e,l=t.e;if(!s||!a)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-a:s;if(s!=a)return s;if(n=s<0,r=c==l,!i||!o)return r?0:!i^n?1:-1;if(!r)return c>l^n?1:-1;for(a=(c=i.length)<(l=o.length)?c:l,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^n?1:-1;return c==l?0:c>l^n?1:-1}function k(e,t,n){return(e=E(e))>=t&&e<=n}function x(e){return"[object Array]"==Object.prototype.toString.call(e)}function S(e,t,n){for(var r,i,o=[0],s=0,a=e.length;s<a;){for(i=o.length;i--;o[i]*=t);for(o[r=0]+=h.indexOf(e.charAt(s++));r<o.length;r++)o[r]>n-1&&(null==o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}function C(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function A(e,t){var n,r;if(t<0){for(r="0.";++t;r+="0");e=r+e}else if(++t>(n=e.length)){for(r="0",t-=n;--t;r+="0");e+=r}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}function E(e){return(e=parseFloat(e))<0?a(e):c(e)}if(r=function e(t){var n,r,T,I,D,M,O,P=0,j=G.prototype,N=new G(1),B=20,R=4,L=-7,F=21,H=-1e7,z=1e7,q=!0,U=Z,$=!1,W=1,V=100,K={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0};function G(e,t){var n,r,i,a,c,l,u=this;if(!(u instanceof G))return q&&ee(26,"constructor call without new",e),new G(e,t);if(null!=t&&U(t,2,64,P,"base")){if(l=e+"",10==(t|=0))return te(u=new G(e instanceof G?e:l),B+u.e+1,R);if((a="number"==typeof e)&&0*e!=0||!new RegExp("^-?"+(n="["+h.slice(0,t)+"]+")+"(?:\\."+n+")?$",t<37?"i":"").test(l))return o(u,l,a,t);a?(u.s=1/e<0?(l=l.slice(1),-1):1,q&&l.replace(/^0\.0*|\./,"").length>15&&ee(P,f,e),a=!1):u.s=45===l.charCodeAt(0)?(l=l.slice(1),-1):1,l=Y(l,10,t,u.s)}else{if(e instanceof G)return u.s=e.s,u.e=e.e,u.c=(e=e.c)?e.slice():e,void(P=0);if((a="number"==typeof e)&&0*e==0){if(u.s=1/e<0?(e=-e,-1):1,e===~~e){for(r=0,i=e;i>=10;i/=10,r++);return u.e=r,u.c=[e],void(P=0)}l=e+""}else{if(!s.test(l=e+""))return o(u,l,a);u.s=45===l.charCodeAt(0)?(l=l.slice(1),-1):1}}for((r=l.indexOf("."))>-1&&(l=l.replace(".","")),(i=l.search(/e/i))>0?(r<0&&(r=i),r+=+l.slice(i+1),l=l.substring(0,i)):r<0&&(r=l.length),i=0;48===l.charCodeAt(i);i++);for(c=l.length;48===l.charCodeAt(--c););if(l=l.slice(i,c+1))if(c=l.length,a&&q&&c>15&&ee(P,f,u.s*e),(r=r-i-1)>z)u.c=u.e=null;else if(r<H)u.c=[u.e=0];else{if(u.e=r,u.c=[],i=(r+1)%p,r<0&&(i+=p),i<c){for(i&&u.c.push(+l.slice(0,i)),c-=p;i<c;)u.c.push(+l.slice(i,i+=p));l=l.slice(i),i=p-l.length}else i-=c;for(;i--;l+="0");u.c.push(+l)}else u.c=[u.e=0];P=0}function Y(e,t,r,i){var o,s,a,c,l,u,f,d=e.indexOf("."),p=B,m=R;for(r<37&&(e=e.toLowerCase()),d>=0&&(a=V,V=0,e=e.replace(".",""),l=(f=new G(r)).pow(e.length-d),V=a,f.c=S(A(_(l.c),l.e),10,t),f.e=f.c.length),s=a=(u=S(e,r,t)).length;0==u[--a];u.pop());if(!u[0])return"0";if(d<0?--s:(l.c=u,l.e=s,l.s=i,u=(l=n(l,f,p,m,t)).c,c=l.r,s=l.e),d=u[o=s+p+1],a=t/2,c=c||o<0||null!=u[o+1],c=m<4?(null!=d||c)&&(0==m||m==(l.s<0?3:2)):d>a||d==a&&(4==m||c||6==m&&1&u[o-1]||m==(l.s<0?8:7)),o<1||!u[0])e=c?A("1",-p):"0";else{if(u.length=o,c)for(--t;++u[--o]>t;)u[o]=0,o||(++s,u.unshift(1));for(a=u.length;!u[--a];);for(d=0,e="";d<=a;e+=h.charAt(u[d++]));e=A(e,s)}return e}function X(e,t,n,r){var i,o,s,a,c;if(n=null!=n&&U(n,0,8,r,u)?0|n:R,!e.c)return e.toString();if(i=e.c[0],s=e.e,null==t)c=_(e.c),c=19==r||24==r&&s<=L?C(c,s):A(c,s);else if(o=(e=te(new G(e),t,n)).e,a=(c=_(e.c)).length,19==r||24==r&&(t<=o||o<=L)){for(;a<t;c+="0",a++);c=C(c,o)}else if(t-=s,c=A(c,o),o+1>a){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=o-a)>0)for(o+1==a&&(c+=".");t--;c+="0");return e.s<0&&i?"-"+c:c}function J(e,t){var n,r,i=0;for(x(e[0])&&(e=e[0]),n=new G(e[0]);++i<e.length;){if(!(r=new G(e[i])).s){n=r;break}t.call(n,r)&&(n=r)}return n}function Z(e,t,n,r,i){return(e<t||e>n||e!=E(e))&&ee(r,(i||"decimal places")+(e<t||e>n?" out of range":" not an integer"),e),!0}function Q(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+n*p-1)>z?e.c=e.e=null:n<H?e.c=[e.e=0]:(e.e=n,e.c=t),e}function ee(e,t,n){var r=new Error(["new BigNumber","cmp","config","div","divToInt","eq","gt","gte","lt","lte","minus","mod","plus","precision","random","round","shift","times","toDigits","toExponential","toFixed","toFormat","toFraction","pow","toPrecision","toString","BigNumber"][e]+"() "+t+": "+n);throw r.name="BigNumber Error",P=0,r}function te(e,t,n,r){var i,o,s,l,u,f,h,m=e.c,v=g;if(m){e:{for(i=1,l=m[0];l>=10;l/=10,i++);if((o=t-i)<0)o+=p,s=t,h=(u=m[f=0])/v[i-s-1]%10|0;else if((f=a((o+1)/p))>=m.length){if(!r)break e;for(;m.length<=f;m.push(0));u=h=0,i=1,s=(o%=p)-p+1}else{for(u=l=m[f],i=1;l>=10;l/=10,i++);h=(s=(o%=p)-p+i)<0?0:u/v[i-s-1]%10|0}if(r=r||t<0||null!=m[f+1]||(s<0?u:u%v[i-s-1]),r=n<4?(h||r)&&(0==n||n==(e.s<0?3:2)):h>5||5==h&&(4==n||r||6==n&&(o>0?s>0?u/v[i-s]:0:m[f-1])%10&1||n==(e.s<0?8:7)),t<1||!m[0])return m.length=0,r?(t-=e.e+1,m[0]=v[t%p],e.e=-t||0):m[0]=e.e=0,e;if(0==o?(m.length=f,l=1,f--):(m.length=f+1,l=v[p-o],m[f]=s>0?c(u/v[i-s]%v[s])*l:0),r)for(;;){if(0==f){for(o=1,s=m[0];s>=10;s/=10,o++);for(s=m[0]+=l,l=1;s>=10;s/=10,l++);o!=l&&(e.e++,m[0]==d&&(m[0]=1));break}if(m[f]+=l,m[f]!=d)break;m[f--]=0,l=1}for(o=m.length;0===m[--o];m.pop());}e.e>z?e.c=e.e=null:e.e<H&&(e.c=[e.e=0])}return e}return G.another=e,G.ROUND_UP=0,G.ROUND_DOWN=1,G.ROUND_CEIL=2,G.ROUND_FLOOR=3,G.ROUND_HALF_UP=4,G.ROUND_HALF_DOWN=5,G.ROUND_HALF_EVEN=6,G.ROUND_HALF_CEIL=7,G.ROUND_HALF_FLOOR=8,G.EUCLID=9,G.config=function(){var e,t,n=0,r={},o=arguments,s=o[0],a=s&&"object"==typeof s?function(){if(s.hasOwnProperty(t))return null!=(e=s[t])}:function(){if(o.length>n)return null!=(e=o[n++])};return a(t="DECIMAL_PLACES")&&U(e,0,b,2,t)&&(B=0|e),r[t]=B,a(t="ROUNDING_MODE")&&U(e,0,8,2,t)&&(R=0|e),r[t]=R,a(t="EXPONENTIAL_AT")&&(x(e)?U(e[0],-b,0,2,t)&&U(e[1],0,b,2,t)&&(L=0|e[0],F=0|e[1]):U(e,-b,b,2,t)&&(L=-(F=0|(e<0?-e:e)))),r[t]=[L,F],a(t="RANGE")&&(x(e)?U(e[0],-b,-1,2,t)&&U(e[1],1,b,2,t)&&(H=0|e[0],z=0|e[1]):U(e,-b,b,2,t)&&(0|e?H=-(z=0|(e<0?-e:e)):q&&ee(2,t+" cannot be zero",e))),r[t]=[H,z],a(t="ERRORS")&&(e===!!e||1===e||0===e?(P=0,U=(q=!!e)?Z:k):q&&ee(2,t+l,e)),r[t]=q,a(t="CRYPTO")&&(e===!!e||1===e||0===e?($=!(!e||!i||"object"!=typeof i),e&&!$&&q&&ee(2,"crypto unavailable",i)):q&&ee(2,t+l,e)),r[t]=$,a(t="MODULO_MODE")&&U(e,0,9,2,t)&&(W=0|e),r[t]=W,a(t="POW_PRECISION")&&U(e,0,b,2,t)&&(V=0|e),r[t]=V,a(t="FORMAT")&&("object"==typeof e?K=e:q&&ee(2,t+" not an object",e)),r[t]=K,r},G.max=function(){return J(arguments,j.lt)},G.min=function(){return J(arguments,j.gt)},G.random=(r=9007199254740992*Math.random()&2097151?function(){return c(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,o,s,l,u=0,f=[],h=new G(N);if(e=null!=e&&U(e,0,b,14)?0|e:B,s=a(e/p),$)if(i&&i.getRandomValues){for(t=i.getRandomValues(new Uint32Array(s*=2));u<s;)(l=131072*t[u]+(t[u+1]>>>11))>=9e15?(n=i.getRandomValues(new Uint32Array(2)),t[u]=n[0],t[u+1]=n[1]):(f.push(l%1e14),u+=2);u=s/2}else if(i&&i.randomBytes){for(t=i.randomBytes(s*=7);u<s;)(l=281474976710656*(31&t[u])+1099511627776*t[u+1]+4294967296*t[u+2]+16777216*t[u+3]+(t[u+4]<<16)+(t[u+5]<<8)+t[u+6])>=9e15?i.randomBytes(7).copy(t,u):(f.push(l%1e14),u+=7);u=s/7}else q&&ee(14,"crypto unavailable",i);if(!u)for(;u<s;)(l=r())<9e15&&(f[u++]=l%1e14);for(s=f[--u],e%=p,s&&e&&(l=g[p-e],f[u]=c(s/l)*l);0===f[u];f.pop(),u--);if(u<0)f=[o=0];else{for(o=-1;0===f[0];f.shift(),o-=p);for(u=1,l=f[0];l>=10;l/=10,u++);u<p&&(o-=p-u)}return h.e=o,h.c=f,h}),n=function(){function e(e,t,n){var r,i,o,s,a=0,c=e.length,l=t%v,u=t/v|0;for(e=e.slice();c--;)a=((i=l*(o=e[c]%v)+(r=u*o+(s=e[c]/v|0)*l)%v*v+a)/n|0)+(r/v|0)+u*s,e[c]=i%n;return a&&e.unshift(a),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.shift());}return function(r,i,o,s,a){var l,u,f,h,m,g,v,b,_,w,k,x,S,C,A,E,T,I=r.s==i.s?1:-1,D=r.c,M=i.c;if(!(D&&D[0]&&M&&M[0]))return new G(r.s&&i.s&&(D?!M||D[0]!=M[0]:M)?D&&0==D[0]||!M?0*I:I/0:NaN);for(_=(b=new G(I)).c=[],I=o+(u=r.e-i.e)+1,a||(a=d,u=y(r.e/p)-y(i.e/p),I=I/p|0),f=0;M[f]==(D[f]||0);f++);if(M[f]>(D[f]||0)&&u--,I<0)_.push(1),h=!0;else{for(C=D.length,E=M.length,f=0,I+=2,(m=c(a/(M[0]+1)))>1&&(M=e(M,m,a),D=e(D,m,a),E=M.length,C=D.length),S=E,k=(w=D.slice(0,E)).length;k<E;w[k++]=0);(T=M.slice()).unshift(0),A=M[0],M[1]>=a/2&&A++;do{if(m=0,(l=t(M,w,E,k))<0){if(x=w[0],E!=k&&(x=x*a+(w[1]||0)),(m=c(x/A))>1)for(m>=a&&(m=a-1),v=(g=e(M,m,a)).length,k=w.length;1==t(g,w,v,k);)m--,n(g,E<v?T:M,v,a),v=g.length,l=1;else 0==m&&(l=m=1),v=(g=M.slice()).length;if(v<k&&g.unshift(0),n(w,g,k,a),k=w.length,-1==l)for(;t(M,w,E,k)<1;)m++,n(w,E<k?T:M,k,a),k=w.length}else 0===l&&(m++,w=[0]);_[f++]=m,w[0]?w[k++]=D[S]||0:(w=[D[S]],k=1)}while((S++<C||null!=w[0])&&I--);h=null!=w[0],_[0]||_.shift()}if(a==d){for(f=1,I=_[0];I>=10;I/=10,f++);te(b,o+(b.e=f+u*p-1)+1,s,h)}else b.e=u,b.r=+h;return b}}(),T=/^(-?)0([xbo])/i,I=/^([^.]+)\.$/,D=/^\.([^.]+)$/,M=/^-?(Infinity|NaN)$/,O=/^\s*\+|^\s+|\s+$/g,o=function(e,t,n,r){var i,o=n?t:t.replace(O,"");if(M.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!n&&(o=o.replace(T,function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t}),r&&(i=r,o=o.replace(I,"$1").replace(D,"0.$1")),t!=o))return new G(o,i);q&&ee(P,"not a"+(r?" base "+r:"")+" number",t),e.s=null}e.c=e.e=null,P=0},j.absoluteValue=j.abs=function(){var e=new G(this);return e.s<0&&(e.s=1),e},j.ceil=function(){return te(new G(this),this.e+1,2)},j.comparedTo=j.cmp=function(e,t){return P=1,w(this,new G(e,t))},j.decimalPlaces=j.dp=function(){var e,t,n=this.c;if(!n)return null;if(e=((t=n.length-1)-y(this.e/p))*p,t=n[t])for(;t%10==0;t/=10,e--);return e<0&&(e=0),e},j.dividedBy=j.div=function(e,t){return P=3,n(this,new G(e,t),B,R)},j.dividedToIntegerBy=j.divToInt=function(e,t){return P=4,n(this,new G(e,t),0,1)},j.equals=j.eq=function(e,t){return P=5,0===w(this,new G(e,t))},j.floor=function(){return te(new G(this),this.e+1,3)},j.greaterThan=j.gt=function(e,t){return P=6,w(this,new G(e,t))>0},j.greaterThanOrEqualTo=j.gte=function(e,t){return P=7,1===(t=w(this,new G(e,t)))||0===t},j.isFinite=function(){return!!this.c},j.isInteger=j.isInt=function(){return!!this.c&&y(this.e/p)>this.c.length-2},j.isNaN=function(){return!this.s},j.isNegative=j.isNeg=function(){return this.s<0},j.isZero=function(){return!!this.c&&0==this.c[0]},j.lessThan=j.lt=function(e,t){return P=8,w(this,new G(e,t))<0},j.lessThanOrEqualTo=j.lte=function(e,t){return P=9,-1===(t=w(this,new G(e,t)))||0===t},j.minus=j.sub=function(e,t){var n,r,i,o,s=this,a=s.s;if(P=10,t=(e=new G(e,t)).s,!a||!t)return new G(NaN);if(a!=t)return e.s=-t,s.plus(e);var c=s.e/p,l=e.e/p,u=s.c,f=e.c;if(!c||!l){if(!u||!f)return u?(e.s=-t,e):new G(f?s:NaN);if(!u[0]||!f[0])return f[0]?(e.s=-t,e):new G(u[0]?s:3==R?-0:0)}if(c=y(c),l=y(l),u=u.slice(),a=c-l){for((o=a<0)?(a=-a,i=u):(l=c,i=f),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(r=(o=(a=u.length)<(t=f.length))?a:t,a=t=0;t<r;t++)if(u[t]!=f[t]){o=u[t]<f[t];break}if(o&&(i=u,u=f,f=i,e.s=-e.s),(t=(r=f.length)-(n=u.length))>0)for(;t--;u[n++]=0);for(t=d-1;r>a;){if(u[--r]<f[r]){for(n=r;n&&!u[--n];u[n]=t);--u[n],u[r]+=d}u[r]-=f[r]}for(;0==u[0];u.shift(),--l);return u[0]?Q(e,u,l):(e.s=3==R?-1:1,e.c=[e.e=0],e)},j.modulo=j.mod=function(e,t){var r,i,o=this;return P=11,e=new G(e,t),!o.c||!e.s||e.c&&!e.c[0]?new G(NaN):!e.c||o.c&&!o.c[0]?new G(o):(9==W?(i=e.s,e.s=1,r=n(o,e,0,3),e.s=i,r.s*=i):r=n(o,e,0,W),o.minus(r.times(e)))},j.negated=j.neg=function(){var e=new G(this);return e.s=-e.s||null,e},j.plus=j.add=function(e,t){var n,r=this,i=r.s;if(P=12,t=(e=new G(e,t)).s,!i||!t)return new G(NaN);if(i!=t)return e.s=-t,r.minus(e);var o=r.e/p,s=e.e/p,a=r.c,c=e.c;if(!o||!s){if(!a||!c)return new G(i/0);if(!a[0]||!c[0])return c[0]?e:new G(a[0]?r:0*i)}if(o=y(o),s=y(s),a=a.slice(),i=o-s){for(i>0?(s=o,n=c):(i=-i,n=a),n.reverse();i--;n.push(0));n.reverse()}for((i=a.length)-(t=c.length)<0&&(n=c,c=a,a=n,t=i),i=0;t;)i=(a[--t]=a[t]+c[t]+i)/d|0,a[t]%=d;return i&&(a.unshift(i),++s),Q(e,a,s)},j.precision=j.sd=function(e){var t,n,r=this,i=r.c;if(null!=e&&e!==!!e&&1!==e&&0!==e&&(q&&ee(13,"argument"+l,e),e!=!!e&&(e=null)),!i)return null;if(t=(n=i.length-1)*p+1,n=i[n]){for(;n%10==0;n/=10,t--);for(n=i[0];n>=10;n/=10,t++);}return e&&r.e+1>t&&(t=r.e+1),t},j.round=function(e,t){var n=new G(this);return(null==e||U(e,0,b,15))&&te(n,~~e+this.e+1,null!=t&&U(t,0,8,15,u)?0|t:R),n},j.shift=function(e){var t=this;return U(e,-m,m,16,"argument")?t.times("1e"+E(e)):new G(t.c&&t.c[0]&&(e<-m||e>m)?t.s*(e<0?0:1/0):t)},j.squareRoot=j.sqrt=function(){var e,t,r,i,o,s=this,a=s.c,c=s.s,l=s.e,u=B+4,f=new G("0.5");if(1!==c||!a||!a[0])return new G(!c||c<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(c=Math.sqrt(+s))||c==1/0?(((t=_(a)).length+l)%2==0&&(t+="0"),c=Math.sqrt(t),l=y((l+1)/2)-(l<0||l%2),r=new G(t=c==1/0?"1e"+l:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+l)):r=new G(c+""),r.c[0])for((c=(l=r.e)+u)<3&&(c=0);;)if(o=r,r=f.times(o.plus(n(s,o,u,1))),_(o.c).slice(0,c)===(t=_(r.c)).slice(0,c)){if(r.e<l&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(te(r,r.e+B+2,1),e=!r.times(r).eq(s));break}if(!i&&(te(o,o.e+B+2,0),o.times(o).eq(s))){r=o;break}u+=4,c+=4,i=1}return te(r,r.e+B+1,R,e)},j.times=j.mul=function(e,t){var n,r,i,o,s,a,c,l,u,f,h,m,g,b,_,w=this,k=w.c,x=(P=17,e=new G(e,t)).c;if(!(k&&x&&k[0]&&x[0]))return!w.s||!e.s||k&&!k[0]&&!x||x&&!x[0]&&!k?e.c=e.e=e.s=null:(e.s*=w.s,k&&x?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=y(w.e/p)+y(e.e/p),e.s*=w.s,(c=k.length)<(f=x.length)&&(g=k,k=x,x=g,i=c,c=f,f=i),i=c+f,g=[];i--;g.push(0));for(b=d,_=v,i=f;--i>=0;){for(n=0,h=x[i]%_,m=x[i]/_|0,o=i+(s=c);o>i;)n=((l=h*(l=k[--s]%_)+(a=m*l+(u=k[s]/_|0)*h)%_*_+g[o]+n)/b|0)+(a/_|0)+m*u,g[o--]=l%b;g[o]=n}return n?++r:g.shift(),Q(e,g,r)},j.toDigits=function(e,t){var n=new G(this);return e=null!=e&&U(e,1,b,18,"precision")?0|e:null,t=null!=t&&U(t,0,8,18,u)?0|t:R,e?te(n,e,t):n},j.toExponential=function(e,t){return X(this,null!=e&&U(e,0,b,19)?1+~~e:null,t,19)},j.toFixed=function(e,t){return X(this,null!=e&&U(e,0,b,20)?~~e+this.e+1:null,t,20)},j.toFormat=function(e,t){var n=X(this,null!=e&&U(e,0,b,21)?~~e+this.e+1:null,t,21);if(this.c){var r,i=n.split("."),o=+K.groupSize,s=+K.secondaryGroupSize,a=K.groupSeparator,c=i[0],l=i[1],u=this.s<0,f=u?c.slice(1):c,h=f.length;if(s&&(r=o,o=s,s=r,h-=r),o>0&&h>0){for(r=h%o||o,c=f.substr(0,r);r<h;r+=o)c+=a+f.substr(r,o);s>0&&(c+=a+f.slice(r)),u&&(c="-"+c)}n=l?c+K.decimalSeparator+((s=+K.fractionGroupSize)?l.replace(new RegExp("\\d{"+s+"}\\B","g"),"$&"+K.fractionGroupSeparator):l):c}return n},j.toFraction=function(e){var t,r,i,o,s,a,c,l,u,f=q,h=this,d=h.c,m=new G(N),v=r=new G(N),b=c=new G(N);if(null!=e&&(q=!1,a=new G(e),q=f,(f=a.isInt())&&!a.lt(N)||(q&&ee(22,"max denominator "+(f?"out of range":"not an integer"),e),e=!f&&a.c&&te(a,a.e+1,1).gte(N)?a:null)),!d)return h.toString();for(u=_(d),o=m.e=u.length-h.e-1,m.c[0]=g[(s=o%p)<0?p+s:s],e=!e||a.cmp(m)>0?o>0?m:v:a,s=z,z=1/0,a=new G(u),c.c[0]=0;l=n(a,m,0,1),1!=(i=r.plus(l.times(b))).cmp(e);)r=b,b=i,v=c.plus(l.times(i=v)),c=i,m=a.minus(l.times(i=m)),a=i;return i=n(e.minus(r),b,0,1),c=c.plus(i.times(v)),r=r.plus(i.times(b)),c.s=v.s=h.s,t=n(v,b,o*=2,R).minus(h).abs().cmp(n(c,r,o,R).minus(h).abs())<1?[v.toString(),b.toString()]:[c.toString(),r.toString()],z=s,t},j.toNumber=function(){var e=this;return+e||(e.s?0*e.s:NaN)},j.toPower=j.pow=function(e){var t,n,r=c(e<0?-e:+e),i=this;if(!U(e,-m,m,23,"exponent")&&(!isFinite(e)||r>m&&(e/=0)||parseFloat(e)!=e&&!(e=NaN)))return new G(Math.pow(+i,e));for(t=V?a(V/p+2):0,n=new G(N);;){if(r%2){if(!(n=n.times(i)).c)break;t&&n.c.length>t&&(n.c.length=t)}if(!(r=c(r/2)))break;i=i.times(i),t&&i.c&&i.c.length>t&&(i.c.length=t)}return e<0&&(n=N.div(n)),t?te(n,V,R):n},j.toPrecision=function(e,t){return X(this,null!=e&&U(e,1,b,24,"precision")?0|e:null,t,24)},j.toString=function(e){var t,n=this,r=n.s,i=n.e;return null===i?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(t=_(n.c),t=null!=e&&U(e,2,64,25,"base")?Y(A(t,i),0|e,10,r):i<=L||i>=F?C(t,i):A(t,i),r<0&&n.c[0]&&(t="-"+t)),t},j.truncated=j.trunc=function(){return te(new G(this),this.e+1,1)},j.valueOf=j.toJSON=function(){return this.toString()},null!=t&&G.config(t),G}(),"function"==typeof define&&define.amd)define(function(){return r});else if(void 0!==t&&t.exports){if(t.exports=r,!i)try{i=e("crypto")}catch(e){}}else n.BigNumber=r}(this)},{crypto:211}],548:[function(e,t,n){"use strict";var r=e("global/window"),i=e("is-function"),o=e("parse-headers"),s=e("xtend");function a(e,t,n){var r=e;return i(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=s(t,{uri:e}),r.callback=n,r}function c(e,t,n){return l(t=a(e,t,n))}function l(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,n=function(n,r,i){t||(t=!0,e.callback(n,r,i))};function r(e){return clearTimeout(u),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,v)}function i(){if(!a){var t;clearTimeout(u),t=e.useXDR&&void 0===l.status?200:1223===l.status?204:l.status;var r=v,i=null;return 0!==t?(r={body:function(){var e=void 0;if(e=l.response?l.response:l.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(l),g)try{e=JSON.parse(e)}catch(e){}return e}(),statusCode:t,method:h,headers:{},url:f,rawRequest:l},l.getAllResponseHeaders&&(r.headers=o(l.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),n(i,r,r.body)}}var s,a,l=e.xhr||null;l||(l=e.cors||e.useXDR?new c.XDomainRequest:new c.XMLHttpRequest);var u,f=l.url=e.uri||e.url,h=l.method=e.method||"GET",d=e.body||e.data,p=l.headers=e.headers||{},m=!!e.sync,g=!1,v={body:void 0,headers:{},statusCode:0,method:h,url:f,rawRequest:l};if("json"in e&&!1!==e.json&&(g=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==h&&"HEAD"!==h&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),d=JSON.stringify(!0===e.json?d:e.json))),l.onreadystatechange=function(){4===l.readyState&&setTimeout(i,0)},l.onload=i,l.onerror=r,l.onprogress=function(){},l.onabort=function(){a=!0},l.ontimeout=r,l.open(h,f,!m,e.username,e.password),m||(l.withCredentials=!!e.withCredentials),!m&&e.timeout>0&&(u=setTimeout(function(){if(!a){a=!0,l.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",r(e)}},e.timeout)),l.setRequestHeader)for(s in p)p.hasOwnProperty(s)&&l.setRequestHeader(s,p[s]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(l.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(l),l.send(d||null),l}t.exports=c,c.XMLHttpRequest=r.XMLHttpRequest||function(){},c.XDomainRequest="withCredentials"in new c.XMLHttpRequest?c.XMLHttpRequest:r.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],function(e){c["delete"===e?"del":e]=function(t,n,r){return(n=a(t,n,r)).method=e.toUpperCase(),l(n)}})},{"global/window":304,"is-function":326,"parse-headers":387,xtend:550}],549:[function(e,t,n){t.exports=XMLHttpRequest},{}],550:[function(e,t,n){t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e};var r=Object.prototype.hasOwnProperty},{}],551:[function(e,t,n){"use strict";var r,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o=64,s={},a=0,c=0;function l(e){var t="";do{t=i[e%o]+t,e=Math.floor(e/o)}while(e>0);return t}function u(){var e=l(+new Date);return e!==r?(a=0,r=e):e+"."+l(a++)}for(;c<o;c++)s[i[c]]=c;u.encode=l,u.decode=function(e){var t=0;for(c=0;c<e.length;c++)t=t*o+s[e.charAt(c)];return t},t.exports=u},{}]},{},[1]);
